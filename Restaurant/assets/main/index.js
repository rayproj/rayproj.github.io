System.register("chunks:///_virtual/AreaConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./AreaTool.ts","./RegionTool.ts"],(function(n){"use strict";var t,o,e,i,r,c,a;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,e=n._decorator},function(n){i=n.configName,r=n.default},function(n){c=n.AreaTool},function(n){a=n.RegionTool}],execute:function(){var s;o._RF.push({},"93c0cyv1HtLrolntU67MwCk","AreaConfig",void 0);e.ccclass,e.property;var u=i("areaConfig")(s=function(n){function o(){for(var t,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(t=n.call.apply(n,[this].concat(e))||this)._saveData={},t}return t(o,n),o.prototype.onInit=function(n){a.instance.init(),c.instance.init()},o}(r))||s;n("areaConfig",new u);o._RF.pop()}}}));

System.register("chunks:///_virtual/AreaTool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./FacilityConfig.ts","./ItemConfig.ts","./StarConfig.ts","./TaskConfig.ts","./DataTable.ts","./GoogleFirebase.ts","./FacilityTool.ts","./RegionTool.ts"],(function(t){"use strict";var i,n,e,o,a,r,u,s,c,g,f,l,h,m,_,I;return{setters:[function(t){i=t.createClass,n=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){o=t.cclegacy},function(t){a=t.dataTableManager},function(t){r=t.facilityConfig},function(t){u=t.itemConfig,s=t.EItemEnum},function(t){c=t.starConfig},function(t){g=t.taskConfig,f=t.ETaskType},function(t){l=t.EDataTables},function(t){h=t.eAnalyticsEvent,m=t.googleFirebaser},function(t){_=t.FacilityTool},function(t){I=t.RegionTool}],execute:function(){o._RF.push({},"1d845C7ITpCWa1QzZSvXQDz","AreaTool",void 0);var T={1:h.event_outside,2:h.event_lobby,3:h.event_terrace1,6:h.event_terrace2,7:h.event_terrace3,4:h.event_theater,5:h.event_kitchen};t("AreaTool",function(){function t(){this.m_IsInit=!1,this.m_ConfigMap=new Map,this.m_RegionList=void 0,this.m_SubId=[3,6,7],this.m_RegionId=[1,2,5,3,4],this.m_RegionIdVec=[],this.m_RegionLength=[0,0,0,0,0],this.m_SubToId={},this.m_faIdToRes={},this.m_QuickBuy={},this.m_isTouch={}}var o=t.prototype;return o.getSubId=function(t){return this.m_SubId[t]},o.isSubId=function(t){return this.m_SubId.indexOf(t)},o.getTouchId=function(t){return this.m_isTouch[t]},o.init=function(){var t=n(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.m_IsInit){t.next=2;break}return t.abrupt("return");case 2:return this.m_IsInit=!0,this.m_RegionList={1:{},2:{},5:{},3:{},4:{}},I.instance.init(),t.next=7,this.initConfig();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.initConfig=function(){var t=this;return new Promise((function(i){var n=a.getDataTable(l.Area),e=null,o=0,r=0,u=0;for(var s in n){o=(e=n[s]).Sub_Id;var c=e.RegionType;t.m_ConfigMap.has(e.RegionType)||(t.m_ConfigMap.set(c,[]),t.initRegionList(e),t.m_RegionIdVec.push(c)),t.m_SubToId[o]=parseInt(s),r=e.Facility,t.m_faIdToRes[r]={SName:e.FacilityConfig,IPro:{SNumPro:e.NumPro,SNumType:e.NumType}},0!=(u=e.QuickBuy)&&(t.m_QuickBuy[u]||(t.m_QuickBuy[u]=[]),t.m_QuickBuy[u].push(r)),0!=e.IsTouch&&(t.m_isTouch[r]=u),t.m_ConfigMap.get(c).push(e)}i()}))},o.initRegionList=function(t){var i=t.RegionType,n=I.instance.getRegionData(i).Name;this.m_SubId.indexOf(i)>-1&&(n="3_4"),this.m_RegionList[i]={NRegionType:i,SName:n}},o.getRegionIdToAear=function(t){return this.m_ConfigMap.has(t)?this.m_ConfigMap.get(t):[]},o.getRegionIdLength=function(t){var i=this.m_RegionLength[t];return i>0||(i=this.getRegionIdToAear(t).length,this.m_RegionLength[t]=i),i},o.getSubToAreaConfig=function(t){var i=this.m_SubToId[t];return a.getData(l.Area,i)},o.addTaskSubId=function(t){g.addTaskPro(f.UnlockFacilityType,t)},o.getRegionIdToTableId=function(t){var i=this.getSubToAreaConfig(t);if(!i)return{tableId:-1,areaId:-1};var n=i.RegionType;return{tableId:this.getFacilityToSubId(n,t),areaId:i.RegionType}},o.getFacilityToTableId=function(t,i){for(var n=this.m_ConfigMap.get(t),e=0;e<n.length;e++)if(n[e].Facility==i)return e;return 0},o.getFacilityToSubId=function(t,i){for(var n=this.m_ConfigMap.get(t),e=0;e<n.length;e++)if(n[e].Sub_Id==i)return e;return 0},o.getFacilityToArea=function(t,i){for(var n=this.m_ConfigMap.get(t),e=0;e<n.length;e++)if(n[e].Facility==i)return n[e];return null},o.getUnlockSubId=function(t){var i=this.getSubToAreaConfig(t);if(!i)return!1;var n=i.Facility;return r.isUnlockFacilityTable(n)},o.getFacilityRoot=function(t){var i=this.m_faIdToRes[t];return null!=i?i:null},o.logEvent=function(t){if(t){var i=T[t.RegionType],n=t.FacilityConfig+"_"+t.Sub_Id;m.logEvent(i,n)}},o.getIsBuyVec=function(t){for(var i=this.m_ConfigMap.get(t),n=0;n<i.length;n++){var e=i[n],o=e.Facility,a=e.UnlockStar,g=e.PrerequisiteId,f=e.Gold,l=r.isUnlockFacilityTable(o);if(l){if(l=_.instance.getLockFacility(o))return l}else{var h=this.getSubToAreaConfig(g).Facility;if(l=r.isUnlockFacilityTable(h)){var m=u.itemEnough(s.money,f),I=a>=c.getStar();if(m&&I)return!0}}}return!1},i(t,[{key:"RegionList",get:function(){return this.m_RegionList}},{key:"RegionId",get:function(){return this.m_RegionId}},{key:"RegionIdVec",get:function(){return this.m_RegionIdVec}},{key:"QuickBuy",get:function(){return this.m_QuickBuy}}],[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new t,this.m_Instance.init()),this.m_Instance}}]),t}()).m_Instance=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/AssetHelper.ts",["cc","./Log.ts","./AssetKeeper.ts"],(function(e){"use strict";var t,n,s,r,i,u,o;return{setters:[function(e){t=e.cclegacy,n=e.Asset,s=e.instantiate,r=e.Prefab,i=e.assetManager},function(e){u=e.default},function(e){o=e.AssetKeeper}],execute:function(){t._RF.push({},"396c7aX6wtHG4Msb0l2s13u","AssetHelper",void 0);e("AssetHelper",function(){function e(){}return e.getAssetKeeper=function(e,t){if(e){var n=e.getComponent(o);if(!n){if(t)return e.addComponent(o);var s=e.parent;return s&&s.isValid?this.getAssetKeeper(s,t):null}return n}return null},e.assign=function(e,t,s,r){void 0===s&&(s=!1);var i=t instanceof o?t:this.getAssetKeeper(t,r);return i&&e instanceof n?(i.cacheAsset(e,s),e):(u.error("Assign asset to node failed."),null)},e.instantiate=function(e,t){void 0===t&&(t=!1);var n=s(e),i=null;return e instanceof r?(i=this.getAssetKeeper(n,!0))&&i.cacheAsset(e,i.autoRelease||t):(i=e.getComponent(o))&&n.getComponent(o).copyCache(i),n},e.getBundle=function(e){return i.getBundle(e)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/AssetKeeper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts"],(function(e){"use strict";var t,a,s,r,c,i,o,n,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,s=e.initializerDefineProperty,r=e.assertThisInitialized,c=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,o=e._decorator,n=e.Component},function(e){l=e.default}],execute:function(){var h,u,f,p,d,v;i._RF.push({},"63d23GdShFGzJXOPJ6nZkUx","AssetKeeper",void 0);var C=o.ccclass,m=o.disallowMultiple,_=o.property;e("AssetKeeper",(h=C("AssetKeeper"),u=m(!0),f=_({displayName:"Auto Release",tooltip:"销毁界面时是否自动销毁此界面的绑定资源"}),h(p=u((v=t((d=function(e){function t(){for(var t,a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return t=e.call.apply(e,[this].concat(c))||this,s(t,"autoRelease",v,r(t)),t.m_ReleaseCache=[],t.m_AssetCache=[],t}a(t,e);var i=t.prototype;return i.cacheAsset=function(e,t){void 0===t&&(t=!1);var a=t?this.m_ReleaseCache:this.m_AssetCache;e.addRef(),a.push(e)},i.releaseAsset=function(e,t){void 0===t&&(t=!1);var a=t?this.m_ReleaseCache:this.m_AssetCache;e.decRef(t);var s=a.indexOf(e);s>-1&&a.splice(s,1)},i.onDestroy=function(){this.clearCache(),this.m_ReleaseCache=null,this.m_AssetCache=null},i.clearCache=function(){var e=this,t=this.m_ReleaseCache,a=this.m_AssetCache;t.forEach((function(e){e.decRef()})),a.forEach((function(t){t.decRef(e.autoRelease||!1)})),t.length=a.length=0},i.copyCache=function(e){var t=this.m_ReleaseCache,a=this.m_AssetCache;if(t.length||a.length)l.error("Copy cache failed, There's already a cache.");else{for(var s,r=e.m_ReleaseCache,i=e.m_AssetCache,o=c(r);!(s=o()).done;){var n=s.value;this.cacheAsset(n,!0)}for(var h,u=c(i);!(h=u()).done;){var f=h.value;this.cacheAsset(f,!1)}}},t}(n)).prototype,"autoRelease",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=d))||p)||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/AssetLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,r,t,o;return{setters:[function(e){n=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,t=e.assetManager,o=e.resources}],execute:function(){var a;r._RF.push({},"e0b9fv1t8FEppTzBYnuJFLK","AssetLoader",void 0),function(e){e[e.Files=0]="Files",e[e.Dir=1]="Dir",e[e.Scene=2]="Scene"}(a||(a={}));e("assetLoader",new(function(){function e(){}var r=e.prototype;return r.load=function(e,n,r,t,o){"string"==typeof n||n instanceof Array?this.loadByArgs(e,a.Files,n,r,t,o):this.loadByArgs(null,a.Files,e,n,r,t)},r.loadDir=function(e,n,r,t,o){"string"==typeof n?this.loadByArgs(e,a.Dir,n,r,t,o):this.loadByArgs(null,a.Dir,e,n,r,t)},r.loadScene=function(e,n,r,t,o){"string"==typeof n?this.loadByArgs(e,a.Scene,n,r,t,o):this.loadByArgs(null,a.Scene,e,n,r,t)},r.loadByArgs=function(e,r){for(var a=this,l=arguments.length,s=new Array(l>2?l-2:0),i=2;i<l;i++)s[i-2]=arguments[i];if(e){var c=t.getBundle(e);c?this.loadByBundleAndArgs.apply(this,[c,r].concat(s)):t.loadBundle(e,(function(e,o){if(!e){var l=o.deps;l.length>0?function(){for(var e,i=0,c=0,d=!1,u=function(){d||c!==i||(d=!0,a.loadByBundleAndArgs.apply(a,[o,r].concat(s)))},p=n(l);!(e=p()).done;){var y=e.value;null==t.getBundle(y)&&(i++,t.loadBundle(y,(function(e,n){c++,u()})))}u()}():a.loadByBundleAndArgs.apply(a,[o,r].concat(s))}}))}else this.loadByBundleAndArgs.apply(this,[o,r].concat(s))},r.loadByBundleAndArgs=function(e,n){for(var r=arguments.length,t=new Array(r>2?r-2:0),o=2;o<r;o++)t[o-2]=arguments[o];switch(n){case a.Dir:e.loadDir.apply(e,t);break;case a.Files:e.load.apply(e,t);break;case a.Scene:e.loadScene.apply(e,t)}},e}()));r._RF.pop()}}}));

System.register("chunks:///_virtual/AStarRoadSeeker.ts",["cc","./Log.ts"],(function(t){"use strict";var e,s;return{setters:[function(t){e=t.cclegacy},function(t){s=t.default}],execute:function(){e._RF.push({},"f38b8NrSHNAy6BJbj3Wps6W","AStarRoadSeeker",void 0);t("default",function(){function t(t){this.COST_STRAIGHT=10,this.COST_DIAGONAL=14,this.m_MaxStep=1e3,this.m_OpenList=[],this.m_Closelist=[],this.m_StartNode=void 0,this.m_CurrentNode=void 0,this.m_TargetNode=void 0,this.m_MapRoadNodes=void 0,this.m_Round=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],this.m_Optimize=!1,this.m_ResNodes=void 0,this.m_MapRoadNodes=t}var e=t.prototype;return e.seekPath=function(t,e,i){this.m_StartNode=t,this.m_CurrentNode=t,this.m_TargetNode=e;var r=i||[];if(r.length=0,!t||!e)return s.debug("Invalid startNode or targetNode..."),r;if(t==e)return r;if(0==e.value)return s.debug("The target is out of reach..."),r;var n=this.m_OpenList,o=this.m_Closelist;n.length=0,o.length=0;for(var h=0,a=this.m_MaxStep;;){if(h>a)return s.debug("No target found with step:",h),r;if(h++,this.searchRoundNodes(this.m_CurrentNode),0==n.length)return s.debug("No target found with step:",h),r;if(n.sort(this.sortNode),this.m_CurrentNode=n.shift(),this.m_CurrentNode==e)return this.getPath(r);o.push(this.m_CurrentNode)}},e.sortNode=function(t,e){return t.f<e.f?-1:t.f>e.f?1:0},e.getPath=function(t){for(var e=t||[],s=this.m_StartNode,i=this.m_TargetNode;i!=s;)e.unshift(i),i=i.parent;if(e.unshift(s),!this.m_Optimize)return e;for(var r=1;r<e.length-1;r++){var n=e[r-1],o=e[r],h=e[r+1],a=o.wx==n.wx&&o.wx==h.wx,u=o.wy==n.wy&&o.wy==h.wy,d=(o.wx-n.wx)/(o.wy-n.wy)*((h.wx-o.wx)/(h.wy-o.wy))==1;(a||u||d)&&(e.splice(r,1),r--)}return e},e.isArriveBetweenTwoNodes=function(t,e){if(t==e)return!1;var s=Math.abs(e.wx-t.wx),i=Math.abs(e.wy-t.wy),r=0;e.wx>t.wx?r=1:e.wx<t.wx&&(r=-1);var n=0;e.wy>t.wy?n=1:e.wy<t.wy&&(n=-1);var o=this.m_MapRoadNodes;if(s>i)for(var h=i/s,a=0;a<s;a++){var u=t.wy+a*n*h,d=t.wx+a*r,w=Math.round(u),f=d+a*r,N=Math.round(u+a*n*h),y=o[this.getKey(d,w)],_=o[this.getKey(f,N)];if(!this.isCrossAtAdjacentNodes(y,_))return!1}else for(var g=s/i,m=0;m<i;m++){var x=t.wx+m*r*g,v=Math.round(x),c=t.wy+m*n,p=Math.round(x+m*r*g),l=c+m*n,C=o[this.getKey(v,c)],S=o[this.getKey(p,l)];if(!this.isCrossAtAdjacentNodes(C,S))return!1}return!0},e.isCrossAtAdjacentNodes=function(t,e){if(t==e)return!1;if(!this.isPassNode(t)||!this.isPassNode(e))return!1;var s=e.wx-t.wx,i=e.wy-t.wy;if(Math.abs(s)>1||Math.abs(i)>1)return!1;if(t.wx==e.wx||t.wy==e.wy)return!0;var r=this.m_MapRoadNodes;return!(!this.isPassNode(r[this.getKey(t.wx,t.wy+i)])||!this.isPassNode(r[this.getKey(t.wx+s,t.wy)]))},e.isPassNode=function(t){return!(!t||0==t.value)},e.getKey=function(t,e){return t+"_"+e},e.searchRoundNodes=function(t){for(var e=this.m_Round,s=this.m_MapRoadNodes,i=e.length,r=0;r<i;r++){var n=e[r],o=t.wx+n[0],h=t.wy+n[1],a=s[this.getKey(o,h)];null==a||a==this.m_StartNode||0==a.value||this.isInCloseList(a)||this.inInCorner(a)||this.setNodeF(a)}},e.setNodeF=function(t){var e=this.m_CurrentNode,s=0;if(s=t.wx==e.wx||t.wy==e.wy?e.g+this.COST_STRAIGHT:e.g+this.COST_DIAGONAL,this.isInOpenList(t)){if(!(s<t.g))return;t.g=s}else t.g=s,this.m_OpenList.push(t);t.parent=e;var i=this.m_TargetNode;t.h=(Math.abs(i.wx-t.wx)+Math.abs(i.wy-t.wy))*this.COST_STRAIGHT,t.f=t.g+t.h},e.isInOpenList=function(t){return-1!=this.m_OpenList.indexOf(t)},e.isInCloseList=function(t){return-1!=this.m_Closelist.indexOf(t)},e.inInCorner=function(t){var e=this.m_CurrentNode,s=this.m_MapRoadNodes;if(t.wx==e.wx||t.wy==e.wy)return!1;var i=s[this.getKey(e.wx,t.wy)],r=s[this.getKey(t.wx,e.wy)];return!this.isPassNode(i)||!this.isPassNode(r)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioAgent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"77af8Nd5XNM0oJgJdIL5y97","AudioAgent",void 0);e("AudioAgent",function(){function e(e,t){this.m_AudioGroup=void 0,this.m_AgentHelper=void 0,this.m_AudioClip=void 0,this.m_SetClipTime=void 0,this.m_VolumeInGroup=void 0,this.serialId=void 0,this.priority=void 0,this.m_AudioGroup=e,this.m_AgentHelper=t,this.m_AgentHelper.setReset(this.reset.bind(this)),this.serialId=0,this.m_AudioClip=null,this.reset()}var i=e.prototype;return i.play=function(e){this.m_AgentHelper.play(e)},i.stop=function(e){this.m_AgentHelper.stop(e)},i.pause=function(e){this.m_AgentHelper.pause(e)},i.resume=function(e){this.m_AgentHelper.resume(e)},i.setClip=function(e){this.reset(),e.addRef(),this.m_AudioClip=e,this.m_SetClipTime=Date.now(),this.m_AgentHelper.setClip(e)},i.refreshVolume=function(){var e=this.m_AudioGroup.volume,t=this.m_AgentHelper;t.lerping?t.refreshGroupVolume(e):t.volume=e*this.m_VolumeInGroup},i.reset=function(){var e=this.m_AgentHelper;e.reset(),null!=this.m_AudioClip&&(this.m_AudioClip.decRef(!1),this.m_AudioClip=null),this.m_SetClipTime=0,e.audioSource&&(this.currentTime=0,this.loop=!1,this.volumeInGroup=1)},t(e,[{key:"audioGroup",get:function(){return this.m_AudioGroup}},{key:"playing",get:function(){return this.m_AgentHelper.playing}},{key:"duration",get:function(){return this.m_AgentHelper.duration}},{key:"volume",get:function(){return this.m_AgentHelper.volume}},{key:"helper",get:function(){return this.m_AgentHelper}},{key:"setClipTime",get:function(){return this.m_SetClipTime}},{key:"currentTime",get:function(){return this.m_AgentHelper.currentTime},set:function(e){this.m_AgentHelper.currentTime=e}},{key:"loop",get:function(){return this.m_AgentHelper.loop},set:function(e){this.m_AgentHelper.loop=e}},{key:"volumeInGroup",get:function(){return this.m_VolumeInGroup},set:function(e){this.m_VolumeInGroup=e,this.refreshVolume()}}]),e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioAgentHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JSUtils.ts"],(function(e){"use strict";var i,t,o,u,n,r,s;return{setters:[function(e){i=e.inheritsLoose,t=e.createClass},function(e){o=e.cclegacy,u=e._decorator,n=e.AudioSource,r=e.Component},function(e){s=e.default}],execute:function(){var m;o._RF.push({},"a3321RlnT5MfYwkTXTDY+cd","AudioAgentHelper",void 0);var l=u.ccclass,c=(u.property,u.requireComponent);e("AudioAgentHelper",l("AudioAgentHelper")(m=c(n)(m=function(e){function o(){for(var i,t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];return(i=e.call.apply(e,[this].concat(o))||this).m_AudioSource=void 0,i.m_ResetHandler=void 0,i.m_GroupVolume=1,i.m_Lerping0=!1,i.m_Volume0=0,i.m_Volume1=0,i.m_Timer0=0,i.m_Duration0=0,i.m_Handler0=void 0,i.m_Playing=!1,i}i(o,e);var u=o.prototype;return u.onLoad=function(){var e=this;this.m_AudioSource=this.getComponent(n),this.m_AudioSource.playOnAwake=!1,this.node.on(n.EventType.ENDED,(function(){e.m_Playing=!1}),this)},u.onDestroy=function(){this.node.targetOff(this)},u.play=function(e){void 0===e&&(e=0);var i=this.m_AudioSource;if(i.play(),this.m_Playing=!0,e>0){var t=i.volume;i.volume=0,this.resetLerp(0,t,e,null)}},u.stop=function(e){var i=this;void 0===e&&(e=0);var t=this.m_AudioSource;e>0?this.resetLerp(this.volume,0,e,(function(){t.stop(),i.m_Playing=!1})):(t.stop(),this.m_Playing=!1)},u.pause=function(e){void 0===e&&(e=0);var i=this.m_AudioSource;e>0?this.resetLerp(this.volume,0,e,(function(){i.pause()})):i.pause()},u.resume=function(e){void 0===e&&(e=0),this.play(e)},u.reset=function(){this.m_AudioSource&&(this.m_AudioSource.clip=null),this.m_Lerping0=!1,this.m_Timer0=this.m_Volume0=this.m_Volume1=this.m_Duration0=0,this.m_Handler0=null,this.m_Playing=!1},u.setClip=function(e){this.m_AudioSource.clip=e},u.setReset=function(e){this.m_ResetHandler=e},u.refreshGroupVolume=function(e){this.m_GroupVolume=e},u.update=function(e){this.playing||null==this.m_AudioSource.clip||this.m_ResetHandler&&this.m_ResetHandler(),this.m_Lerping0&&(this.m_Timer0<this.m_Duration0?this.fadeIn(e):(this.m_Lerping0=!1,this.m_AudioSource.volume=this.m_GroupVolume*this.m_Volume1,this.m_Handler0&&this.m_Handler0()))},u.resetLerp=function(e,i,t,o){this.m_Lerping0=!1,this.m_Volume0=e,this.m_Volume1=i,this.m_Timer0=0,this.m_Duration0=t,this.m_Handler0=o,this.m_Lerping0=!0},u.fadeIn=function(e){var i=this.m_AudioSource;this.m_Timer0+=e,i.volume=this.m_GroupVolume*s.lerp(this.m_Volume0,this.m_Volume1,this.m_Timer0/this.m_Duration0)},t(o,[{key:"lerping",get:function(){return this.m_Lerping0}},{key:"audioSource",get:function(){return this.m_AudioSource}},{key:"playing",get:function(){return this.m_Playing}},{key:"duration",get:function(){return this.m_AudioSource.duration}},{key:"currentTime",get:function(){return this.m_AudioSource.currentTime},set:function(e){this.m_AudioSource.currentTime=e}},{key:"loop",get:function(){return this.m_AudioSource.loop},set:function(e){this.m_AudioSource.loop=e}},{key:"volume",get:function(){return this.m_AudioSource.volume},set:function(e){this.m_AudioSource.volume=e}}]),o}(r))||m)||m);o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioAgentHelper.ts","./AudioManager.ts"],(function(t){"use strict";var e,o,i,n,r,a,u,l,s,d,p,c,m,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,i=t.inheritsLoose,n=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,u=t._decorator,l=t.CCString,s=t.CCInteger,d=t.CCFloat,p=t.Node,c=t.Component},function(t){m=t.AudioAgentHelper},function(t){A=t.audioManager}],execute:function(){var f,h,g,_,y,v,C,b,w,R,I,G,z,N,T,M,P,k;a._RF.push({},"da863jR2JhOwrgBOTrkseV0","AudioComponent",void 0);var D=u.ccclass,F=u.property,H=u.menu,L=u.disallowMultiple,j=(f=D("AudioGroupEditor"),h=F(l),g=F(s),f((v=e((y=function(){o(this,"name",v,this),o(this,"agentNum",C,this)}).prototype,"name",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Music"}}),C=e(y.prototype,"agentNum",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),_=y))||_);t("AudioComponent",(b=D("AudioComponent"),w=H("Framework/Audio"),R=F({type:d,displayName:"Auto Release Interval",tooltip:"自动释放音频资源的间隔"}),I=F({type:p,displayName:"Audio Root",tooltip:"音频组的根节点"}),G=F({type:[j],displayName:"Audio Groups",tooltip:"设置声音组列表"}),b(z=w(z=L(((k=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"m_AutoClearInterval",T,n(e)),o(e,"m_AudioRoot",M,n(e)),o(e,"m_AudioGroups",P,n(e)),e.m_Timer=0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){e.m_Instance=this},a.start=function(){if(!this.m_AudioRoot){var t=new p("Audio Root");t.setParent(this.node),this.m_AudioRoot=t}for(var e=this.m_AudioGroups,o=0;o<e.length;o++){var i=e[o];this.addAudioGroup(i.name,i.agentNum)}},a.addAudioGroup=function(t,e){if(!A.hasAudioGroup(t)){var o=new p(t);o.setParent(this.m_AudioRoot),A.addAudioGroup(t,o);for(var i=0;i<e;i++)this.addAudioAgent(t,i+1,o)}},a.addAudioAgent=function(t,e,o){var i=new p("Agent "+e),n=i.addComponent(m);i.setParent(o),A.addAudioAgent(t,n)},a.onDestroy=function(){e.m_Instance=null,A.clear()},a.update=function(t){this.m_Timer+=t,this.m_Timer>=this.m_AutoClearInterval&&(this.m_Timer=0,A.releaseClips())},r(e,null,[{key:"instance",get:function(){return this.m_Instance}}]),e}(c)).m_Instance=void 0,T=e((N=k).prototype,"m_AutoClearInterval",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),M=e(N.prototype,"m_AudioRoot",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(N.prototype,"m_AudioGroups",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=N))||z)||z)||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/AudioGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./ReferencePool.ts","./AudioAgent.ts"],(function(e){"use strict";var t,o,i,n,u,r;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,o=e.createClass},function(e){i=e.cclegacy},function(e){n=e.default},function(e){u=e.default},function(e){r=e.AudioAgent}],execute:function(){i._RF.push({},"4e217Y7m91J8q6W8Cql3/Pn","AudioGroup",void 0);e("AudioGroup",function(){function e(e,t){this.m_Name=void 0,this.m_Node=void 0,this.m_AudioAgents=void 0,this.m_Volume=void 0,this.m_Name=e,this.m_Node=t,this.m_AudioAgents=[],this.m_Volume=1}var i=e.prototype;return i.addAgent=function(e){this.m_AudioAgents.push(new r(this,e))},i.play=function(e,t,o){for(var i=null,r=this.m_AudioAgents,s=0;s<r.length;s++){var a=r[s];if(!a.playing){i=a;break}a.priority<o.priority&&(null==i||a.priority<i.priority)&&(i=a)}if(null!=i){i.setClip(t),i.serialId=e;var l=0,d=!1,m=0,f=1,c=0;return o&&(l=o.currentTime,d=o.loop,m=o.priority,f=o.volume,c=o.fadeIn,u.recover(o)),i.loop=d,i.priority=m,i.volumeInGroup=f,i.play(c),i.currentTime=l,i}n.debug("Ignore "+t.name+" audio.")},i.stop=function(e,o){for(var i,n=t(this.m_AudioAgents);!(i=n()).done;){var u=i.value;if(u.serialId==e){u.stop(o);break}}},i.pause=function(e,o){for(var i,n=t(this.m_AudioAgents);!(i=n()).done;){var u=i.value;if(u.serialId==e){u.pause(o);break}}},i.pauseAll=function(e){for(var o,i=t(this.m_AudioAgents);!(o=i()).done;){o.value.pause(e)}},i.resume=function(e,o){for(var i,n=t(this.m_AudioAgents);!(i=n()).done;){var u=i.value;if(u.serialId==e){u.resume(o);break}}},i.resumeAll=function(e){for(var o,i=t(this.m_AudioAgents);!(o=i()).done;){o.value.resume(e)}},i.stopAll=function(e){for(var o,i=t(this.m_AudioAgents);!(o=i()).done;){var n=o.value;n.helper.audioSource?n.playing&&n.stop(e):n.reset()}},o(e,[{key:"name",get:function(){return this.m_Name}},{key:"node",get:function(){return this.m_Node}},{key:"audioAgentCount",get:function(){return this.m_AudioAgents.length}},{key:"volume",get:function(){return this.m_Volume},set:function(e){this.m_Volume=e;for(var o,i=t(this.m_AudioAgents);!(o=i()).done;){o.value.refreshVolume()}}}]),e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./JSUtils.ts","./AssetLoader.ts","./AudioGroup.ts"],(function(o){"use strict";var i,u,t,r,e,s,n,d,a;return{setters:[function(o){i=o.createForOfIteratorHelperLoose,u=o.createClass},function(o){t=o.cclegacy,r=o.AudioClip,e=o.assetManager},function(o){s=o.default},function(o){n=o.default},function(o){d=o.assetLoader},function(o){a=o.AudioGroup}],execute:function(){t._RF.push({},"2a9ffCi6nZAJ6N8lxBOJOMH","AudioManager",void 0);var l=o("AudioManager",function(){function o(){this.m_SerialId=0,this.m_AudioGroups={},this.m_AudioLoading=[],this.m_AudioStopOnLoad=[],this.m_AudioLoadedAll=[]}var t=o.prototype;return t.getAllAudioGroups=function(){var o=[],i=this.m_AudioGroups;for(var u in i)o.push(i[u]);return o},t.hasAudioGroup=function(o){return!!this.m_AudioGroups[o]},t.getAudioGroup=function(o){return this.m_AudioGroups[o]},t.addAudioGroup=function(o,i){this.hasAudioGroup(o)?s.error("The same group already exists."):this.m_AudioGroups[o]=new a(o,i)},t.addAudioAgent=function(o,i){this.getAudioGroup(o).addAgent(i)},t.getAllLoadingIds=function(){return this.m_AudioLoading},t.isLoadingAudio=function(o){return this.m_AudioLoading.indexOf(o)>-1},t.play=function(o,i){var u=this,t=++this.m_SerialId,e=this.getAudioGroup(o.group);if(e){if(!(e.audioAgentCount<=0))return this.m_AudioLoading.push(t),d.load(o.bundle,o.path,r,(function(o,r){var n=u.m_AudioStopOnLoad,d=n.indexOf(t);if(d>-1)n.splice(d,1);else{var a=u.m_AudioLoading,l=a.indexOf(t);if(l>-1&&a.splice(l,1),o)s.error(o);else{var p=u.m_AudioLoadedAll;p.indexOf(r)<0&&p.push(r),e.play(t,r,i)}}})),t;s.error("Audio group "+o.group+" is have no audio agent.")}else s.error("Audio group "+o.group+" is not exist.")},t.stop=function(o,i){if(void 0===i&&(i=0),this.isLoadingAudio(o)){this.m_AudioStopOnLoad.push(o);var u=this.m_AudioLoading,t=u.indexOf(o);t>-1&&u.splice(t,1)}else{var r=this.m_AudioGroups;for(var e in r){r[e].stop(o,i)}}},t.stopAll=function(o){void 0===o&&(o=0);var i=this.m_AudioGroups;for(var u in i){i[u].stopAll(o)}},t.stopAllLoadingAudio=function(){for(var o,u=i(this.m_AudioLoading);!(o=u()).done;){var t=o.value;this.m_AudioStopOnLoad.push(t)}this.m_AudioLoading.length=0},t.pause=function(o,i){void 0===i&&(i=0);var u=this.m_AudioGroups;for(var t in u){u[t].pause(o,i)}},t.pauseAll=function(o){void 0===o&&(o=0);var i=this.m_AudioGroups;for(var u in i){i[u].pauseAll(o)}},t.resume=function(o,i){void 0===i&&(i=0);var u=this.m_AudioGroups;for(var t in u){u[t].resume(o,i)}},t.resumeAll=function(o){void 0===o&&(o=0);var i=this.m_AudioGroups;for(var u in i){i[u].resumeAll(o)}},t.clear=function(){this.stopAll(),this.releaseClips(),n.clearMap(this.m_AudioGroups),this.stopAllLoadingAudio()},t.releaseClips=function(){for(var o=this.m_AudioLoadedAll,i=0;i<o.length;i++){var u=o[i];u.refCount<=0&&(e.releaseAsset(u),o.splice(i,1),i--)}},u(o,[{key:"groupCount",get:function(){return Object.keys(this.m_AudioGroups).length}}]),o}());o("audioManager",new l);t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioPlayParams.ts",["cc","./ReferencePool.ts"],(function(i){"use strict";var t,o;return{setters:[function(i){t=i.cclegacy},function(i){o=i.default}],execute:function(){t._RF.push({},"31cfd1J3OFMaa0AhU5TAyI+","AudioPlayParams",void 0);i("AudioPlayParams",function(){function i(){this.currentTime=void 0,this.loop=void 0,this.volume=void 0,this.fadeIn=void 0,this.priority=void 0}return i.prototype.clear=function(){this.volume=1,this.currentTime=this.fadeIn=this.priority=0,this.loop=!1},i.get=function(t,e,r,n,u){void 0===t&&(t=0),void 0===e&&(e=1),void 0===r&&(r=!1),void 0===n&&(n=0),void 0===u&&(u=0);var s=o.get(i);return s.currentTime=u,s.loop=r,s.volume=e,s.fadeIn=n,s.priority=t,s},i}());t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioTool.ts",["cc","./Log.ts","./AudioManager.ts","./AudioPlayParams.ts","./SettingConfig.ts","./GameUtility.ts"],(function(n){"use strict";var i,u,e,o,t,a;return{setters:[function(n){i=n.cclegacy},function(n){u=n.default},function(n){e=n.audioManager},function(n){o=n.AudioPlayParams},function(n){t=n.settingConfig},function(n){a=n.EGameBundles}],execute:function(){var _,r,c;n({EAudioGroup:void 0,EMusicType:void 0,ESoundType:void 0}),i._RF.push({},"c56e5feYG9Fv6j02KMZwqlG","AudioTool",void 0),function(n){n.Music="Music",n.Sound="Sound"}(_||(_=n("EAudioGroup",{}))),function(n){n.bg="bg"}(r||(r=n("EMusicType",{}))),function(n){n.ui_click="ui_click",n.cat="cat",n.ui_mini_game_over="mini_game_over",n.ui_mini_game_main_bg="mini_game_main_bg",n.ui_unlock="ui_unlock",n.ui_nextpage="ui_nextpage",n.ui_open="ui_open",n.ui_shop_getmoney="ui_shop_getmoney",n.ui_shop_getitem="ui_shop_getitem"}(c||(c=n("ESoundType",{})));var m={bg:{name:"find",loop:!0},ui_click:{name:"sound_ui_common_chick"},cat:{name:"Sound_Cat_02"},mini_game_over:{name:"sound_GamePanleEnd"},mini_game_main_bg:{name:"sound_PS6Game"},ui_unlock:{name:"sound_ui_unlock"},ui_nextpage:{name:"sound_ui_nextpage"},ui_open:{name:"sound_ui_open"},ui_shop_getmoney:{name:"sound_getmoney"},ui_shop_getitem:{name:"sound_getmoney"}};n("AudioTool",function(){function n(){}return n.play=function(n){var i=this.getAudioPlayParams(n),o=this.getIAudioConfig(n);if(!o)return u.debug("Audio Play error : "+n);o.group===_.Sound&&1!=t.sound||e.play(o,i)},n.getAudioPlayParams=function(n){var i=o.get(),u=m[n];return u&&(i.loop=1==u.loop,i.currentTime=u.currentTime||0,i.volume=u.volume||1,i.fadeIn=u.fadeIn||0,i.priority=u.priority||1),i},n.getIAudioConfig=function(n,i){return{bundle:i||this.getBundle(n),path:this.getPath(n),group:this.getGroup(n)}},n.getPath=function(n){var i=m[n],u="";return r[n]?u="Res/Audio/Music/"+i.name:c[n]&&(u="Res/Audio/Sound/"+i.name),u},n.getBundle=function(n){return a.LoadOnPlay},n.getGroup=function(n){var i="";return r[n]?i=_.Music:c[n]&&(i=_.Sound),i},n}());i._RF.pop()}}}));

System.register("chunks:///_virtual/AuditoriumConstruct.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./FacilityConfig.ts","./FacilityTool.ts","./EventUtility.ts","./Lobby.ts","./LobbyNode.ts","./LobbyUtility.ts","./StaffTaskQueue.ts","./ConstructBase.ts","./ConstructDesk.ts","./ConstructMgr.ts","./InitialUnlockNode.ts","./KitchenCookMgr.ts","./SceneMemuMgr.ts"],(function(t){"use strict";var e,s,i,n,o,a,r,d,c,u,h,l,f,k,m,D,p,S,g,C,v,_,y,L;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,i=t._decorator,n=t.Vec3,o=t.randomRangeInt},function(t){a=t.eventDispatcher},function(t){r=t.facilityConfig},function(t){d=t.FacilityTool},function(t){c=t.MEventNames},function(t){u=t.Lobby},function(t){h=t.LobbyNode},function(t){l=t.ELobbyLayer,f=t.MLobbyEvent,k=t.ELobbyServeDishes},function(t){m=t.EStaffTaskType},function(t){D=t.EStaffNameVec,p=t.ConstructBase,S=t.EConstructName},function(t){g=t.ConstructDesk},function(t){C=t.ConstructMgr},function(t){v=t.InitialUnlockNode},function(t){_=t.KitchenCookMgr},function(t){y=t.ESceneMenuData,L=t.SceneMemuMgr}],execute:function(){var N;s._RF.push({},"56cf6ZtcoxMh7n/wAWUv5Bt","AuditoriumConstruct",void 0);var U=i.ccclass;i.property,t("AuditoriumConstruct",U("AuditoriumConstruct")(N=function(t){function s(){for(var e,s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).m_DeskLst={},e.m_LuxuryLst=void 0,e.m_SortLst=[],e.m_restoreVec=["Stages"],e.m_constructName=S.Auditorium,e.LuxuryDeskId=15,e.m_DeskIdAdd=11,e}e(s,t);var i=s.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this),C.instance.registerConstruct(this.m_constructName,this),this.registerUpdateConstruct("Desk",this.UpdateDesk),this.registerUpdateConstruct("LuxuryDesk",this.UpdateLuxuryDesk),this.registerUpdateConstruct("Partition1",this.UpdateAnyConstruct),this.registerUpdateConstruct("Floor",this.UpdateFloor),this.registerUpdateConstruct("Ground1",this.updateGround1),this.registerUpdateConstruct("Stages",this.updateStages),this.initMaxDesk()},i.start=function(){var t=this.m_ConstructMap.Initial;this.setScaleNode(t)},i.AllRoomLoaded=function(){this.getStaffConfig(),this.getLobbyConfig(),this.registerInitialTips(),this.registerConstruct()},i.registerConstruct=function(){var t=u.instance.getDynNode(l.Auditorium);this.m_SortNode=t,this.UpdateAreaUnlock(this.m_constructName)},i.UpdateAreaUnlock=function(t){if(t==this.m_constructName){var e=this.checkInitial("Initial",this.m_constructName);this.updateAllConstruct(t),!e&&this.UpdateDeskMax(this.m_constructName)}},i.instartChild=function(t){l.Auditorium},i.getStaffConfig=function(){var t=h.instance,e=h.instance.staffConfig,s=e.idlePos;s=null==s?{}:s;var i=this.m_ConstructMap[D.Idle];this.registerAllPos(i,s,l.Auditorium,(function(t){return t.position.clone()})),e.idlePos=s,t.onStaffConfigInited()},i.getLobbyConfig=function(){var t=h.Config,e=this.m_ConstructMap[D.Stagespoint],s=this.getNodeAllPos(e);t.actorPos=s[0],t.actorRestPos=s[1];var i=this.m_ConstructMap[D.Stairpiont];t.audTransferPos=this.getNodeAllPos(i),h.instance.initConfig(t)},i.initEvent=function(){a.on(f.InitDynamicNode,this,this.instartChild),a.on(f.AllRoomLoaded,this,this.AllRoomLoaded),a.on(f.CustomerSitDown,this,this.OnCustomerSitDown),a.on(f.ServeDished,this,this.OnServeDished),a.on(f.PayEating,this,this.OnPayEating),a.on(f.PayEated,this,this.OnPayEated),a.on(f.ClearEatTable,this,this.OnClearEatTable),a.on(c.UpdateAreaUnlock,this,this.UpdateAreaUnlock),a.on(c.UpdateAllAreaUnlock,this,this.UpdateAllAreaUnlock),a.on(f.OrderDished,this,this.OnOrderDished),a.on(f.StartDine,this,this.OnStartDine),a.on(f.OrderDished,this,this.OnOrderDished),a.on(f.UpdateDeskMax,this,this.UpdateDeskMax)},i.removeEvent=function(){a.off(f.InitDynamicNode,this,this.instartChild),a.off(f.AllRoomLoaded,this,this.AllRoomLoaded),a.off(f.CustomerSitDown,this,this.OnCustomerSitDown),a.off(f.ServeDished,this,this.OnServeDished),a.off(f.PayEating,this,this.OnPayEating),a.off(f.PayEated,this,this.OnPayEated),a.off(f.ClearEatTable,this,this.OnClearEatTable),a.off(c.UpdateAreaUnlock,this,this.UpdateAreaUnlock),a.off(c.UpdateAllAreaUnlock,this,this.UpdateAllAreaUnlock),a.off(f.StartDine,this,this.OnStartDine),a.off(f.OrderDished,this,this.OnOrderDished),a.off(f.UpdateDeskMax,this,this.UpdateDeskMax)},i.OnCustomerSitDown=function(t){if(this.m_DeskLst[t]){var e={eMenuStart:y.Order,data:{handler:f.OrderDishes,hanlderData:t},task:{taskHandler:m.OrderDishes,taskData:t}};this.setDeskSceneMenuState(t,e)}},i.OnServeDished=function(t,e){if(this.m_DeskLst[t]){var s=_.instance.getCookOrderId(t,e);s&&this.updateSceneFoodServce(s,e)}},i.OnCustomerLeaveEating=function(t){this.m_DeskLst[t]&&this.resetDeskStarte(t)},i.OnPayEating=function(t){if(this.m_DeskLst[t]){this.resetWare(t);var e={eMenuStart:y.PayABill,data:{handler:f.PayEating3,hanlderData:t,subHandle:f.PayEating2},task:{taskHandler:m.Cashier,taskData:t}};this.setDeskSceneMenuState(t,e)}},i.OnPayEated=function(t,e){void 0===e&&(e=!0),this.m_DeskLst[t]&&a.event(f.ClearEatTableing,[t,e])},i.OnClearEatTable=function(t){this.m_DeskLst[t]&&this.resetDeskStarte(t)},i.setDeskSceneMenuState=function(t,e){var s=this.m_DeskLst[t];if(s){var i=s.getTipsPostion();e.worldPosition=C.instance.getSceneTipsPos(i),L.instance.showTips(e)}},i.updateSceneFoodServce=function(t,e){var s=t.NdeskId,i=this.m_DeskLst[s];i&&i.updateSceneFoodType(t,e)},i.resetDeskStarte=function(t){var e=_.instance.CookOrder[t];if(e){e=null;var s=this.m_DeskLst[t];s&&s.resetDeskSceneFood()}},i.resetWare=function(t){var e=this.m_DeskLst[t];if(e){var s=_.instance.CookOrder[t];s&&e.udpateReset(s)}},i.initDesk=function(){var t=this.m_ConstructMap.Desk;this.m_DeskLst=t.getComponentsInChildren(g);var e=this.m_ConstructMap.LuxuryDesk;this.m_LuxuryLst=e.getComponentsInChildren(g)},i.registerSortNode=function(t){for(var e=0;e<this.m_SortLst.length;e++){var s=this.m_SortLst[e],i=this.m_ConstructMap[s];i=i.children[0],this.switchNode(t,i),this.m_StayInstant[s]=[i]}},i.registerDeskToSortNode=function(t,e,s,i){void 0===i&&(i=!0);var n=e.getComponent(g);(n=null==n?e:n).registerSortAllNode(this.m_SortNode),this.registerETable(t,n,s),i||this.registerDesk(t,n)},i.registerDesk=function(t,e){var s=this.m_DeskLst[t];s&&s.removeSortLst(),this.m_DeskLst[t]=e},i.registerETable=function(t,e,s){var i=h.instance.eatTables[t];i=e.registerETable(t,i,s),h.instance.eatTables[t]=i},i.UpdateDesk=function(t,e,s,i,n,o){e.updateNode(s,i),e.registerDeskToSortNode(n+e.m_DeskIdAdd,i,o,!1)},i.UpdateLuxuryDesk=function(t,e,s,i,n,o){e.updateNode(s,i),e.registerDeskToSortNode(e.LuxuryDeskId,i,o,!1)},i.registerInitialTips=function(){var t=this.m_ConstructMap.Initial;if(t){var e=t.getComponentsInChildren(v);if(0!=e.length)for(var s in e){e[s].initUnlockNode(this.m_constructName,parseInt(s))}}},i.UpdateAllAreaUnlock=function(){this.UpdateAreaUnlock(this.m_constructName)},i.isDesk=function(t){return 0==Object.keys(this.m_DeskLst).length||null==this.m_DeskLst[t]},i.UpdateFloor=function(t,e,s,i,n){e.updateNode(s,i),e.switchStairs(e.m_SortNode)},i.updateGround1=function(t,e,s,i,n){e.updateNode(s,i),e.switchGround1(e.m_SortNode)},i.switchGround1=function(t){var e=this.m_ConstructMap.Ground1;e=e.children[0],this.setSortNodeVer("Ground1",e),this.switchNode(t,e)},i.switchStairs=function(t){var e=this.m_ConstructMap.Floor.getComponentInChildren("ConstructRoomWall").UpdateSecond(l.Auditorium);this.setSortNodeVer("Stairs",e)},i.updateStages=function(t,e,s,i,n){e.updateNode(s,i),e.switchStages(e.m_SortNode)},i.switchStages=function(t){var e=this.m_ConstructMap.Stages.getComponentInChildren("ConstructRoomWall").UpdateSecond(l.Auditorium);this.setSortNodeVer("Stages",e)},i.onCookingEnd=function(t,e,s){if(!(t<this.m_DeskIdAdd)){var i={eMenuStart:s==k.HotPot?y.OrderBowl:y.ServerTDishes,task:s==k.HotPot?{taskHandler:m.ServeHotPot,taskData:t}:{taskHandler:m.ServeDishes,taskData:t},data:{handler:f.ServeDished,hanlderData:[t,s],subHandle:f.ServeDishes}},o=this.m_DeskLst[t];console.assert(null!=o,"deskId = "+t+" to null");var a=o.getTipsPostion();i.worldPosition=C.instance.getSceneTipsPos(a),i.scale=new n(.8,.8,1),L.instance.showTips(i)}},i.OnStartDine=function(t,e){if(!(t<this.m_DeskIdAdd)){var s={eMenuStart:y.StartDine},i=this.m_DeskLst[t];console.assert(null!=i,"deskId = "+t+" to null");var n=i.getTimePostion();s.worldPosition=C.instance.getSceneTipsPos(n),L.instance.showTimeTips(s,e)}},i.OnOrderDished=function(t){var e=t.NdeskId;if(!(e<this.m_DeskIdAdd)){var s=o(0,t.NbowlId.length),i={eMenuStart:t.NbowlId[s],data:{handler:f.ImmediatelyCookEnd,hanlderData:e,subHandle:f.StartDine,findHanndle:f.ServeDishes}},n=this.m_DeskLst[e];console.assert(null!=n,"deskId = "+e+" to null");var a=n.getTimePostion();i.worldPosition=C.instance.getSceneTipsPos(a),L.instance.showCookEnd(i)}},i.initMaxDesk=function(){r.registerMaxDeskId(this.m_constructName,this.m_DeskIdAdd-1),d.instance.registerMaxDeskId(this.m_constructName,this.LuxuryDeskId)},i.UpdateDeskMax=function(t){t==this.m_constructName&&this.CheckNobuiltDesk(this.m_constructName)},i.CheckNobuiltDesk=function(t){var e=r.facliityMaxDesk[t];if(d.instance.LobbyDeskMaxId[t]<e)this.removeSortLst("NoBuildDesk");else{10==e&&(e=15);var s=d.instance.SubIdToDeskId[e];if(r.isUnlockFacilityTable(s))this.removeSortLst("NoBuildDesk");else{var i=d.instance.getSubIdChildIdToData(s,0);this.updateNoBuiltDesk(i.Id,e)}}},i.getNoBuiltDesk=function(t){var e="Desk",s=this.m_ConstructMap[e];if(null==s)return null;var i=t-this.m_DeskIdAdd;return 15==t&&(s=this.m_ConstructMap.LuxuryDesk,i=0),e="NoBuiltDesk",{construct:s=0==s.children.length?s:s.children[i],prfabUrl:"Map/NobuilDesk/Desk_initial_1",name:e}},s}(p))||N);s._RF.pop()}}}));

System.register("chunks:///_virtual/BillingConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./EventBuiltin.ts","./DataTableManager.ts","./DataTable.ts"],(function(n){"use strict";var t,e,i,o,r,l,u,a;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){i=n.cclegacy},function(n){o=n.configName,r=n.default},function(n){l=n.eventDispatcher},function(n){u=n.dataTableManager},function(n){a=n.EDataTables}],execute:function(){var f;i._RF.push({},"95178CwZHRHv7Y+3hiWcsOc","BillingConfig",void 0);var s=o("billingConfig")(f=function(n){function i(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this)._orderId=1,t._flyerCount=-1,t.storyed={},t}t(i,n);var o=i.prototype;return o.onInit=function(n){var t,e,i=this,o=u.getDataTable(a.Constant),r=(null==(t=o[42])?void 0:t.Value)||10,f=(null==(e=o[43])?void 0:e.Value)||180;-1==this._flyerCount&&(this._flyerCount=r),setInterval((function(){i._flyerCount<r&&(i._flyerCount++,l.event("billingConfig._flyerCount"))}),1e3*f),l.event("billingConfig._flyerCount")},o.getAddOrderId=function(){return this._orderId++},o.addStory=function(n){this.storyed[n]=1},o.addFlyerCount=function(n){this._flyerCount+=n,l.event("billingConfig._flyerCount")},o.useFlyerCount=function(n){void 0===n&&(n=1),this._flyerCount>=n&&(this._flyerCount-=n),l.event("billingConfig._flyerCount")},e(i,[{key:"orderId",get:function(){return this._orderId}},{key:"flyerCount",get:function(){return this._flyerCount}}]),i}(r))||f;n("billingConfig",new s);i._RF.pop()}}}));

System.register("chunks:///_virtual/BillingNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtils.ts"],(function(i){"use strict";var n,e,t,l,r,o,a,s,c,u;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,l=i.assertThisInitialized},function(i){r=i.cclegacy,o=i._decorator,a=i.Animation,s=i.Label,c=i.Component},function(i){u=i.default}],execute:function(){var p,b,d,f,g,h,m;r._RF.push({},"b0dedwawOdMrYzVBointZos","BillingNode",void 0);var y=o.ccclass,v=o.property;i("BillingNode",(p=y("BillingNode"),b=v(a),d=v(s),p((h=n((g=function(i){function n(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n=i.call.apply(i,[this].concat(r))||this,t(n,"billingAnim",h,l(n)),t(n,"numLab",m,l(n)),n}e(n,i);var r=n.prototype;return r.onDisable=function(){this.billingAnim.stop()},r.init=function(i){var n=this;this.numLab.string="+"+i,this.billingAnim.play(),this.scheduleOnce((function(){u.remove(n.node)}),1.5)},n}(c)).prototype,"billingAnim",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=n(g.prototype,"numLab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/BillingView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./JSUtils.ts","./List.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./BillingConfig.ts","./BuffConfig.ts","./FoodConfig.ts","./NoviceGuideMgr.ts","./LobbyRoomData.ts","./LobbyUtility.ts","./StaffActor.ts","./DataTable.ts","./EventUtility.ts","./UITool.ts"],(function(t){"use strict";var e,i,n,o,r,l,a,s,u,c,f,g,m,h,b,d,p,y,_,v,T,C,L,B,I,N,w,D,z;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Label,s=t.Node},function(t){u=t.eventDispatcher},function(t){c=t.default},function(t){f=t.default},function(t){g=t.dataTableManager},function(t){m=t.LocalizationHelper},function(t){h=t.uiManager},function(t){b=t.UIView},function(t){d=t.billingConfig},function(t){p=t.buffConfig,y=t.EBuffType},function(t){_=t.foodConfig},function(t){v=t.NoviceGuideMgr,T=t.EGuideStep,C=t.EGuideClickEnum},function(t){L=t.LobbyRoomData,B=t.ELobbyRoomId},function(t){I=t.MLobbyEvent},function(t){N=t.StaffActor},function(t){w=t.EDataTables},function(t){D=t.MEventNames},function(t){z=t.UITool}],execute:function(){var P,k,S,E,M,G,F,V,U,R,A,H,O,W,Y,j,x,J,q;r._RF.push({},"b7ae9k2d29G4b7fETYeSH5y","BillingView",void 0);var K=l.ccclass,Q=l.property;t("BillingView",(P=K("BillingView"),k=Q(a),S=Q(a),E=Q(a),M=Q(a),G=Q(a),F=Q(a),V=Q(f),U=Q(s),P((H=e((A=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,n(e,"tableName",H,o(e)),n(e,"orderId",O,o(e)),n(e,"orderTime",W,o(e)),n(e,"customerNum",Y,o(e)),n(e,"consume",j,o(e)),n(e,"profit",x,o(e)),n(e,"dishesList",J,o(e)),n(e,"okBtn",q,o(e)),e.m_Dishes=[],e.m_Profit=0,e.m_TableId=void 0,e}i(e,t);var r=e.prototype;return r.onOpen=function(t,e,i){u.on(D.guideClick,this,this.guideClick),u.on(D.refreshGuildPos,this,this.refreshGuildPos),this.m_TableId=t,this.tableName.string=this.getTableName(t),this.customerNum.string=m.getString("39_2")+" "+e,this.orderId.string=m.getString("39_3")+" "+d.orderId,this.orderTime.string=m.getString("39_4")+" "+this.getTime();var n=g.getDataTable(w.Food),o=_.foodConfigList,r=0,l=0;for(var a in i){var s=n[a],c=i[a],f="push";c<0&&(c=-c,f="unshift");var h=o[parseInt(a)].price,b=s.Buy;r+=h*c,l+=b*c,this.m_Dishes[f]([m.getString(s.Name),c,h,b])}this.m_Profit=(r-l)*N.getProfit(this.m_TableId)*(1+p.getBuffNum(y.AccountIncomeAdd)),this.m_Profit=Math.floor(this.m_Profit),this.consume.string=r+"",this.profit.string=this.m_Profit+"",this.dishesList.numItems=this.m_Dishes.length,this.scheduleOnce((function(){v.instance.isNeedShowNoviceView(T.Guide_GameBegin)}),.6)},r.onClose=function(){this.m_Profit=0,this.m_TableId=-1,this.m_Dishes.length=0,this.dishesList.numItems=0,u.offAllCaller(this)},r.refreshGuildPos=function(t){t.click==C.layerButton&&this.okBtn.getWorldPosition(z.instance.guideHandWorldPos)},r.guideClick=function(t){t.click==C.layerButton&&this.onOkClick()},r.update=function(t){},r.onListTabVRender=function(t,e){t.active=!0;var i=this.m_Dishes[e];t.getChildByName("nameLab").getComponent(a).string=i[0],t.getChildByName("numLab").getComponent(a).string=i[1]+"",t.getChildByName("priceLab").getComponent(a).string=i[2]+"",t.getChildByName("costLab").getComponent(a).string=i[3]+""},r.onOkClick=function(){u.event(I.PayEated,[this.m_TableId,!0]),h.closeView(this)},r.getTableName=function(t){var e=L.getTableRoom(t);return e==B.Lobby?""+m.getString("39_12")+(t+1):e==B.Private?""+m.getString("39_13")+(t-4+1):""+m.getString("39_14")+(t-7+1)},r.getTime=function(){var t=new Date;return t.getFullYear()+"-"+c.zeroFill(t.getMonth()+1)+"-"+c.zeroFill(t.getDate())+" "+c.zeroFill(t.getHours())+":"+c.zeroFill(t.getMinutes())},e}(b)).prototype,"tableName",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(A.prototype,"orderId",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(A.prototype,"orderTime",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(A.prototype,"customerNum",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(A.prototype,"consume",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(A.prototype,"profit",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(A.prototype,"dishesList",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(A.prototype,"okBtn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=A))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/BookItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ListItem.ts","./LocalizationHelper.ts","./FacilityConfig.ts","./StarConfig.ts","./FacilityTool.ts","./ResourceTool.ts"],(function(t){"use strict";var e,i,n,a,o,r,c,s,l,u,f,b,h,g,m,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,c=t.Sprite,s=t.Label,l=t.Node,u=t.Color},function(t){f=t.default},function(t){b=t.LocalizationHelper},function(t){h=t.facilityConfig},function(t){g=t.starConfig},function(t){m=t.FacilityTool},function(t){p=t.ResourceTool}],execute:function(){var y,d,I,L,S,v,k,N,_,M,D,F,z,B,U,w,C;o._RF.push({},"a873enY8fJBGZ44XOU8cvVB","BookItem",void 0);var T=r.ccclass,Q=r.property,R=t("QueryId","999");t("BookItem",(y=T("BookItem"),d=Q(c),I=Q(s),L=Q(s),S=Q(l),v=Q(s),k=Q(l),N=Q(s),y((D=e((M=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"ItemIcon",D,a(e)),n(e,"StartLab",F,a(e)),n(e,"ItemName",z,a(e)),n(e,"MoneryNode",B,a(e)),n(e,"MoneryLab",U,a(e)),n(e,"MarkNode",w,a(e)),n(e,"LockLab",C,a(e)),e.m_Data=null,e}i(e,t);var o=e.prototype;return o.initCell=function(t){if(this.m_Data=t,t){var e=t?t.Name:"";e=e==R||-1==e?"":b.getString(e),this.ItemName.string=e,this.setIcon(t.Icon),this.setItem()}},o.setItem=function(){var t=this.m_Data.Sub_id,e=this.m_Data.Id,i=this.m_Data.Star,n=this.m_Data.Name,a=h.isUnlockFacilityId(t,e),o=0==i||g.getStar()>=i;a&&o?n==R?this.setLockQuery(t,e):this.setUnlockState(t,e):n==R?this.setLockQuery(t,e):this.setLockState(t,e)},o.setEnable=function(){var t=this.m_Data.Sub_id,e=this.m_Data.ID;h[t]=e},o.setIcon=function(t){p.setSpriteFrame(m.instance.getIconBundleName(),m.instance.getItemIconUrl(t),this.ItemIcon,this.node)},o.setUnlockState=function(t,e){var i=h.getFacilityEnableId(t,e),n=1==i?"16_8":"16_10",a=i?"#FFFFFF":"000000",o=i?"#34BA2D":"#BB6C21";this.setLabelState(n,2,o,a),this.StartLab.node.active=!0,this.MoneryNode.active=!1,this.MarkNode.active=!1},o.setLockState=function(t,e){var i=m.instance.getIsUnlock(e),n=this.getIsUnlock(e);if(this.MoneryNode.active=n,this.MarkNode.active=!n,this.LockLab.string=b.getString("16_20"),this.StartLab.node.active=!this.MarkNode.active,n){var a=i.gold;this.MoneryLab.string=""+a,this.StartLab.node.active=!1}},o.setLockQuery=function(t,e){this.MoneryNode.active=!1;var i=this.getIsUnlock(e);this.MarkNode.active=!i,this.StartLab.node.active=i,i&&(this.StartLab.string=b.getString("1_26"),this.StartLab.color=new u("#C33E39"))},o.setLabelState=function(t,e,i,n){this.StartLab.string=b.getString(t),i&&(this.StartLab.node.getComponent(s).color=new u(i))},o.getIsUnlock=function(t){var e=m.instance.getIsUnlock(t);this.MoneryNode.active=!1;var i=this.m_Data.Star,n=0==i||g.getStar()>=i;return e.isUnlock&&n},e}(f)).prototype,"ItemIcon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(M.prototype,"StartLab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(M.prototype,"ItemName",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(M.prototype,"MoneryNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(M.prototype,"MoneryLab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(M.prototype,"MarkNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(M.prototype,"LockLab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=M))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/BookNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./List.ts","./AreaTool.ts","./BookTable.ts"],(function(t){"use strict";var e,n,i,a,o,r,l,s,c,u,d,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass,r=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator,u=t.Component},function(t){d=t.default},function(t){h=t.AreaTool},function(t){p=t.BookTable}],execute:function(){var T,f,b,I,g;s._RF.push({},"5bc1buEnWFDWp/BT9C63kWo","BookNode",void 0);var m=c.ccclass,v=c.property;t("BookNode",(T=m("BookNode"),f=v(d),T((g=e((I=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"listView",g,a(e)),e.m_TableId=1,e.m_TableData={},e}n(e,t);var s=e.prototype;return s.onLoad=function(){var t=r(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initTableData();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.scrollTo=function(t,e){var n=this;this.listView.scrollTo(t,0),e&&this.scheduleOnce((function(){n.scrollToItemId(t,e)}))},s.scrollToItemId=function(t,e){var n=this.listView.getItemByListId(t);null!=n&&n.getComponent(p).ListView.scrollTo(e,0)},s.onListVRender=function(t,e){var n=t.getComponent(p),i=this.getTableData(e);n.initTable(i)},s.updateTable=function(t){t=null==this.m_TableData[t]?1:t;var e=this.m_TableData[t].NTableLength;this.listView.numItems=e,this.listView.updateAll(),this.updateTableInitItem()},s.updateAll=function(){this.listView.updateAll()},s.updateTableInitItem=function(){for(var t=this.listView.contentChild.length-1;t>=0;t--){this.listView.contentChild[t].getComponent(p).setInitSelectId()}},s.initTableData=function(){var t=this;return new Promise((function(e){var n=h.instance.RegionList;for(var i in n){var a=parseInt(i),o=n[i].NRegionType,r={NTableId:a,NCategoryId:o,NTableLength:h.instance.getRegionIdLength(o),AArearList:h.instance.getRegionIdToAear(o)};t.m_TableData[o]=r}e()}))},s.getTableData=function(t){var e=this.m_TableId,n=this.m_TableData[e];return{NCategoryId:n.NCategoryId,NId:e,IAreaData:n.AArearList[t]}},o(e,[{key:"TabelId",get:function(){return this.m_TableId},set:function(t){this.m_TableId=t,this.updateTable(t)}}]),e}(u)).prototype,"listView",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=I))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/BookTable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./List.ts","./ListItem.ts","./LocalizationHelper.ts","./UIManager.ts","./FacilityConfig.ts","./GoodReputationConfig.ts","./ItemConfig.ts","./StarConfig.ts","./AreaTool.ts","./FacilityTool.ts","./LobbyCameraControl.ts","./LobbyRoomData.ts","./LobbyUtility.ts","./EventUtility.ts","./UIConfig.ts","./BookItem.ts"],(function(t){"use strict";var i,e,n,o,a,l,r,c,s,u,f,d,g,m,p,b,v,h,k,y,I,S,L,T,U,_,C;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,r=t.Node,c=t.Label},function(t){s=t.eventDispatcher},function(t){u=t.default},function(t){f=t.default},function(t){d=t.LocalizationHelper},function(t){g=t.uiManager},function(t){m=t.facilityConfig},function(t){p=t.EGoodReputationEnum,b=t.goodReputationConfig},function(t){v=t.itemConfig,h=t.EItemEnum},function(t){k=t.starConfig},function(t){y=t.AreaTool},function(t){I=t.FacilityTool},function(t){S=t.LobbyCameraControl},function(t){L=t.ELobbyRoomId},function(t){T=t.MLobbyEvent},function(t){U=t.MEventNames},function(t){_=t.MUIConfig},function(t){C=t.BookItem}],execute:function(){var w,D,V,F,A,R,N,B,E,z,M,G,P;a._RF.push({},"a058eoThzlFFoaPD5BVyPhj","BookTable",void 0);var q=l.ccclass,j=l.property,H=t("popGoodReputationId",[21902,10401,51402]),x=t("popEnmuGood",[p.lobbyFlowerUnlock,p.queenAreaUnlock,p.coldCupboardUnlock]);t("BookTable",(w=q("BookTable"),D=j(u),V=j(r),F=j(c),A=j(c),R=j(r),w((E=i((B=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return i=t.call.apply(t,[this].concat(a))||this,n(i,"ListView",E,o(i)),n(i,"UnlockNode",z,o(i)),n(i,"TilteLab",M,o(i)),n(i,"MoneyLab",G,o(i)),n(i,"unlockTitle",P,o(i)),i.m_Id=0,i.m_Facility=0,i.m_Data=[],i.m_AreaData=null,i}e(i,t);var a=i.prototype;return a.start=function(){},a.initTable=function(t){this.m_Id=t.NId;var i=t.IAreaData,e=i.Facility;this.m_Data=I.instance.getFacility(e),this.m_AreaData=i;var n=i.Name;this.TilteLab.string=d.getString(n),this.UnlockNode.active=!1,this.unlockTitle.active=!1;var o=this.getIsUnlock(i),a=o.isUnlock;a||this.setUnlock(o),this.initListView(a)},a.initListView=function(t){if(this.ListView.node.active=t,t){var i=this.m_Data.length;this.ListView.numItems=i}},a.onListVRender=function(t,i){var e=t.getComponent(C),n=this.m_Data[i];n&&e.initCell(n)},a.onListSelected=function(t,i,e,n){if(t){var o=this.m_Data[i];if("999"==o.Name){var a=t.getComponent(C).MarkNode.active?d.getString("33_31",[k.getStarNameByStar(o.Star)]):d.getString("1_26");g.openView(_.TipView,null,{content:a})}else g.openView(_.RenovationConfigView,null,o.Id);this.ListView.selectedId=-1}},a.setUnlock=function(t){var i=t.prerequisiteId,e=this.unlockTitle.children,n=null!=i;if(n){var o=y.instance.getSubToAreaConfig(i).Name;e[0].getComponentsInChildren(c)[1].string=d.getString(o)}e[0].active=n;var a=t.unlockStar;if(n=null!=a&&k.getStar()<a){var l=e[1].getComponentsInChildren(c)[1],r=k.getStarNameByStar(a);l.string=r}if(e[1].active=n,e[0].active||e[1].active)this.unlockTitle.active=!0;else{var s=t.gold;this.UnlockNode.active=!0,this.MoneyLab.string=s+""}},a.onUnlockBtn=function(){var t=this.m_AreaData.Gold;v.useItem(h.money,t)?this.unlockTable():g.openView(_.ShopDepotView)},a.onUnlockStar=function(){var t=this.m_AreaData.UnlockStar,i=k.getStarNameByStar(t);g.openView(_.TipView,null,{content:d.getString("16_13",[i])})},a.unlockTable=function(){var t=this.m_Data[0],i=t.Sub_id,e=t.Id,n=t.AreaType;m.unlockFacilityId(i,e),m.setEnableFacility(i,e);var o=this.m_AreaData.Sub_Id;y.instance.addTaskSubId(o),y.instance.logEvent(this.m_AreaData),this.checkGoodReputation(i),s.event(T.UpdateConstructItem,[n,e,i]),s.event(U.RenovationSelectItem);var a=y.instance.isSubId(n);a=-1!=a?L.Private:n,S.instance.jumpToRoomId(a)},a.getIsUnlock=function(t){var i=t.Facility,e=m.isUnlockFacilityTable(i);if(e)return{isUnlock:e};var n=t.PrerequisiteId,o=t.UnlockStar,a=t.Gold;if(0==n&&0==o&&0==a)return{isUnlock:e=!0};if(0!=n){var l=y.instance.getSubToAreaConfig(n).Facility;if(!(e=m.isUnlockFacilityTable(l)))return{isUnlock:e,prerequisiteId:n,unlockStar:o,gold:a}}return(e=k.getStar()<=o)&&0!=a?{isUnlock:e=!1,unlockStar:o,gold:a}:e||0!=a?{isUnlock:e=!1,gold:a}:{isUnlock:e=!0}},a.setInitSelectId=function(){if(this.m_Data){this.ListView.numItems>0&&this.ListView.updateAll();for(var t=0;t<this.m_Data.length;t++){var i=this.m_Data[t];m.getFacilityEnableId(i.Sub_id,i.Id)&&this.ListView.scrollTo(t,0)}}},a.checkGoodReputation=function(t){var i=H.indexOf(t);-1!=i&&b.canReputate(x[i])},i}(f)).prototype,"ListView",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(B.prototype,"UnlockNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(B.prototype,"TilteLab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(B.prototype,"MoneyLab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(B.prototype,"unlockTitle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=B))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/BuffConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./EventBuiltin.ts","./DataTableManager.ts","./FacilityConfig.ts","./DataTable.ts","./EventUtility.ts"],(function(t){"use strict";var e,i,f,u,n,a,o,r,c,d;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,f=t._decorator},function(t){u=t.configName,n=t.default},function(t){a=t.eventDispatcher},function(t){o=t.dataTableManager},function(t){r=t.facilityConfig},function(t){c=t.EDataTables},function(t){d=t.MEventNames}],execute:function(){var s;t({EBuffSource:void 0,EBuffType:void 0}),i._RF.push({},"dd8581IiWhDRKx4B/yqmqsj","BuffConfig",void 0);var b,l;f.ccclass,f.property;!function(t){t[t.OrderTimeSub=1]="OrderTimeSub",t[t.EatTimeSub=2]="EatTimeSub",t[t.MakePotTimeSub=3]="MakePotTimeSub",t[t.MeatPriceAdd=4]="MeatPriceAdd",t[t.AccountIncomeAdd=5]="AccountIncomeAdd",t[t.AccountSpAdd=6]="AccountSpAdd",t[t.WineInComeAdd=7]="WineInComeAdd",t[t.CustomerSpAdd=8]="CustomerSpAdd",t[t.WaitTimeAdd=9]="WaitTimeAdd",t[t.FreshPriceAdd=10]="FreshPriceAdd",t[t.WishSpAdd=11]="WishSpAdd",t[t.MakeSnackTimeSub=12]="MakeSnackTimeSub",t[t.DrinkInComeAdd=13]="DrinkInComeAdd",t[t.DishInComeAdd=14]="DishInComeAdd",t[t.MaskFoodTimeSub=15]="MaskFoodTimeSub",t[t.OffLineNum=16]="OffLineNum",t[t.MoneyUp=17]="MoneyUp",t[t.HalveTime=18]="HalveTime"}(b||(b=t("EBuffType",{}))),function(t){t[t.LuckyTurntable=1]="LuckyTurntable",t[t.ContactAd=2]="ContactAd"}(l||(l=t("EBuffSource",{})));var T=t("BuffConfig",u("BuffConfig")(s=function(t){function i(){for(var e,i=arguments.length,f=new Array(i),u=0;u<i;u++)f[u]=arguments[u];return(e=t.call.apply(t,[this].concat(f))||this).buffData={},e.tableBuff={},e}e(i,t);var f=i.prototype;return f.onInit=function(t){},f.ChangeBuff=function(t,e,i){void 0===e&&(e=[]);for(var f=o.getDataTable(c.Attribute),u={},n=0;n<t.length;n++)if(t[n]){var r=f[t[n]];u[r.Type]=r.Attribute,null!=i?(this.tableBuff[i]||(this.tableBuff[i]={}),this.tableBuff[i][r.Type]||(this.tableBuff[i][r.Type]=0),this.tableBuff[i][r.Type]+=r.Attribute):(this.buffData[r.Type]||(this.buffData[r.Type]=0),this.buffData[r.Type]+=r.Attribute)}for(var s=0;s<e.length;s++)if(e[s]){var b=f[e[s]];u[b.Type]&&b.Attribute>u[b.Type]?null!=i?this.tableBuff[i][b.Type]-=u[b.Type]:this.buffData[b.Type]-=u[b.Type]:null!=i?this.tableBuff[i][b.Type]-=b.Attribute:this.buffData[b.Type]-=b.Attribute}a.event(d.ChangeBuff)},f.getBuffNum=function(t,e){return t==b.OffLineNum?r.OfflineBuff:null!=e?this.tableBuff[e]&&this.tableBuff[e][t]?t==b.EatTimeSub?this.tableBuff[e][t]:this.tableBuff[e][t]/1e3:0:this.buffData[t]?t==b.EatTimeSub?this.buffData[t]:this.buffData[t]/1e3:0},i}(n))||s);t("buffConfig",new T);i._RF.pop()}}}));

System.register("chunks:///_virtual/BuffTimelinessConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./EventBuiltin.ts","./UnbiasedTime.ts","./EventUtility.ts"],(function(t){"use strict";var e,i,n,f,u,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.default},function(t){f=t.eventDispatcher},function(t){u=t.unbiasedTimer},function(t){a=t.MEventNames}],execute:function(){i._RF.push({},"a6c5aHKLxFLB4ZC3Q65oSzg","BuffTimelinessConfig",void 0);var s=t("BuffTimelinessConfig",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),f=0;f<i;f++)n[f]=arguments[f];return(e=t.call.apply(t,[this].concat(n))||this).buffData={},e}e(i,t);var n=i.prototype;return n.ChangeBuff=function(t,e,i,n){var s=u.now;this.buffData[t]||(this.buffData[t]={}),this.buffData[t][e]||(this.buffData[t][e]={value:i,time:0});var r=this.buffData[t][e];r.time<s?r.time=s+1e3*n:r.time+=1e3*n,f.event(a.homepageBuffRefresh,{type:t,source:e,value:i})},n.getBuffNum=function(t){var e=this.buffData[t];if(!e)return 0;var i=u.now,n=0;for(var f in e)e[f].time>i&&(n+=e[f].value);return n/100},n.getBuffTime=function(t,e){return this.buffData[t]&&this.buffData[t][e]?this.buffData[t][e].time:0},i}(n));t("buffTimelinessConfig",new s);i._RF.pop()}}}));

System.register("chunks:///_virtual/CEatState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts"],(function(t){"use strict";var n,e,s,c;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy},function(t){c=t.FsmState}],execute:function(){s._RF.push({},"72b37gagm1NTYnVepoh8zg9","CEatState",void 0),t("CEatState",function(t){function s(){return t.apply(this,arguments)||this}n(s,t);var c=s.prototype;return c.onEnter=function(t,n){},c.onExecute=function(t,n){},c.onExit=function(t){},e(s,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new s),this.m_Instance}}]),s}(c)).m_Instance=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/CGoEatState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts","./LobbyOutsideNode.ts","./LobbyUtility.ts"],(function(t){"use strict";var n,e,o,i,s,a,c;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,i=t.v3},function(t){s=t.FsmState},function(t){a=t.LobbyOutsideNode},function(t){c=t.ELobbyLayer}],execute:function(){o._RF.push({},"6b62eD7FoRI4bBTTbJwaWOz","CGoEatState",void 0),t("CGoEatOutsideState",function(t){function o(){for(var n,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(n=t.call.apply(t,[this].concat(o))||this).m_Vec0=i(),n}n(o,t);var s=o.prototype;return s.onEnter=function(t){var n=a.instance.getQueueArea(t.startPos)[0],e=this.m_Vec0;e.set(n),t.seekPath(e,!0),t.animAgent.move()},s.onExecute=function(t,n){},s.onExit=function(t){},s.onPathEnd=function(t){t.animAgent.idle(),t.endGoEatOutside()},e(o,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new o),this.m_Instance}}]),o}(s)).m_Instance=void 0,t("CGoEatState",function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var i=o.prototype;return i.onEnter=function(t){t.seekPath(a.Config.doorPos,!0),t.animAgent.move()},i.onExecute=function(t,n){},i.onExit=function(t){},i.onPathEnd=function(t){t.dynLayer==c.LobbyOutside+""?t.endOutside():t.endInside()},e(o,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new o),this.m_Instance}}]),o}(s)).m_Instance=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/ChangeNameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./PlayerBaseConfig.ts","./EventUtility.ts"],(function(e){"use strict";var t,i,n,a,r,o,s,c,l,u,g,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.EditBox},function(e){c=e.eventDispatcher},function(e){l=e.LocalizationHelper},function(e){u=e.uiManager},function(e){g=e.UIView},function(e){p=e.playerBaseConfig},function(e){f=e.MEventNames}],execute:function(){var h,m,d,y,v;r._RF.push({},"fbc11/P7HFNb65Y0Cs4oUTF","ChangeNameView",void 0);var E=o.ccclass,w=o.property;e("ChangeNameView",(h=E("ChangeNameView"),m=w(s),h((v=t((y=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"nameEdit",v,a(t)),t}i(t,e);var r=t.prototype;return r.onOpen=function(){this.nameEdit.string=l.getString("1_24")},r.editEnd=function(){this.nameEdit.string&&""!=this.nameEdit.string||(this.nameEdit.string=l.getString("1_24"))},r.clickOK=function(){p.playerName=this.nameEdit.string,c.event(f.ChangeName),u.closeView(this)},t}(g)).prototype,"nameEdit",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/ChangeNameViewNew.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./ItemConfig.ts","./PlayerBaseConfig.ts","./EventUtility.ts","./AudioTool.ts","./UIConfig.ts"],(function(t){"use strict";var e,i,n,o,a,s,r,c,u,l,m,p,g,f,h,d,w,C,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.EditBox,c=t.Label},function(t){u=t.eventDispatcher},function(t){l=t.LocalizationHelper},function(t){m=t.uiManager},function(t){p=t.UIView},function(t){g=t.EItemEnum,f=t.itemConfig},function(t){h=t.playerBaseConfig},function(t){d=t.MEventNames},function(t){w=t.AudioTool,C=t.ESoundType},function(t){y=t.MUIConfig}],execute:function(){var N,E,_,I,v,V,b;a._RF.push({},"3a447+SJ6xJppNqqAD/AxWN","ChangeNameViewNew",void 0);var L=s.ccclass,z=s.property;t("ChangeNameViewNew",(N=L("ChangeNameViewNew"),E=z(r),_=z(c),N((V=e((v=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"nameEdit",V,o(e)),n(e,"costLab",b,o(e)),e.m_CostNum=50,e.m_CostItem=g.diamond,e}i(e,t);var a=e.prototype;return a.onOpen=function(){this.nameEdit.string="",this.costLab.string=this.m_CostNum+"",this.nameEdit.placeholder=l.getString("41_11")},a.editEnd=function(){"string"!=typeof this.nameEdit.string&&(this.nameEdit.string="")},a.clickClose=function(){w.play(C.ui_click),m.closeView(this)},a.clickOK=function(){w.play(C.ui_click),""!=this.nameEdit.string?f.getItemNum(this.m_CostItem)<this.m_CostNum?m.openView(y.TipView,null,{content:l.getString("41_15")}):(h.playerName=this.nameEdit.string,f.useItem(this.m_CostItem,this.m_CostNum),u.event(d.ChangeName),m.closeView(this)):m.openView(y.TipView,null,{content:l.getString("41_14")})},e}(p)).prototype,"nameEdit",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(v.prototype,"costLab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=v))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/CircleView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./SDKInfoMgr.ts"],(function(e){"use strict";var i,t,n,o,r,s,c,l,a,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,c=e.Node,l=e.Component},function(e){a=e.default},function(e){u=e.SDKInfoMgr}],execute:function(){var f,p,h,d,g;r._RF.push({},"03be0g9uHxK6asQf0imsLY/","CircleView",void 0);var w=s.ccclass,y=s.property;e("CircleView",(f=w("CircleView"),p=y(c),f((g=i((d=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i=e.call.apply(e,[this].concat(r))||this,n(i,"circle_node",g,o(i)),i.showTimes=0,i}t(i,e);var r=i.prototype;return r.onEnable=function(){this.showTimes=10},r.onDisable=function(){this.showTimes=0},r.update=function(e){this.circle_node.angle-=4,this.circle_node.angle%=360,this.showTimes>0?this.showTimes-=e:(a.info("...SDkLoading closeself..."),1==u.sdkGetType&&u.noNetwork(),this.node.active=!1)},i}(l)).prototype,"circle_node",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=d))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/CLeaveState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./FsmState.ts","./NodeUtils.ts","./LobbyUtility.ts"],(function(t){"use strict";var n,e,i,o,s,u,a;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy},function(t){o=t.eventDispatcher},function(t){s=t.FsmState},function(t){u=t.default},function(t){a=t.MLobbyEvent}],execute:function(){i._RF.push({},"ff53aS1PPFEgZo8fBvTVkoO","CLeaveState",void 0),t("CLeaveOutsideState",function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var s=i.prototype;return s.onEnter=function(t,n){t.seekPath(t.startPos),t.animAgent.move(),n||(t.startAngry(!1),o.event(a.CustomerLeaveWait,[t.group]))},s.onExecute=function(t,n){},s.onExit=function(t){},s.onPathEnd=function(t){u.remove(t.node)},e(i,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new i),this.m_Instance}}]),i}(s)).m_Instance=void 0,t("CLeaveState",function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var s=i.prototype;return s.onEnter=function(t,n){t.startLeaveEat(),n&&o.event(a.CustomerLeaveWaitIns,[t.group])},s.onExecute=function(t,n){},s.onExit=function(t){},s.onPathEnd=function(t){t.startOutside()},e(i,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new i),this.m_Instance}}]),i}(s)).m_Instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/CommonComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,e,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,r=t.Component}],execute:function(){var i;o._RF.push({},"4b4fagmdsND44+XOjDONM6d","CommonComponent",void 0);var c=e.ccclass;e.property,t("CommonComponent",c("CommonComponent")(i=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).m_Timer=0,n.longUpdateDelta=1,n}n(o,t);var e=o.prototype;return e.onEnable=function(){this.m_Timer=0},e.start=function(){},e.update=function(t){this.m_Timer+=t,this.m_Timer>=this.longUpdateDelta&&(this.m_Timer=0,this.longUpdate())},e.longUpdate=function(){},o}(r))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/CommonTalkNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtils.ts"],(function(e){"use strict";var t,r,n,o,a,i,l,s,m,u,c,f,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,l=e.Label,s=e.UITransform,m=e.size,u=e.Layers,c=e.Overflow,f=e.Component},function(e){p=e.default}],execute:function(){var d,h,T,_,v,b,g,k;a._RF.push({},"9a205fI00ZO5Ki47paMA1RA","CommonTalkNode",void 0);var y=i.ccclass,z=i.property;e("CommonTalkNode",(d=y("CommonTalkNode"),h=z(l),T=z(s),d((b=t((v=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,n(t,"m_Adapte",b,o(t)),n(t,"m_TalkLab",g,o(t)),n(t,"m_BgTransform",k,o(t)),t.m_TalkTransform=void 0,t.m_Size0=m(),t}r(t,e);var a=t.prototype;return a.onDisable=function(){this.unscheduleAllCallbacks(),p.setLayer(u.Enum.DEFAULT,this.node)},a.refresh=function(e,t,r){var n=this;void 0===t&&(t=1);var o=this.m_TalkLab;if(o.string=e,this.scheduleOnce((function(){p.remove(n.node),r&&r()}),t),this.m_Adapte){o.overflow=c.NONE,o.updateRenderData(!0),this.m_TalkTransform||(this.m_TalkTransform=o.node.getComponent(s));var a=this.m_TalkTransform,i=this.m_Size0;a.width>300&&(i.set(300,45),a.setContentSize(i),o.overflow=c.RESIZE_HEIGHT,o.updateRenderData(!0));var l=a.width+40,m=a.height+17,u=l<=150?150:l,f=m<=62?62:m;i.set(u,f),this.m_BgTransform.setContentSize(i)}},t}(f)).prototype,"m_Adapte",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=t(v.prototype,"m_TalkLab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(v.prototype,"m_BgTransform",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=v))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/Configable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts"],(function(e){"use strict";var n,i,t,r;return{setters:[function(e){n=e.createClass},function(e){i=e.cclegacy},function(e){t=e.eventDispatcher,r=e.MEventBuiltin}],execute:function(){e({configName:function(e){return function(n){Object.defineProperty(n.prototype,o,{value:e})}},deserialize:function(e){return function(n,i){n.hasOwnProperty(f)||Object.defineProperty(n,f,{value:{}}),n[f][i]=e}}}),i._RF.push({},"941aaDolONJapyW7cbXcRD2","Configable",void 0);var o="__configName__",f="__deserialize__";e("default",function(){function e(n){if(void 0===n&&(n=!0),n){var i=this.configName;if(i){var t=e.s_ConfigMap;t[i]||(t[i]=this)}}}e.serialize=function(){return JSON.stringify(e.s_ConfigMap)},e.newDayRefresh=function(){var n=e.s_ConfigMap;for(var i in n)n[i].newDayRefresh()},e.deserialize=function(n){if(n){var i=e.s_ConfigMap,o=JSON.parse(n);for(var f in o)this.des(o[f],i[f])}t.event(r.InitConfig)},e.des=function(e,n){var i=n[f];if(e&&n)for(var t in e)if(n.hasOwnProperty(t)){var r=e[t];i&&i[t]?(n[t]=new i[t],this.des(r,n[t]),delete i[t]):n[t]=r}};var i=e.prototype;return i.onInit=function(e){},i.newDayRefresh=function(){},n(e,[{key:"configName",get:function(){return this[o]}}],[{key:"configMap",get:function(){return this.s_ConfigMap}}]),e}()).s_ConfigMap={},i._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./Configable.ts","./EventBuiltin.ts","./EventUtility.ts"],(function(e){"use strict";var t,n,a,s,i,c,u,o;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,a=e.game,s=e.Game},function(e){i=e.default},function(e){c=e.default},function(e){u=e.eventDispatcher},function(e){o=e.MEventNames}],execute:function(){n._RF.push({},"cce2e3p85RCLK1wsQVrXaxw","ConfigManager",void 0),e("ConfigManager",function(){function e(){this.m_SaveKey="IdleRestaurantTycoon2",this.m_Schedule=null,this.m_OpenSave=!0,a.on(s.EVENT_HIDE,this.saveData,this,!1),u.on(o.NewDayRefresh,this,this.newDayRefresh),this.m_Schedule=setInterval(this.saveData.bind(this),6e4)}var n=e.prototype;return n.saveOn=function(){this.m_OpenSave=!0},n.saveOff=function(){this.m_OpenSave=!1},n.clear=function(){a.off(s.EVENT_HIDE,this.saveData,this),u.off(o.NewDayRefresh,this,this.newDayRefresh),null!=this.m_Schedule&&(clearInterval(this.m_Schedule),this.m_Schedule=null),e.m_Instance=null},n.getData=function(){var e=localStorage.getItem(this.m_SaveKey);c.deserialize(e)},n.saveData=function(){this.m_OpenSave&&(i.debug("Is to save player data..."),localStorage.setItem(this.m_SaveKey,c.serialize()))},n.newDayRefresh=function(){c.newDayRefresh()},t(e,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new e),this.m_Instance}}]),e}()).m_Instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/ConfirmView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./StarConfig.ts","./DataTable.ts","./AudioTool.ts","./UIConfig.ts"],(function(t){"use strict";var e,i,a,n,o,r,l,c,s,u,f,p,b,w,h,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,l=t.Label,c=t.Node},function(t){s=t.dataTableManager},function(t){u=t.LocalizationHelper},function(t){f=t.uiManager},function(t){p=t.UIView},function(t){b=t.starConfig},function(t){w=t.EDataTables},function(t){h=t.AudioTool,d=t.ESoundType},function(t){m=t.MUIConfig}],execute:function(){var V,g,k,y,_,D,C,L,N,v,T,z,U,B,M,S,I,A,E;t("EConfirmType",void 0),o._RF.push({},"5d53aa63fVADrAZLYBfxecx","ConfirmView",void 0);var x,R=r.ccclass,H=r.property;!function(t){t[t.none=0]="none",t[t.foodUp=1]="foodUp",t[t.staffBook=2]="staffBook"}(x||(x=t("EConfirmType",{})));t("ConfirmView",(V=R("ConfirmView"),g=H(l),k=H(l),y=H(l),_=H(c),D=H(c),C=H(c),L=H(l),N=H(l),V((z=e((T=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,a(e,"titleLab",z,n(e)),a(e,"descLab",U,n(e)),a(e,"contentLab",B,n(e)),a(e,"normalNode",M,n(e)),a(e,"foodUpNode",S,n(e)),a(e,"staffBookNode",I,n(e)),a(e,"descLab2",A,n(e)),a(e,"contentLab2",E,n(e)),e.tipTitle="2_10",e.m_ViewData=null,e}i(e,t);var o=e.prototype;return o.onDestroy=function(){this.m_ViewData=null},o.onOpen=function(t){if(this.m_ViewData=t,t){t.type||(t.type=x.none);var e=t.title?t.title:u.getString(this.tipTitle);this.titleLab.string=e,this.descLab.string=t.desc,this.contentLab.string=t.content,this.descLab2.string=t.desc,this.contentLab2.string=t.content,this.normalNode.active=this.m_ViewData.type==x.none,this.foodUpNode.active=this.m_ViewData.type==x.foodUp,this.staffBookNode.active=this.m_ViewData.type==x.staffBook}},o.clickOk=function(){this.m_ViewData&&this.m_ViewData.okCallback&&this.m_ViewData.okCallback(),this.destroyClass()},o.clickNo=function(){h.play(d.ui_click),this.m_ViewData&&this.m_ViewData.noCallback&&this.m_ViewData.noCallback(),this.destroyClass()},o.clickClose=function(){h.play(d.ui_click),this.clickNo()},o.destroyClass=function(){f.closeView(this)},o.clickfoodUpGo=function(t,e){switch(Number(e)){case 1:f.openView(m.MenuView);break;case 2:f.openView(m.ResearchView,null,0)}this.m_ViewData&&this.m_ViewData.okCallback&&this.m_ViewData.okCallback(),this.destroyClass()},o.c_click_staffBook=function(t,e){switch(Number(e)){case 1:var i=s.getData(w.Constant,21).Value;if(i>b.getStar())return void f.openView(m.TipView,null,{content:u.getString("33_31",[b.getStarNameByStar(i)])});f.openView(m.MiniGameMainView);break;case 2:f.openView(m.ResearchExchangeView)}this.m_ViewData&&this.m_ViewData.okCallback&&this.m_ViewData.okCallback(),this.destroyClass()},e}(p)).prototype,"titleLab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(T.prototype,"descLab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(T.prototype,"contentLab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(T.prototype,"normalNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(T.prototype,"foodUpNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(T.prototype,"staffBookNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(T.prototype,"descLab2",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(T.prototype,"contentLab2",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=T))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/CongratulationMoreView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./AudioTool.ts","./FoodIconPrefab.ts"],(function(t){"use strict";var e,i,n,o,a,r,l,u,c,s,p,f,h,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Node,u=t.Layout,c=t.sp},function(t){s=t.uiManager},function(t){p=t.UIView},function(t){f=t.default},function(t){h=t.AudioTool,d=t.ESoundType},function(t){m=t.FoodIconPrefab}],execute:function(){var g,v,y,w,b,I,L,k,C;a._RF.push({},"9c990/I05NANLMBndyjv4nm","CongratulationMoreView",void 0);var D=r.ccclass,M=r.property;t("CongratulationMoreView",(g=D("CongratulationMoreView"),v=M(l),y=M(u),w=M(c.Skeleton),g((L=e((I=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"congratulationItemTemplate",L,o(e)),n(e,"itemLayout",k,o(e)),n(e,"mSpine",C,o(e)),e.viewData=null,e}i(e,t);var a=e.prototype;return a.onInit=function(){var t=this;this.congratulationItemTemplate.active=!1,this.mSpine.setCompleteListener((function(){t.mSpine.node.active=!1}))},a.onOpen=function(t){if(this.viewData=t||null,this.itemLayout.node.children.length&&this.itemLayout.node.children.forEach((function(t){f.remove(t)})),t&&t.data){var e=t.data.length;this.schedule((function(){var e=t.data.shift(),i=f.instantiate(this.congratulationItemTemplate);this.itemLayout.node.addChild(i),i.active=!0,i.getComponent(m).setData(e)}),.15,e-1,.15)}},a.clickOk=function(){h.play(d.ui_click),this.viewData&&this.viewData.okCallback&&this.viewData.okCallback(),s.closeView(this)},e}(p)).prototype,"congratulationItemTemplate",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(I.prototype,"itemLayout",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(I.prototype,"mSpine",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=I))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/CongratulationView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./ItemConfig.ts","./EventUtility.ts","./UITool.ts","./ItemPrefab.ts"],(function(t){"use strict";var e,i,n,o,a,r,l,u,c,s,m,h,f,p,d,b,g,y,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Node,u=t.Layout,c=t.sp,s=t.UITransform,m=t.v3},function(t){h=t.eventDispatcher},function(t){f=t.uiManager},function(t){p=t.UIView},function(t){d=t.default},function(t){b=t.EItemEnum},function(t){g=t.MEventNames},function(t){y=t.UITool},function(t){v=t.ItemPrefab}],execute:function(){var w,I,N,C,L,T,k,z,D,S,U,E,V,A,P,M,_;a._RF.push({},"c0876U+nq9A/qv4AJAfbLhk","CongratulationView",void 0);var R=r.ccclass,q=r.property;t("CongratulationView",(w=R("CongratulationView"),I=q(l),N=q(u),C=q(c.Skeleton),L=q(l),T=q(s),k=q(l),z=q(l),w((U=e((S=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"congratulationItemTemplate",U,o(e)),n(e,"itemLayout",E,o(e)),n(e,"mSpine",V,o(e)),n(e,"titleNode",A,o(e)),n(e,"bgNode",P,o(e)),n(e,"buttonNode",M,o(e)),n(e,"itemLayer2",_,o(e)),e.viewData=null,e.moneyNum=0,e}i(e,t);var a=e.prototype;return a.onInit=function(){var t=this;this.congratulationItemTemplate.active=!1,this.mSpine.setCompleteListener((function(){t.mSpine.node.active=!1}))},a.onOpen=function(t){var e=this;if(this.viewData=t||null,this.itemLayout.node.children.length&&this.itemLayout.node.children.forEach((function(t){d.remove(t)})),this.itemLayer2.children.length&&this.itemLayer2.children.forEach((function(t){d.remove(t)})),t&&t.data){var i=t.data.length,n=Math.ceil(i/4),o=this.congratulationItemTemplate.getComponent(s).width,a=this.congratulationItemTemplate.getComponent(s).height,r=(3-n)*a;this.titleNode.setPosition(0,-r/2,0),this.buttonNode.setPosition(0,r/2-700,0),this.bgNode.setContentSize(960,1e3-r);var l=-(o*i)/2+o/2,u=0;this.schedule((function(){var e=t.data.shift(),i=d.instantiate(this.congratulationItemTemplate);1==n?(this.itemLayer2.addChild(i),i.position=m(l+u*o,0,0)):this.itemLayout.node.addChild(i),i.active=!0,i.getComponent(v).setData(e),u++}),.1,i-1,.1)}this.mSpine.clearTracks(),this.mSpine.node.active=!0,this.mSpine.setAnimation(0,"idle",!1),t&&t.data&&t.data.forEach((function(t){t.id==b.money&&(e.moneyNum=t.num)}))},a.onClose=function(){this.moneyNum>0&&(y.instance.showItemGetAni({itemId:b.money,count:0}),h.event(g.RefreshItemNumber,{count:0}),this.moneyNum=0)},a.clickOk=function(){this.viewData&&this.viewData.okCallback&&this.viewData.okCallback(),f.closeView(this)},e}(p)).prototype,"congratulationItemTemplate",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"itemLayout",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(S.prototype,"mSpine",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(S.prototype,"titleNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(S.prototype,"bgNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(S.prototype,"buttonNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(S.prototype,"itemLayer2",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=S))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/ConstrucFoodPos.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,n,r,e;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,e=t.Component}],execute:function(){var i;n._RF.push({},"ab39cDFb4BBp5UXb+BE9lkz","ConstrucFoodPos",void 0);var s=r.ccclass;r.property,t("ConstrucFoodPos",s("ConstrucFoodPos")(i=function(t){function n(){for(var o,n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];return(o=t.call.apply(t,[this].concat(r))||this).m_StayInstant={},o}o(n,t);var r=n.prototype;return r.onLoad=function(){this.registerNode()},r.registerNode=function(){},r.getTipsPostion=function(t,o){return this.m_StayInstant[t][o].worldPosition.clone()},r.getChildPos=function(t){var o=[],n=this.node.getChildByName(t);if(!n)return o;for(var r=n.children,e=0;e<r.length;e++)o.push(r[e].worldPosition);return o},r.getChildPosRotaition=function(t){var o=[],n=this.node.getChildByName(t);if(!n)return o;for(var r=n.children,e=0;e<r.length;e++)o.push(r[e].rotation);return o},r.getChildAllPos=function(){for(var t=[],o=this.node.children,n=0;n<o.length;n++)t.push(o[n].worldPosition);return t},n}(e))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructBar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneMemuMgr.ts"],(function(t){"use strict";var n,o,e,r,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,r=t.Component},function(t){c=t.SceneMemuMgr}],execute:function(){var s;o._RF.push({},"9da2fKSW4JFT6BNxcAqkFwO","ConstructBar",void 0);var u=e.ccclass;e.property,t("ConstructBar",u("ConstructBar")(s=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.onLoad=function(){var t=this.node.getChildByName("tips");c.instance.loadOfflineMenu(t.worldPosition.clone())},e.callback=function(){console.log("111111111111111")},o}(r))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./AssetLoader.ts","./NodeUtils.ts","./FacilityConfig.ts","./AreaTool.ts","./FacilityTool.ts","./RegionTool.ts","./GameUtility.ts","./Lobby.ts","./EffectUnlcokNode.ts","./ConstructTouch.ts"],(function(t){"use strict";var e,o,n,i,a,r,s,c,l,u,d,h,f,m,p,v,N,g,C,S,_,y;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,i=t.UITransform,a=t.assetManager,r=t.Prefab,s=t.v3,c=t.Vec3,l=t.tween,u=t.Component},function(t){d=t.default},function(t){h=t.assetLoader},function(t){f=t.default},function(t){m=t.facilityConfig},function(t){p=t.AreaTool},function(t){v=t.FacilityTool},function(t){N=t.RegionTool},function(t){g=t.EGameBundles,C=t.MLoadOnPlayRes},function(t){S=t.Lobby},function(t){_=t.EffectUnlcokNode},function(t){y=t.ConstructTouch}],execute:function(){var k;t({EConstructName:void 0,EStaffNameVec:void 0}),o._RF.push({},"544b4qrBodDFrk+5NbzJd0u","ConstructBase",void 0);var b,L,P=n.ccclass;n.property;!function(t){t.Idle="Idle",t.UpPot="upPot",t.UpSeat="upSeat",t.Doorpoint="doorpoint",t.Stairpiont="stairpiont",t.Stairspoint01="stairspoint01",t.Stagespoint="stagespoint",t.Line="line"}(b||(b=t("EStaffNameVec",{}))),function(t){t[t.Lobby=2]="Lobby",t[t.LobbyOutside=1]="LobbyOutside",t[t.Kitchen=5]="Kitchen",t[t.PrivateRoom1=3]="PrivateRoom1",t[t.PrivateRoom2=6]="PrivateRoom2",t[t.PrivateRoom3=7]="PrivateRoom3",t[t.Auditorium=4]="Auditorium"}(L||(L=t("EConstructName",{})));t("ConstructBase",P("ConstructBase")(k=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).m_ConstructMap=[],e.m_SigName="Construct",e.m_SortNode=null,e.m_StayInstant={},e.m_localScaleValue={},e.m_scaleValue={},e.m_restoreLoaclY=1,e.m_restoreLoaclX=1,e.m_restoreLoaclPos=new c(1,1,1),e.m_restoreVec=[],e.m_SceneTransForm=null,e.m_updateConstructs={default:e.addConstruct,Floor:e.addConstructNoScale,Wall:e.addConstructNoScale,HowlTable:e.addConstructNoScale,NoBuiltDesk:e.UpdateNoBuiltDesk},e}e(o,t);var n=o.prototype;return n.onLoad=function(){var t=this.node.getChildByName("bg");t=null==t?this.node:t,this.m_SceneTransForm=this.node.getComponent(i),this.initConstruct(t),this.initPreload()},n.onEnable=function(){this.initEvent()},n.onDisable=function(){this.removeEvent()},n.initEvent=function(){},n.removeEvent=function(){},n.initPreload=function(){a.getBundle(g.LoadOnPlay).preload(C.EffectUnlockNode,r)},n.initConstruct=function(t){for(var e=t.children,o=e.length,n=0;n<o;++n){var i=e[n],a=i.name;this.m_ConstructMap[a]=i}},n.removeConstruct=function(t){var e=this.m_ConstructMap[t];e&&e.removeAllChildren()},n.instartChild=function(t){},n.registerConstruct=function(){},n.addSetNode=function(t,e,o){var n=o[e][0],i=s(0),a=n.children.length;if(0==a)return this.switchNode(t,n,i),void(o[e][0]=n);for(var r=n.children,c=0,l=0;l<r.length;l++){var u=r[l];if(0!=(a=u.children.length)){this.addSetNode(t,u,o);break}this.switchNode(t,u,i),o[e][c++]=u,l--}},n.getTypeRoot=function(t){return t.split("_")},n.switchNode=function(t,e,o){o=null==o?new c:o,e.getWorldPosition(o),e.removeFromParent(),t.addChild(e),e.setWorldPosition(o)},n.registerType=function(t,e,o){o=null==o?t.name:o;var n=this.getTypeRoot(o)[0];null==e[n]&&(e[n]=[]);var i=parseInt(t.name);Number.isNaN(i)?e[n].push(t):e[n][i-1]=t},n.updateConstruct=function(t,e,o){var n=this;void 0===e&&(e=0),void 0===o&&(o=!0);var i=this.getConstruct(t,e);if(null!=i){var a=i.name,s=i.prfabUrl,c=i.construct,l=i.proData;o&&this.getUnlockEffect(c.worldPosition.clone());var u=this.m_updateConstructs[a]||this.m_updateConstructs.default;h.load(g.LoadOnPlay,s,r,(function(o,i){if(i){var a=f.instantiate(n.m_SigName,i,!1);n.setTouchConstruct(t,a),u(o,n,c,a,e,l)}else d.info(s)}))}},n.registerUpdateConstruct=function(t,e){this.m_updateConstructs[t]=e},n.addConstruct=function(t,e,o,n,i){e.updateNode(o,n),e.playerScale(o)},n.addConstructNoScale=function(t,e,o,n,i){e.updateNode(o,n)},n.getConstruct=function(t,e){void 0===e&&(e=0);var o=v.instance.getFacilityPrefabUrl(t);if(null==o)return null;var n="Map/"+o.res,i=o.name,a=this.m_ConstructMap[i];return null==a?null:("Desk"==i&&(a=0==a.children.length?a:a.children[e]),{construct:a,prfabUrl:n,name:i,proData:o.proData})},n.registerAllPos=function(t,e,o,n){for(var i=t.children,a=i.length,r=null,s="",c=null,l=0;l<a;l++)s=(r=i[l]).name,c=null==n?this.addNodePostion(r):n(r),e[s]={pos:c,layer:o}},n.getNodeAllPos=function(t,e){e=null==e?[]:e;for(var o=t.children,n=o.length,i=null,a=0;a<n;a++)i=o[a],e.push(i.position);return e},n.addNodePostion=function(t){var e=this.node.position;return t.position.add(e)},n.updateAllConstruct=function(t){for(var e=v.instance.getAreaId(t),o=0;o<e.length;o++){var n=e[o],i=v.instance.getFacitilyIsSubId(n);this.updateConstruct(n,i,!1)}},n.checkInitial=function(t,e){var o=this.m_ConstructMap[t],n=v.instance.getAreaUnlock(e);return n||(n=this.isUnlockInitial(e)),o.active=!0,o&&n&&(o.active=!1,o.removeFromParent()),o.active},n.playerScale=function(t){l(t).to(.1,{scale:new c(.8,.8,1)}).to(.1,{scale:new c(1,1,1)}).start()},n.updateScale=function(){var t=this.node.getComponent(i).contentSize,e=t.width/1080,o=t.height/1920;this.node.setScale(e,o,1),this.m_scaleValue=this.node.getScale(),this.m_localScaleValue.x=1>e?1-(1-e):1-(e-1),this.m_localScaleValue.y=1>o?1-(1-o):1-(o-1),this.m_restoreLoaclY=o*this.m_localScaleValue.y-.05,this.m_restoreLoaclX=e*this.m_localScaleValue.x-.05,this.m_restoreLoaclPos=new c(this.m_restoreLoaclX,this.m_restoreLoaclY,1)},n.setScaleNode=function(t){var e=this.node.getComponent(i).contentSize,o=e.width/1080,n=e.height/1920;t.setScale(o,n,1)},n.updateBaseScale=function(t){t.setScale(this.node.getScale())},n.restoreNodePostion=function(t){return this.addNodePostion(t)},n.restorelocalNode=function(t){var e=t.position.clone();e.x*=this.m_restoreLoaclX,e.y*=this.m_restoreLoaclY,t.position=e},n.updateLoaclNodePos=function(){if(0!=this.m_restoreVec.length){var t=null,e=null;for(var o in this.m_restoreVec)t=this.m_restoreVec[o],e=this.m_ConstructMap[t],this.restorelocalNode(e)}},n.getUnlockEffect=function(t){var e=C.EffectUnlockNode;h.load(g.LoadOnPlay,e,r,(function(o,n){var a=f.instantiate(e,n);a.getComponent(_).play("unlock");var r=S.instance.tipNode,s=r.getComponent(i).convertToNodeSpaceAR(t);a.setPosition(s),r.addChild(a)}))},n.registerNodeToSortNode=function(t,e){this.removeSortLst(e);var o=this.m_ConstructMap[e];o=o.children[0],this.switchNode(t,o),this.m_StayInstant[e]=[o]},n.removeSortLst=function(t){var e=this.m_StayInstant[t];for(var o in e){var n=e[o];if(n instanceof Array)for(var i=0;i<n.length;i++){n[i].removeFromParent()}else n.removeFromParent()}},n.setSortNodeVer=function(t,e){this.removeSortLst(t);var o=e instanceof Array?e:[e];this.m_StayInstant[t]=o},n.getChildName=function(t){var e=t;return e=e.substring(0,e.indexOf("_"))},n.UpdateAnyConstruct=function(t,e,o,n,i){e.updateNode(o,n);var a=e.getChildName(n.name);e.registerNodeToSortNode(e.m_SortNode,a)},n.updateNode=function(t,e){t.removeAllChildren(),t.addChild(e)},n.getSceneWorldPosToLocal=function(t){return this.m_SceneTransForm.convertToNodeSpaceAR(t)},n.isUnlockInitial=function(t){var e=N.instance.getRegionData(t),o=e.Star,n=e.Gold;return 0==o&&0==n&&(m.unlockFacilitySubId(t),m.setUnlockRegion(t),!0)},n.CheckNobuiltDesk=function(t){var e=m.facliityMaxDesk[t];if(v.instance.LobbyDeskMaxId[t]<e)this.removeSortLst("NoBuildDesk");else{var o=v.instance.SubIdToDeskId[e];if(m.isUnlockFacilityTable(o))this.removeSortLst("NoBuildDesk");else{var n=v.instance.getSubIdChildIdToData(o,0);this.updateNoBuiltDesk(n.Id,e)}}},n.updateNoBuiltDesk=function(t,e){var o=this,n=this.getNoBuiltDesk(e);if(null!=n){var i=n.name,a=n.prfabUrl,s=n.construct,c=this.m_updateConstructs[i]||this.m_updateConstructs.default;h.load(g.LoadOnPlay,a,r,(function(e,n){if(n){var i=f.instantiate(o.m_SigName,n,!1);c(e,o,s,i,t)}else d.info(a)}))}},n.getNoBuiltDesk=function(t){var e="Map/NobuilDesk/Desk_initial_"+(t>7?1:0),o="Desk",n=this.m_ConstructMap[o];return null==n?null:(o="NoBuiltDesk",{construct:n=0==n.children.length?n:n.children[t],prfabUrl:e,name:o})},n.setTouchConstruct=function(t,e){var o=v.instance.getFacilityToCellId(t).subId,n=p.instance.getTouchId(o);null!=n&&e.addComponent(y).setConstruct(n,t)},n.UpdateNoBuiltDesk=function(t,e,o,n,i){e.updateNode(o,n),e.InitNoBuiltDesk(n,i)},n.InitNoBuiltDesk=function(t,e){t.getComponent("ConstructNoBuiltDesk").setDeskData(e),this.setSortNodeVer("NoBuildDesk",t),this.switchNode(this.m_SortNode,t)},o}(u))||k);o._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructCat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./UIManager.ts","./PhonographConfig.ts","./NoviceGuideMgr.ts","./EventUtility.ts","./UITool.ts","./UIConfig.ts","./LobbyUtility.ts"],(function(n){"use strict";var t,e,i,o,r,s,c,u,a,l,h,p,f,g,d,v,C;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,s=n._decorator,c=n.sp,u=n.Component},function(n){a=n.default},function(n){l=n.eventDispatcher},function(n){h=n.uiManager},function(n){p=n.phonographConfig},function(n){f=n.EGuideClickEnum},function(n){g=n.MEventNames},function(n){d=n.UITool},function(n){v=n.MUIConfig},function(n){C=n.MLobbyEvent}],execute:function(){var y,b,m,P,k;r._RF.push({},"41beaxGEl5LA4XpH4hUlVT/","ConstructCat",void 0);var S=s.ccclass,E=s.property;n("ConstructCat",(y=S("ConstructCat"),b=E(c.Skeleton),y((k=t((P=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r))||this,i(t,"mSpine",k,o(t)),t._spName="",t}e(t,n);var r=t.prototype;return r.onDestroy=function(){l.offAllCaller(this)},r.start=function(){l.on(C.PayEating,this,this.refreshSurvice),l.on(g.phonographRefresh,this,this.refreshSurvice),l.on(g.guideClick,this,this.guideClick),l.on(g.refreshGuildPos,this,this.refreshGuildPos),this.refreshSurvice()},r.refreshSurvice=function(){var n=this;this.scheduleOnce((function(){var t=p.canGetSurvice()?"collect":"idle";t!=n._spName&&(n._spName=t,n.mSpine.setAnimation(0,t,!0))}))},r.refreshGuildPos=function(n){n.click==f.phonograph&&(this.node.children[0].getWorldPosition(d.instance.guideHandWorldPos),a.debug("phonogragh guide pos :   ",d.instance.guideHandWorldPos))},r.guideClick=function(n){n.click==f.phonograph&&(a.debug("phonogragh guide click"),h.openView(v.PhonographView))},r.onCatCallback=function(){h.openView(v.PhonographView)},t}(u)).prototype,"mSpine",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=P))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructCookAnban.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LobbyUtility.ts","./ConstrucFoodPos.ts","./FoodEnumConfig.ts"],(function(t){"use strict";var o,n,e,s,i,r,c;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){s=t.eventDispatcher},function(t){i=t.MLobbyEvent},function(t){r=t.ConstrucFoodPos},function(t){c=t.ECookRect}],execute:function(){var u;n._RF.push({},"978e33bpaZCzK27AJ3hnfJW","ConstructCookAnban",void 0);var a=e.ccclass;e.property,t("ConstructCookAnban",a("ConstructCookAnban")(u=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.registerNode=function(){var t=this.getChildPos(c.Dish);if(0!=t.length){s.event(i.UpdateKithenCookFood,[c.Dish,t]);var o=this.getChildPos(c.CUT);0!=o.length&&s.event(i.UpdateKithenCookCut,[o])}},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructCookBench.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LobbyUtility.ts","./ConstrucFoodPos.ts","./FoodEnumConfig.ts"],(function(t){"use strict";var o,n,e,c,s,r,i;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){c=t.eventDispatcher},function(t){s=t.MLobbyEvent},function(t){r=t.ConstrucFoodPos},function(t){i=t.ECookRect}],execute:function(){var u;n._RF.push({},"38a89FcOhZHH6YgoxsawyIw","ConstructCookBench",void 0);var a=e.ccclass;e.property,t("ConstructCookBench",a("ConstructCookBench")(u=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.registerNode=function(){var t=this.getChildPos(i.STREET);c.event(s.UpdateKithenCookFood,[i.STREET,t])},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructCookFood.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LobbyUtility.ts","./FoodEnumConfig.ts","./KitchenCookMgr.ts","./SceneFoodHud.ts","./SceneFoodPlate.ts"],(function(t){"use strict";var n,o,e,i,s,r,a,c,h,u,d;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.UITransform,s=t.Component},function(t){r=t.eventDispatcher},function(t){a=t.MLobbyEvent},function(t){c=t.ECookRect},function(t){h=t.KitchenCookMgr},function(t){u=t.SceneFoodHud},function(t){d=t.SceneFoodPlate}],execute:function(){var l;o._RF.push({},"74d3eRGyjJHMYbnAbvbbAHB","ConstructCookFood",void 0);var f=e.ccclass;e.property,t("ConstructCookFood",f("ConstructCookFood")(l=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).m_StayInstant={},n.UITransform=null,n}n(o,t);var e=o.prototype;return e.onLoad=function(){this.UITransform=this.node.getComponent(i),this.registerNode(c.POT,u);var t=this.m_StayInstant[c.POT];h.instance.PotingMax=t.length,this.registerNode(c.Dish,u);var n=this.m_StayInstant[c.Dish].length;h.instance.DishingMax=n,h.instance.registerDistState(n),this.registerNode(c.PLATHE,d);var o=this.m_StayInstant[c.PLATHE].length;h.instance.DishCacheMax=o,this.registerNode(c.DRINK,u);var e=this.m_StayInstant[c.DRINK].length;h.instance.DrinkingMax=e,this.registerNode(c.STREET,u);var s=this.m_StayInstant[c.STREET].length;h.instance.StreetingMax=s},e.start=function(){this.isShowPlathe(!0)},e.onEnable=function(){this.initEvent()},e.onDestroy=function(){this.removeEvent()},e.initEvent=function(){r.on(a.UpdateKithenCookFood,this,this.UpdateKithenCookFood)},e.removeEvent=function(){r.off(a.UpdateKithenCookFood,this,this.UpdateKithenCookFood)},e.setLocalPostion=function(t){return this.UITransform.convertToWorldSpaceAR(t)},e.registerNode=function(t,n){var o=this.node.getChildByName(t);if(o){var e=o.getComponentsInChildren(n);this.m_StayInstant[t]=e,h.instance.registerFoodHud(t,e)}},e.UpdateKithenCookFood=function(t,n,o){for(var e=this.m_StayInstant[t],i=e.length,s=null,r=null,a=null,h=0;h<i;h++)s=n[h],(r=e[h].node).active=void 0!==s,null!=s&&(r.worldPosition=s,o&&(a=o[h],r.rotation=a));t==c.PLATHE&&this.isShowPlathe(!0)},e.isShowPlathe=function(t){void 0===t&&(t=!1),this.node.getChildByName(c.PLATHE).active=t},o}(s))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructCookLocal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LobbyUtility.ts","./ConstrucFoodPos.ts"],(function(o){"use strict";var t,n,c,e,r,s;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,c=o._decorator},function(o){e=o.eventDispatcher},function(o){r=o.MLobbyEvent},function(o){s=o.ConstrucFoodPos}],execute:function(){var i;n._RF.push({},"3338bNnbnNP770NzsrkoFAg","ConstructCookLocal",void 0);var u=c.ccclass;c.property,o("ConstructCookLocal",u("ConstructCookLocal")(i=function(o){function n(){for(var t,n=arguments.length,c=new Array(n),e=0;e<n;e++)c[e]=arguments[e];return(t=o.call.apply(o,[this].concat(c))||this).cookRect=null,t}t(n,o);var c=n.prototype;return c.onLoad=function(){},c.registerLocalPos=function(o){this.cookRect=o,this.registerNode()},c.registerNode=function(){var o=this.getChildAllPos();e.event(r.UpdateKithenCookFood,[this.cookRect,o])},n}(s))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructDesk.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EatTable.ts","./LobbyUtility.ts","./ConstructBase.ts","./SceneFood.ts"],(function(t){"use strict";var e,n,o,r,i,s,a,c,u;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t._decorator},function(t){s=t.EatTable},function(t){a=t.ELobbyServeDishes},function(t){c=t.ConstructBase},function(t){u=t.SceneFood}],execute:function(){var d;r._RF.push({},"02bedcGgu1FBq676zwwj9in","ConstructDesk",void 0);var h=i.ccclass,l=(i.property,t("SceneFoodType",{POT:"pot",FOOD:"food",TABLEWARE:"tableware",CHEST:"chest"}));t("ConstructDesk",h("ConstructDesk")(d=function(t){function r(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).m_SceneFood={},e.m_SortLst=["seatpoint","serving","bill"],e.m_Tips=null,e.m_Time=null,e}e(r,t);var i=r.prototype;return i.onLoad=function(){var t=n(o().mark((function t(){var e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.registerNode(),this.registerSceneFood().then((function(){e.resetDeskSceneFood()}));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.registerNode=function(){var t=this;return new Promise((function(e){for(var n=t.node.children,o=0;o<n.length;o++){var r=n[o];t.registerType(r,t.m_StayInstant)}e()}))},i.registerSceneFood=function(){var t=this;return new Promise((function(e){var n=t.node.getComponentsInChildren(u),o="",r=null;for(var i in n)o=(r=n[i]).getFoodParntName(),t.registerType(r,t.m_SceneFood,o);e()}))},i.registerChildFood=function(t,e,n){var o=this.node.getChildByPath(t);if(o){var r=o.getComponentsInChildren(u);n=null==n?"":n;var i=null;for(var s in r)n=(i=r[s]).getFoodParntName(),this.registerType(i,e,n)}},i.registerETable=function(t,e,n){var o=this.m_StayInstant.seatpoint,r={};for(var i in o){var a=o[i],c=this.getTypeRoot(a.name)[1],u=a.position;r[i]={pos:u,face:c}}var d=this.m_StayInstant.serving[0].position,h=this.getTipsNode(),l=null==e?new s:e;return l.initConfig({servePos:d,tipPos:h,chairs:r,proData:n},t),l},i.registerSortNode=function(t){for(var e=0;e<this.m_SortLst.length;e++){var n=this.m_SortLst[e];this.addSetNode(t,n,this.m_StayInstant)}var o=this.m_StayInstant.desk;o&&this.switchNode(t,o[0]);var r=this.m_StayInstant.kb;r&&this.switchNode(t,r[0]);var i=this.m_StayInstant.tips;i&&(this.m_Tips=i[0]);var s=this.m_StayInstant.time;s&&(this.m_Time=s[0])},i.registerSortAllNode=function(t){this.registerSortNode(t);for(var e=this.m_StayInstant.seat,n=0;n<e.length;n++){var o=e[n];this.switchNode(t,o)}},i.removeSortLst=function(){for(var t in this.m_StayInstant)for(var e=this.m_StayInstant[t],n=0;n<e.length;n++){e[n].removeFromParent()}},i.resetDeskSceneFood=function(){this.updateFood(l.POT),this.updateFood(l.FOOD),this.updateFood(l.TABLEWARE)},i.updateSceneFoodType=function(t,e){if(e==a.HotPot){var n=t.NbowlId;this.updateFood(l.POT,n)}else{var o=t.AdrinkVec;this.updateFood(l.FOOD,o);var r=t.AdishVec;this.updateFood(l.TABLEWARE,r)}},i.getDeskNode=function(){return this.node.parent},i.getTipsPostion=function(){return this.getTipsNode().worldPosition.clone()},i.getTipsNode=function(){return this.m_Tips},i.getTimePostion=function(){return this.m_Time.worldPosition.clone()},i.updateFood=function(t,e){e=null==e?[]:e;var n=this.m_SceneFood[t],o=0;e.length;for(var r=0;r<n.length;r++){var i=n[r];o=e[r],this.setFoodStart(o,i)}},i.updateWare=function(t,e){e=null==e?[]:e;for(var n=this.m_SceneFood[t],o=0;o<n.length;o++){n[o].node.active=null!=e[o]}},i.udpateReset=function(t){this.updateFood(l.TABLEWARE,[]),this.updateFood(l.POT,[]),this.updateFood(l.FOOD)},i.setFoodStart=function(t,e){var n=null!=t;n&&e.initFood(t),e.node.active=n},r}(c))||d);r._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructDeskTable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConstructDesk.ts"],(function(e){"use strict";var t,o,r,a,s;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator},function(e){a=e.SceneFoodType,s=e.ConstructDesk}],execute:function(){var i;o._RF.push({},"15ad4FJTZdIV4MJzdgRJxF2","ConstructDeskTable",void 0);var d=r.ccclass;r.property,e("ConstructDeskTable",d("ConstructDeskTable")(i=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).m_tableWare={},t.m_tableWareNode=null,t.m_overNode=null,t.m_sauceNode=null,t}t(o,e);var r=o.prototype;return r.registerSceneFood=function(){var e=this;return new Promise((function(t){var o;e.registerChildFood("desk/food",e.m_SceneFood),e.registerChildFood("desk/pot",e.m_SceneFood),e.registerChildFood("desk/tableware",e.m_tableWare),e.registerChildFood("deskBottom/food",e.m_SceneFood),e.registerChildFood("deskBottom/pot",e.m_SceneFood),e.registerChildFood("deskBottom/tableware",e.m_tableWare),e.m_tableWare=null==(o=e.m_tableWare)?void 0:o.tableware;var r=e.node.getChildByPath("deskBottom/tableware");e.m_tableWareNode=r.children;var a=e.node.getChildByPath("deskBottom/sauce");a&&(a.active=!1,e.m_sauceNode=a);var s=e.node.getChildByPath("deskBottom/over");s&&(s.active=!1,e.m_overNode=s),t()}))},r.updateFood=function(t,o){if(t!=a.TABLEWARE)return e.prototype.updateFood.call(this,t,o),void(t==a.POT&&this.m_sauceNode&&this.m_sauceNode.active&&(this.m_sauceNode.active=!0));var r=0;(o=null==o?[]:o).length;var s=this.m_tableWare;if(s)for(var i=0;i<s.length;i++){var d=s[i];r=o[i],this.setFoodStart(r,d)}},r.udpateReset=function(t){e.prototype.udpateReset.call(this,t),this.m_sauceNode&&(this.m_sauceNode.active=!1),this.m_overNode&&(this.m_overNode.active=!0)},r.resetDeskSceneFood=function(){e.prototype.resetDeskSceneFood.call(this),this.m_overNode&&(this.m_overNode.active=!1),this.m_sauceNode&&(this.m_sauceNode.active=!1)},r.resetTableWare=function(e){for(var t in this.m_tableWare)this.m_tableWare[t][0].node.parent.active=parseInt(t)==e},r.registerSortNode=function(t){e.prototype.registerSortNode.call(this,t);var o=this.m_StayInstant.deskBottom;o&&(o=o[0],this.switchNode(t,o))},o}(s))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructGameBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./StarConfig.ts","./DataTable.ts","./UIConfig.ts"],(function(t){"use strict";var n,a,e,o,r,i,c,s,u,l;return{setters:[function(t){n=t.inheritsLoose},function(t){a=t.cclegacy,e=t._decorator,o=t.Component},function(t){r=t.dataTableManager},function(t){i=t.LocalizationHelper},function(t){c=t.uiManager},function(t){s=t.starConfig},function(t){u=t.EDataTables},function(t){l=t.MUIConfig}],execute:function(){var f;a._RF.push({},"c1da2eIknRLm5ZO27ZkmjV3","ConstructGameBox",void 0);var g=e.ccclass;e.property,t("ConstructGameBox",g("ConstructGameBox")(f=function(t){function a(){for(var n,a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this)._needStar=0,n}n(a,t);var e=a.prototype;return e.start=function(){this._needStar=r.getData(u.Constant,21).Value},e.onCatCallback=function(){this._needStar>s.getStar()?c.openView(l.TipView,null,{content:i.getString("33_31",[s.getStarNameByStar(this._needStar)])}):c.openView(l.MiniGameMainView)},a}(o))||f);a._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructKitch.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConstructBase.ts"],(function(t){"use strict";var c,r,n,o;return{setters:[function(t){c=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator},function(t){o=t.ConstructBase}],execute:function(){var s;r._RF.push({},"6560ar4jotF4LW5MGGII8yK","ConstructKitch",void 0);var u=n.ccclass;n.property,t("ConstructKitch",u("ConstructKitch")(s=function(t){function r(){return t.apply(this,arguments)||this}c(r,t);var n=r.prototype;return n.start=function(){},n.update=function(t){},r}(o))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructLobbyDoor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LobbyCameraControl.ts","./LobbyRoomData.ts"],(function(o){"use strict";var t,n,r,e,c,u;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,r=o._decorator,e=o.Component},function(o){c=o.LobbyCameraControl},function(o){u=o.ELobbyRoomId}],execute:function(){var s;n._RF.push({},"4a5f73g4YdBuL0BJXMSUvg2","ConstructLobbyDoor",void 0);var i=r.ccclass;r.property,o("ConstructLobbyDoor",i("ConstructLobbyDoor")(s=function(o){function n(){return o.apply(this,arguments)||this}return t(n,o),n.prototype.onToScene=function(){c.instance.jumpToRoomId(u.LobbyOutside)},n}(e))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./FacilityTool.ts","./UIConfig.ts","./LobbyNode.ts","./LobbyUtility.ts","./ConstructBase.ts"],(function(t){"use strict";var e,n,i,o,s,a,c,r,u,p,d,h,m,f;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,i=t._decorator,o=t.find,s=t.UITransform},function(t){a=t.eventDispatcher},function(t){c=t.LocalizationHelper},function(t){r=t.uiManager},function(t){u=t.FacilityTool},function(t){p=t.MUIConfig},function(t){d=t.LobbyNode},function(t){h=t.ELobbyLayer,m=t.MLobbyEvent},function(t){f=t.EConstructName}],execute:function(){var l,g;n._RF.push({},"3cee9bIIhNPv5azVU7zkDRt","ConstructMgr",void 0);var y=i.ccclass,I=(i.property,[8,9,10,11,12,13,14,15,16]);t("ConstructMgr",y("ConstructMgr")(((g=function(){function t(){this.m_ConstructMap={},this.m_ELayerToRegion={},this.m_SceneTransForm=null,this.m_UpdateQueue={},this.m_SigName="ConstructMgr"}var n=t.prototype;return n.registerELayerToRegion=function(){this.m_ELayerToRegion[h.Lobby]=[f.Lobby,f.PrivateRoom1,f.PrivateRoom2,f.PrivateRoom3],this.m_ELayerToRegion[h.Kitchen]=[f.Kitchen],this.m_ELayerToRegion[h.LobbyOutside]=[f.LobbyOutside],this.m_ELayerToRegion[h.Auditorium]=[f.Auditorium]},n.initEvent=function(){a.on(m.UpdateConstructItem,this,this.UpdateConstructItem),a.on(m.UpdateDecorate,this,this.UpdateDecorate),a.on(m.BusyDecorate,this,this.PopTipsConstruct),a.on(m.UpdateSceneKitchenState,this,this.UpdateSceneKitchenState)},n.initSceneTips=function(){var t=o("GameCanvas/SceneTip").getComponent(s);this.m_SceneTransForm=t},n.getSceneTipsPos=function(t){return this.m_SceneTransForm.convertToNodeSpaceAR(t)},n.registerConstruct=function(t,e){this.m_ConstructMap[t]||(this.m_ConstructMap[t]=e)},n.UpdateConstructItem=function(t,e,n){var i=this.m_ConstructMap[t];if(i){var o=0;if(-1!=(o=u.instance.isSubIdToDeskId(n))){if(I.indexOf(o)>-1&&null!=i&&i.isDesk(o))return o=u.instance.getSubIdToDeskId(n),void this.UpdateBaseConstruct(i,e,o);var s=u.instance.getFacitilyIsSubId(e);this.m_UpdateQueue[o]={layerName:t,facilityId:e,subIdToDeskId:s};var c=u.instance.getFacitlyIsEatTablesId(e);if(this.getIsOpenDesk(c))return void this.UpdateDecorate(s);a.event(m.StartUpdateDecorate,o)}else this.UpdateBaseConstruct(i,e,0)}},n.UpdateBaseConstruct=function(t,e,n){void 0===n&&(n=0),t.updateConstruct(e,n)},n.UpdateDecorate=function(t){var e=this.m_UpdateQueue[t];if(e){var n=e.layerName,i=e.facilityId,o=e.subIdToDeskId,s=this.m_ConstructMap[n];s&&s.updateConstruct(i,o)}},n.getIsOpenDesk=function(t){return null==d.instance.eatTables[t]},n.PopTipsConstruct=function(t){r.openView(p.TipView,null,{content:c.getString("16_21")})},n.UpdateSceneKitchenState=function(t){this.UpdateDecorate(t)},e(t,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new t,this.m_Instance.initEvent(),this.m_Instance.initSceneTips(),this.m_Instance.registerELayerToRegion()),this.m_Instance}}]),t}()).m_Instance=void 0,l=g))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructNoBuiltDesk.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./NoviceGuideMgr.ts","./AreaTool.ts","./FacilityTool.ts","./EventUtility.ts","./UITool.ts","./UIConfig.ts","./LobbyUtility.ts","./SceneMenuBuild.ts","./SceneMenuNoBuild.ts"],(function(t){"use strict";var i,e,n,a,o,s,u,l,r,c,d,h,f,p,b,D,m,g,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,u=t.Component},function(t){l=t.eventDispatcher},function(t){r=t.uiManager},function(t){c=t.NoviceGuideMgr,d=t.EGuideClickEnum},function(t){h=t.AreaTool},function(t){f=t.FacilityTool},function(t){p=t.MEventNames},function(t){b=t.UITool},function(t){D=t.MUIConfig},function(t){m=t.MLobbyEvent},function(t){g=t.SceneMenuBuild},function(t){v=t.SceneMenuNoBuild}],execute:function(){var T,y,B,C,k,I,S;o._RF.push({},"3188fni0M5BvZIu5ovATet6","ConstructNoBuiltDesk",void 0);var _=s.ccclass,F=s.property;t("ConstructNoBuiltDesk",(T=_("ConstructNoBuiltDesk"),y=F(v),B=F(g),T((I=i((k=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,n(i,"NobuildTips",I,a(i)),n(i,"buildTips",S,a(i)),i.m_FacilityData=void 0,i.m_AreaTableData=void 0,i}e(i,t);var o=i.prototype;return o.onDestory=function(){this.removeEvent()},o.onLoad=function(){this.initEvent(),this.buildTips.node.active=!1},o.start=function(){},o.update=function(t){},o.setDeskData=function(t){this.m_FacilityData=f.instance.getFaciliytTableData(t);var i=this.m_FacilityData,e=i.AreaType,n=i.Sub_id;this.m_AreaTableData=h.instance.getFacilityToArea(e,n);var a=this.m_AreaTableData,o={Gold:a.Gold,UnlockStar:a.UnlockStar,Tager:{ATagert:this,FTouchCallback:this.touchCallback}};this.NobuildTips.setBuildData(o),this.buildTips.setBuildData(o),this.updateBuildStart(),2010202!=this.m_FacilityData.Id||c.instance.isDone()||(this.buildTips.node.active=!1,this.NobuildTips.node.active=!1)},o.guideDone=function(){2010202==this.m_FacilityData.Id&&this.updateBuildStart()},o.initEvent=function(){l.on(p.RefreshItemNumber,this,this.updateBuildStart),l.on(p.GameChangeStar,this,this.updateBuildStart),l.on(m.UpdateConstructItem,this,this.UpdateConstructItem),l.on(p.guideClick,this,this.guideClick),l.on(p.refreshGuildPos,this,this.refreshGuildPos),l.on(p.guideDone,this,this.guideDone)},o.removeEvent=function(){l.off(p.RefreshItemNumber,this,this.updateBuildStart),l.off(p.GameChangeStar,this,this.updateBuildStart),l.off(m.UpdateConstructItem,this,this.UpdateConstructItem),l.off(p.guideClick,this,this.guideClick),l.off(p.refreshGuildPos,this,this.refreshGuildPos),l.off(p.guideDone,this,this.guideDone)},o.refreshGuildPos=function(t){t.click==d.tableBuild&&2010102==this.m_FacilityData.Id&&this.NobuildTips.node.getWorldPosition(b.instance.guideHandWorldPos)},o.guideClick=function(t){t.click==d.tableBuild&&2010102==this.m_FacilityData.Id&&this.touchCallback()},o.updateBuildStart=function(){var t=this.NobuildTips.updateBuildStart();this.buildTips.updateBuildStart(t)},o.touchCallback=function(){r.openView(D.FastBuildConfigView,null,this.m_FacilityData.Id,this.m_AreaTableData.Gold,this.m_AreaTableData.UnlockStar)},o.UpdateConstructItem=function(t,i,e){i==this.m_FacilityData.Id&&(f.instance.updateLobbyDeskMax(e,t)&&l.event(m.UpdateDeskMax,t))},i}(u)).prototype,"NobuildTips",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(k.prototype,"buildTips",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=k))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructOutsideDoor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./PlayerBaseConfig.ts","./EventUtility.ts","./LobbyCameraControl.ts","./LobbyRoomData.ts"],(function(n){"use strict";var t,e,o,a,i,s,r,c,u,m;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,a=n.Label,i=n.Component},function(n){s=n.eventDispatcher},function(n){r=n.playerBaseConfig},function(n){c=n.MEventNames},function(n){u=n.LobbyCameraControl},function(n){m=n.ELobbyRoomId}],execute:function(){var l;e._RF.push({},"f608dBL2u1OM4n6/lqmm4rA","ConstructOutsideDoor",void 0);var h=o.ccclass;o.property,n("ConstructOutsideDoor",h("ConstructOutsideDoor")(l=function(n){function e(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))||this).m_nameLab=null,t}t(e,n);var o=e.prototype;return o.onLoad=function(){var n=this.node.getChildByName("name");this.m_nameLab=n.getComponent(a),this.m_nameLab&&(this.m_nameLab.string="Idle Restaurant Tycoon")},o.onEnable=function(){this.initEvent()},o.onDisable=function(){this.removeEvent()},o.initEvent=function(){s.on(c.ChangeName,this,this.ChangeName)},o.removeEvent=function(){s.off(c.ChangeName,this,this.ChangeName)},o.ChangeName=function(){this.m_nameLab&&(this.m_nameLab.string=r.playerName)},o.onToScene=function(){u.instance.jumpToRoomId(m.Lobby)},e}(i))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructRoom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./FacilityConfig.ts","./FacilityTool.ts","./EventUtility.ts","./LobbyNode.ts","./LobbyUtility.ts","./StaffTaskQueue.ts","./ConstructBase.ts","./ConstructDesk.ts","./ConstructMgr.ts","./InitialUnlockNode.ts","./KitchenCookMgr.ts","./SceneMemuMgr.ts"],(function(t){"use strict";var e,s,i,n,o,a,r,h,c,d,l,u,m,k,D,f,p,S,v,g;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,i=t._decorator,n=t.Vec3,o=t.randomRangeInt},function(t){a=t.eventDispatcher},function(t){r=t.facilityConfig},function(t){h=t.FacilityTool},function(t){c=t.MEventNames},function(t){d=t.LobbyNode},function(t){l=t.MLobbyEvent,u=t.ELobbyServeDishes},function(t){m=t.EStaffTaskType},function(t){k=t.ConstructBase},function(t){D=t.ConstructDesk},function(t){f=t.ConstructMgr},function(t){p=t.InitialUnlockNode},function(t){S=t.KitchenCookMgr},function(t){v=t.ESceneMenuData,g=t.SceneMemuMgr}],execute:function(){var C;s._RF.push({},"23a8874z8pP3onO6VR4bZqZ","ConstructRoom",void 0);var _=i.ccclass;i.property,t("ConstructRoom",_("ConstructRoom")(C=function(t){function s(){for(var e,s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).m_DeskId=0,e.m_Desk=void 0,e.m_TipsPos=null,e.m_RoomName=void 0,e.m_RoomId=0,e}e(s,t);var i=s.prototype;return i.onLoad=function(){this.initConstruct(this.node),this.registerUpdateConstruct("Desk",this.UpdateDesk),this.registerUpdateConstruct("Wall",this.UpdateAnyConstruct),this.registerUpdateConstruct("Sofa",this.UpdateAnyConstruct),this.registerUpdateConstruct("AirConditioner",this.UpdateAnyConstruct),this.registerUpdateConstruct("Decorate",this.UpdateAnyConstruct),this.registerUpdateConstruct("Counter",this.UpdateAnyConstruct)},i.registerDeskId=function(t){this.m_DeskId=t;var e=this.getDeskNode();this.initMaxDesk(),e.children.length},i.registerConstructRoom=function(t,e,s){var i=this;this.m_RoomName=e,this.m_SortNode=t,f.instance.registerConstruct(e,this),this.registerInitialTips(s),this.scheduleOnce((function(){i.UpdateAreaUnlock(e)}),.5)},i.registerInitialTips=function(t){var e=this.m_ConstructMap.Initial;if(e){var s=e.getComponentsInChildren(p);if(0!=s.length)for(var i in s){s[i].initUnlockNode(this.m_RoomName,t)}}},i.switchInitial=function(t,e){var s=this.m_ConstructMap.Initial;s&&s.active&&(this.m_SortNode=t,this.switchNode(t,s))},i.initEvent=function(){a.on(l.CustomerSitDown,this,this.OnCustomerSitDown),a.on(l.ServeDished,this,this.OnServeDished),a.on(l.PayEating,this,this.OnPayEating),a.on(l.PayEated,this,this.OnPayEated),a.on(l.ClearEatTable,this,this.OnClearEatTable),a.on(c.UpdateAreaUnlock,this,this.UpdateAreaUnlock),a.on(c.UpdateAllAreaUnlock,this,this.UpdateAllAreaUnlock),a.on(l.StartDine,this,this.OnStartDine),a.on(l.OrderDished,this,this.OnOrderDished),a.on(l.UpdateDeskMax,this,this.UpdateDeskMax)},i.removeEvent=function(){a.off(l.CustomerSitDown,this,this.OnCustomerSitDown),a.off(l.ServeDished,this,this.OnServeDished),a.off(l.PayEating,this,this.OnPayEating),a.off(l.PayEated,this,this.OnPayEated),a.off(l.ClearEatTable,this,this.OnClearEatTable),a.off(c.UpdateAreaUnlock,this,this.UpdateAreaUnlock),a.off(c.UpdateAllAreaUnlock,this,this.UpdateAllAreaUnlock),a.off(l.StartDine,this,this.OnStartDine),a.off(l.OrderDished,this,this.OnOrderDished),a.off(l.UpdateDeskMax,this,this.UpdateDeskMax)},i.getDeskNode=function(){return this.m_ConstructMap.Desk},i.UpdateDesk=function(t,e,s,i,n,o){e.updateNode(s,i),e.registerDeskToSortNode(e.m_DeskId,i,o)},i.OnCustomerSitDown=function(t){if(t==this.m_DeskId){var e={eMenuStart:v.Order,data:{handler:l.OrderDishes,hanlderData:t},task:{taskHandler:m.OrderDishes,taskData:t}};this.setDeskSceneMenuState(e)}},i.OnServeDished=function(t,e){if(t==this.m_DeskId){var s=S.instance.getCookOrderId(t,e);s&&this.updateSceneFoodServce(s,e)}},i.OnCustomerLeaveEating=function(t){this.m_DeskId==t&&this.resetDeskStarte(t)},i.OnPayEating=function(t){if(this.m_DeskId==t){this.resetWare(t);var e={eMenuStart:v.PayABill,data:{handler:l.PayEating3,hanlderData:t,subHandle:l.PayEating2},task:{taskHandler:m.Cashier,taskData:t}};this.setDeskSceneMenuState(e)}},i.OnPayEated=function(t,e){void 0===e&&(e=!0),this.m_DeskId==t&&a.event(l.ClearEatTableing,[t,e])},i.OnClearEatTable=function(t){this.m_DeskId==t&&this.resetDeskStarte(t)},i.resetDeskStarte=function(t){var e=S.instance.CookOrder[t];if(e){e=null;var s=this.m_Desk;s&&s.resetDeskSceneFood()}},i.updateSceneFoodServce=function(t,e){t.NdeskId;var s=this.m_Desk;s&&s.updateSceneFoodType(t,e)},i.setDeskSceneMenuState=function(t){this.m_Desk&&(t.worldPosition=this.getTipsPostion(0),g.instance.showTips(t))},i.getTipsPostion=function(t){if(this.m_TipsPos)return this.m_TipsPos;var e=this.m_Desk;if(!e)return null;var s=e.getTipsPostion().clone(),i=f.instance.getSceneTipsPos(s);return this.m_TipsPos=i,i},i.resetWare=function(t){var e=this.m_Desk;if(e){var s=S.instance.CookOrder[t];s&&e.udpateReset(s)}},i.registerDeskToSortNode=function(t,e,s,i){void 0===i&&(i=!0);var n=e.getComponent(D);n&&(this.m_Desk&&this.m_Desk.removeSortLst(),this.m_Desk=n,n.registerSortAllNode(this.m_SortNode),this.registerETable(t,n,s),i||this.registerDesk(t,n))},i.registerDesk=function(t,e){var s=this.m_Desk;s&&s.removeSortLst(),this.m_Desk=e},i.registerETable=function(t,e,s){var i=d.instance.eatTables[t];i=e.registerETable(t,i,s),d.instance.eatTables[t]=i},i.UpdateAreaUnlock=function(t){if(t==this.m_RoomName){var e=this.checkInitial("Initial",this.m_RoomName);this.updateAllConstruct(t),!e&&this.UpdateDeskMax(this.m_RoomName)}},i.UpdateAllAreaUnlock=function(){this.UpdateAreaUnlock(this.m_RoomName)},i.isDesk=function(){return null==this.m_Desk},i.UpdateWall=function(t,e,s,i,n){e.updateNode(s,i),e.switchWall(e.m_SortNode)},i.switchWall=function(t){var e=this.m_ConstructMap.Wall.getComponentInChildren("ConstructRoomWall");e&&this.setSortNodeVer("Wall",e.node)},i.onCookingEnd=function(t,e,s){if(this.m_DeskId==t){var i={eMenuStart:s==u.HotPot?v.OrderBowl:v.ServerTDishes,task:s==u.HotPot?{taskHandler:m.ServeHotPot,taskData:t}:{taskHandler:m.ServeDishes,taskData:t},data:{handler:l.ServeDished,hanlderData:[t,s],subHandle:l.ServeDishes}},o=this.m_Desk.getTipsPostion();i.worldPosition=f.instance.getSceneTipsPos(o),i.scale=new n(.8,.8,1),g.instance.showTips(i)}},i.OnStartDine=function(t,e){if(this.m_DeskId==t){var s={eMenuStart:v.StartDine},i=this.m_Desk.getTimePostion();s.worldPosition=f.instance.getSceneTipsPos(i),g.instance.showTimeTips(s,e)}},i.OnOrderDished=function(t){var e=t.NdeskId;if(this.m_DeskId==e){var s=o(0,t.NbowlId.length),i={eMenuStart:t.NbowlId[s],data:{handler:l.ImmediatelyCookEnd,hanlderData:e,subHandle:l.StartDine,findHanndle:l.ServeDishes}},n=this.m_Desk;console.assert(null!=n,"deskId = "+this.m_DeskId+" to null");var a=n.getTimePostion();i.worldPosition=f.instance.getSceneTipsPos(a),g.instance.showCookEnd(i)}},i.UpdateDeskMax=function(t){t==this.m_RoomName&&this.CheckNobuiltDesk(this.m_RoomName)},i.initMaxDesk=function(){r.registerMaxDeskId(this.m_RoomName,this.m_DeskId),h.instance.registerMaxDeskId(this.m_RoomName,this.m_DeskId)},s}(k))||C);s._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructRoomWall.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Lobby.ts","./ConstructBase.ts"],(function(t){"use strict";var o,n,e,c,r;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){c=t.Lobby},function(t){r=t.ConstructBase}],execute:function(){var s;n._RF.push({},"bc747LnLgVPJKqFzjhkgjo0","ConstructRoomWall",void 0);var i=e.ccclass;e.property,t("ConstructRoomWall",i("ConstructRoomWall")(s=function(t){function n(){for(var o,n=arguments.length,e=new Array(n),c=0;c<n;c++)e[c]=arguments[c];return(o=t.call.apply(t,[this].concat(e))||this).m_Second=[],o.m_SortName=null,o}o(n,t);var e=n.prototype;return e.UpdateSecond=function(t){return 0==this.m_Second.length&&(this.m_SortName=t,this._updateSwitch()),this.m_Second},e._updateSwitch=function(){if(this.node)for(var t=c.instance.getDynNode(this.m_SortName),o=this.node.children,n=o.length-1;n>=0;n--){var e=o[n];this.switchNode(t,e),this.m_Second.push(e)}},e.start=function(){},n}(r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructScale.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LobbyUtility.ts"],(function(t){"use strict";var o,e,n,i,c,s,u;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,i=t.view,c=t.Component},function(t){s=t.eventDispatcher},function(t){u=t.MLobbyEvent}],execute:function(){var l;e._RF.push({},"3957a7F19ZPkbfttBOXKLZ/","ConstructScale",void 0);var r=n.ccclass;n.property,t("ConstructScale",r("ConstructScale")(l=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.onLoad=function(){},n.updateScale=function(){var t=i.getVisibleSize(),o=t.width/1080,e=t.height/1920;this.node.setScale(o,e,1)},n.onEnable=function(){this.initEvent()},n.onDisable=function(){this.removeEvent()},n.initEvent=function(){s.on(u.AllRoomLoaded,this,this.AllRoomLoaded)},n.removeEvent=function(){s.off(u.AllRoomLoaded,this,this.AllRoomLoaded)},n.AllRoomLoaded=function(){this.updateScale()},e}(c))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructSideTable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LobbyUtility.ts","./ConstrucFoodPos.ts","./FoodEnumConfig.ts","./SceneFoodPlate.ts"],(function(t){"use strict";var e,o,n,i,s,r,c,a;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator},function(t){i=t.eventDispatcher},function(t){s=t.MLobbyEvent},function(t){r=t.ConstrucFoodPos},function(t){c=t.ECookRect},function(t){a=t.SceneFoodPlate}],execute:function(){var d;o._RF.push({},"d072d5X6fhIqJhhSnmesksa","ConstructSideTable",void 0);var u=n.ccclass;n.property,t("ConstructSideTable",u("ConstructSideTable")(d=function(t){function o(){return t.apply(this,arguments)||this}return e(o,t),o.prototype.registerNode=function(){var t=this.node.getComponentsInChildren(a);this.m_StayInstant[c.PLATHE]=t;var e=this.getChildPos(c.PLATHE),o=this.getChildPosRotaition(c.PLATHE);i.event(s.UpdateKithenCookFood,[c.PLATHE,e,o]);var n=this.getChildPos(c.POT);i.event(s.UpdateKithenCookFood,[c.POT,n]);var r=this.node.getChildByName("tips"),d=r.getChildByName("pot");this.m_StayInstant[c.POTTIPS]=d.children;var u=r.getChildByName("food");this.m_StayInstant[c.DISHTIPS]=u.children},o}(r))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructTouch.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./UIConfig.ts"],(function(t){"use strict";var o,n,c,i,u,e,s;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,c=t._decorator,i=t.Node,u=t.Component},function(t){e=t.uiManager},function(t){s=t.MUIConfig}],execute:function(){var r;n._RF.push({},"e31e7OyArNHMbsqZJ8RDc/h","ConstructTouch",void 0);var h=c.ccclass,a=(c.property,["desk","touch"]);t("ConstructTouch",h("ConstructTouch")(r=function(t){function n(){for(var o,n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(o=t.call.apply(t,[this].concat(c))||this).m_quickBuy=0,o.m_facilityId=0,o.m_touchNode=null,o}o(n,t);var c=n.prototype;return c.onLoad=function(){this.initTouchNode(),this.m_touchNode.on(i.EventType.TOUCH_END,this.callback,this)},c.setConstruct=function(t,o){this.m_quickBuy=t,this.m_facilityId=o},c.callback=function(t){e.openView(s.FastBuyView,null,this.m_quickBuy,this.m_facilityId)},c.initTouchNode=function(){for(var t=a.length,o=null,n="",c=0;c<t;c++)if(n=a[c],o=this.node.getChildByName(n))return void(this.m_touchNode=o);this.m_touchNode=this.node},n}(u))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/ConstructWash.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KitchenNode.ts"],(function(t){"use strict";var o,n,e,s,i;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,s=t.Component},function(t){i=t.KitchenNode}],execute:function(){var c;n._RF.push({},"14d42mdhpdN55TwRwqqt7MN","ConstructWash",void 0);var r=e.ccclass;e.property,t("ConstructWash",r("ConstructWash")(c=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var e=n.prototype;return e.onLoad=function(){this.initWashPoolNode()},e.initWashPoolNode=function(){var t=i.instance,o=this.node.getChildByName("effects");o&&t.initWashPoolNode(o.children)},n}(s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/ConstrucWineCooler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LobbyUtility.ts","./ConstrucFoodPos.ts","./FoodEnumConfig.ts"],(function(o){"use strict";var t,n,e,r,i,s,c;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator},function(o){r=o.eventDispatcher},function(o){i=o.MLobbyEvent},function(o){s=o.ConstrucFoodPos},function(o){c=o.ECookRect}],execute:function(){var u;n._RF.push({},"9b5abylCkREqIkrxfPecQF1","ConstrucWineCooler",void 0);var l=e.ccclass;e.property,o("ConstrucWineCooler",l("ConstrucWineCooler")(u=function(o){function n(){return o.apply(this,arguments)||this}return t(n,o),n.prototype.registerNode=function(){var o=this.getChildPos(c.DRINK);r.event(i.UpdateKithenCookFood,[c.DRINK,o])},n}(s))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/ContactAdConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./NoviceGuideMgr.ts","./ItemData.ts","./DataTable.ts","./EventUtility.ts","./GameTool.ts","./BuffConfig.ts","./BuffTimelinessConfig.ts","./GameCensusConfig.ts","./ItemConfig.ts","./StarConfig.ts"],(function(t){"use strict";var i,e,n,s,o,a,r,c,u,h,f,d,g,l,_,v,m,C,D;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,n=t._decorator,s=t.director,o=t.macro},function(t){a=t.eventDispatcher},function(t){r=t.dataTableManager},function(t){c=t.NoviceGuideMgr},function(t){u=t.ItemData},function(t){h=t.EDataTables},function(t){f=t.MEventNames},function(t){d=t.GameTool},function(t){g=t.EBuffType,l=t.EBuffSource},function(t){_=t.buffTimelinessConfig},function(t){v=t.gameCensusConfig},function(t){m=t.EItemEnum,C=t.itemConfig},function(t){D=t.starConfig}],execute:function(){e._RF.push({},"fbeceDtGplDWL0sKdLju9Kq","ContactAdConfig",void 0);n.ccclass,n.property,t("contactAdConfig",new(function(){function t(){this._isFirst=!0,this._interval=0,this.duration=0,this._longTime=0,this._success=!1,this._configCount=1,this.isPause=!1,this._rewardData=[],this._speed=1,this.configID=0,this._config=null}var e=t.prototype;return e.onInit=function(){this._configCount=r.getDataTableArray(h.ContactAd).length,this.mySchedule&&(this.mySchedule(),this.mySchedule=null),this._isFirst&&this.refreshNew()},e.mySchedule=function(){var t=s.getScheduler();t.schedule(this.update.bind(this),t,.5,o.REPEAT_FOREVER,0,!1)},e.refreshNew=function(){this.configID=this.configID%this._configCount+1,this.duration=0,this._interval=this._success?this.config.SuccedCD:this.config.FailCD,this._isFirst&&(this._isFirst=!1),a.event(f.contactAdRefresh)},e.eventLong=function(){this.config},e.eventCanShow=function(){return!0},e.eventShow=function(){var t=this,i=this.config;if(this.duration=i.Duration,this._rewardData.splice(0),2==i.RewardType){var e=d.splitNumberArray(i.ItemId+""),n=d.splitNumberArray(i.ItemNum+"");e.forEach((function(i,e){var s=new u(i,n[e]||0);s.id==m.money_event&&(s.id=m.money,s.num=Math.floor(s.num*v.goldValue*D.getCurStarDic().Multiple)),t._rewardData.push(s)}))}a.event(f.contactAdRefresh)},e.durationOver=function(){this._success=!1,this.refreshNew()},e.longTimeOver=function(){this._success=!1,this.refreshNew()},e.getReward=function(){var t=!0,i=this.config;switch(i.RewardType){case 1:_.ChangeBuff(g.MoneyUp,l.ContactAd,100,i.Continued),g.MoneyUp,l.ContactAd;break;case 2:this._rewardData.forEach((function(t){C.addItem(t.id,t.num)}));break;default:t=!1}return t&&(a.event(f.contactAdOver),this._success=!0,this.refreshNew()),this._rewardData},e.getRewardData=function(){return this._rewardData},e.update=function(t){void 0===t&&(t=0),c.instance.isDone()&&(t*=this._speed,this.isPause||(this._interval>0?(this._interval-=t,this._interval<=0&&(this._interval=0,this.eventCanShow()?this.eventShow():this.eventLong())):this.duration>0?(this.duration-=t,this.duration<=0&&(this.duration=0,this.durationOver())):this._longTime>0&&(this._longTime-=t,this.eventCanShow()?(this._longTime=0,this.eventShow()):this._longTime<=0&&(this._longTime=0,this.longTimeOver()))))},i(t,[{key:"config",get:function(){return this._config&&this._config.ID==this.configID||(this._config=r.getData(h.ContactAd,this.configID)),this._config}}]),t}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/ContactAdMgr.ts",["cc","./Configable.ts"],(function(){"use strict";var t;return{setters:[function(c){t=c.cclegacy},null],execute:function(){t._RF.push({},"6c53fw8oydDdaY7e88ZwJTh","ContactAdMgr",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ContactAdView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./ContactAdConfig.ts","./ItemConfig.ts","./GameUtility.ts","./GoogleAdMob.ts","./ResourceTool.ts","./UIConfig.ts"],(function(t){"use strict";var e,i,n,o,r,a,c,l,u,s,f,d,p,g,m,h,w,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Label,l=t.Node},function(t){u=t.LocalizationHelper},function(t){s=t.uiManager},function(t){f=t.UIView},function(t){d=t.default},function(t){p=t.contactAdConfig},function(t){g=t.itemConfig},function(t){m=t.EGameBundles},function(t){h=t.googleAdMober},function(t){w=t.ResourceTool},function(t){b=t.MUIConfig}],execute:function(){var y,C,v,I,A,P,z,T,V,D,L,R,U,M,S;r._RF.push({},"4cf3aBi6QdEopp08Kcj0mwy","ContactAdView",void 0);var _=a.ccclass,E=a.property;t("ContactAdView",(y=_("ContactAdView"),C=E(c),v=E(c),I=E(c),A=E(l),P=E(l),z=E(l),y((D=e((V=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"title",D,o(e)),n(e,"des",L,o(e)),n(e,"numLab",R,o(e)),n(e,"adPar",U,o(e)),n(e,"itemPar",M,o(e)),n(e,"itemTemplate",S,o(e)),e._configID=0,e}i(e,t);var r=e.prototype;return r.onClose=function(){p.isPause=!1},r.onInit=function(){this.itemTemplate.active=!1},r.onOpen=function(){var t=this,e=p.config;this._configID=e.ID,this.title.string=u.getString(e.TitleName),this.des.string=u.getString(e.Des);var i="";1==e.RewardType&&(i="x2",this.numLab.string=i),this.adPar.children.forEach((function(t,i){t.active=i==e.ID-1})),2==e.RewardType&&(this.itemPar.removeAllChildren(),p.getRewardData().forEach((function(e){var i=d.instantiate(t.itemTemplate);i.active=!0,t.itemPar.addChild(i),w.setNodeSpriteFrame(m.LoadOnPlay,g.getItemIconUrl(e.id),i.children[0],t),i.children[1].getComponent(c).string="x"+e.num})))},r.watchSuccess=function(){var t=p.getReward();t.length>0&&s.openView(b.CongratulationView,null,{data:t}),s.closeView(this)},r.clickWatch=function(){var t=this;h.showRewardedAd((function(){t.watchSuccess()}))},r.clickClose=function(){s.closeView(this)},e}(f)).prototype,"title",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(V.prototype,"des",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(V.prototype,"numLab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(V.prototype,"adPar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(V.prototype,"itemPar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(V.prototype,"itemTemplate",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=V))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/COrderDishesState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts"],(function(t){"use strict";var n,e,s,i;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy},function(t){i=t.FsmState}],execute:function(){s._RF.push({},"ffc1558wvBPeocQjcxG0BWV","COrderDishesState",void 0),t("CWaitDishesState",function(t){function s(){return t.apply(this,arguments)||this}n(s,t);var i=s.prototype;return i.onEnter=function(t,n){},i.onExecute=function(t,n){},i.onExit=function(t){},e(s,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new s),this.m_Instance}}]),s}(i)).m_Instance=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/CPayEatState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts"],(function(t){"use strict";var n,e,s,i;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy},function(t){i=t.FsmState}],execute:function(){s._RF.push({},"3414eh8WzNBiLwQEub/RPdf","CPayEatState",void 0),t("CPayEatState",function(t){function s(){return t.apply(this,arguments)||this}n(s,t);var i=s.prototype;return i.onEnter=function(t,n){},i.onExecute=function(t,n){},i.onExit=function(t){},e(s,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new s),this.m_Instance}}]),s}(i)).m_Instance=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/CustomerAnimAgent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,n,e,s,a,o,m,_,r,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,s=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,m=t._decorator,_=t.sp,r=t.randomRangeInt,l=t.Component}],execute:function(){var p,c,u,h,D,w;o._RF.push({},"bb82bUtbEBL9aSjOYImid2E","CustomerAnimAgent",void 0);var S,A,d=m.ccclass,g=m.property;!function(t){t.Idle="idle",t.Move="move",t.SitDownOutside="sitDown_LR_02",t.SitDownF="sitDown_F",t.SitDownLF="sitDown_F",t.SitDownL="sitDown_LR",t.SitDownB="sitDown_B",t.SitDownLB="sitDown_B",t.EatF="eat_F",t.EatLF="eat_F",t.EatL="eat_LR",t.EatB="eat_B",t.EatLB="eat_B"}(S||(S={})),function(t){t[t.None=0]="None",t[t.Idle=1]="Idle",t[t.Eat=2]="Eat",t[t.SitDown=3]="SitDown"}(A||(A={}));t("CustomerAnimAgent",(p=d("CustomerAnimAgent"),c=g(_.Skeleton),p(((w=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=t.call.apply(t,[this].concat(a))||this,e(i,"m_Spine",D,s(i)),i.m_AnimTag=A.None,i.m_TagAnims=void 0,i.m_BaseAnim=void 0,i.m_AnimIndex=0,i}n(i,t);var o=i.prototype;return o.start=function(){this.m_Spine.setCompleteListener(this.onComplete.bind(this))},o.onComplete=function(t){if(this.m_AnimTag>0){var i=this.m_TagAnims,n=i[r(0,i.length)],e=this.m_BaseAnim+n;this.play(e)}},o.move=function(){this.play(S.Move),this.animTag=A.None},o.idle=function(){var t=S.Idle;this.m_BaseAnim=t,this.play(t),this.animTag=A.Idle},o.sitDownOutside=function(){this.play(S.SitDownOutside),this.animTag=A.None},o.sitDown=function(t){var n=i.s_SitDownAnims[t-1];this.m_BaseAnim=n,n+=i.s_SitDownTypes[0],this.play(n),this.animTag=A.SitDown},o.eat=function(t){var n=i.s_EatAnims[t-1];this.m_BaseAnim=n,n+=i.s_EatTypes[0],this.play(n),this.animTag=A.Eat},o.stop=function(){var t=this.m_Spine;t.isAnimationCached()?t.setToSetupPose():t.clearTracks()},o.play=function(t){this.m_Spine.setAnimation(0,t,!0)},a(i,[{key:"animTag",set:function(t){this.m_AnimTag=t,this.m_TagAnims=null,this.m_AnimIndex=1,t==A.Idle?this.m_TagAnims=i.s_IdleTypes:t==A.Eat?this.m_TagAnims=i.s_EatTypes:t==A.SitDown&&(this.m_TagAnims=i.s_SitDownTypes)}}]),i}(l)).s_SitDownAnims=[S.SitDownF,S.SitDownLF,S.SitDownL,S.SitDownLB,S.SitDownB,S.SitDownLB,S.SitDownL,S.SitDownLB],w.s_EatAnims=[S.EatF,S.EatLF,S.EatL,S.EatLB,S.EatB,S.EatLB,S.EatL,S.EatLB],w.s_IdleTypes=["","","","2"],w.s_EatTypes=["_01","_01","_01","_02","_02","_02","_02","_02"],w.s_SitDownTypes=["_01","_02","_02","_02","_02","_02","_02"],D=i((h=w).prototype,"m_Spine",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=h))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/CustomerGroupTable.ts",["cc","./DataTableManager.ts","./DataTable.ts","./CustomerTable.ts"],(function(t){"use strict";var r,a,e,n,u;return{setters:[function(t){r=t.cclegacy,a=t.randomRangeInt},function(t){e=t.dataTableManager},function(t){n=t.EDataTables},function(t){u=t.CustomerTable}],execute:function(){r._RF.push({},"11961mpuyNHV7Wzl8ZORXG/","CustomerGroupTable",void 0);var o=t("CustomerGroupTable",function(){function t(){}return t.init=function(){this.m_Datas=e.getDataTable(n.CustomerGroup);var t=this.m_Datas;for(var r in t){var a=t[r],u=a.Res_ID+"";a.Res_ID=u.split("_");var o=a.StoryID+"";a.StoryID=o.split("_");var s=a.StoryLimit+"";a.StoryLimit=s.split("_");var i=a.StoryPr+"";a.StoryPr=i.split("_")}},t.getGuideCust=function(){return 1},t.getCust=function(){var t=u.getDataTable(),r=Object.keys(t);return parseInt(r[a(0,r.length)])},t.getGroupData=function(t){var r=this.m_Datas,a=this.m_CustGroup0;a.length=0;for(var e=0;e<t.length;e++)a.push(t[e].config.Id);var n=a.sort().toString();for(var u in r){var o=r[u];if(n==o.Res_ID.sort().toString())return o}return null},t}());o.m_Datas=void 0,o.m_CustGroup0=[],r._RF.pop()}}}));

System.register("chunks:///_virtual/CustomerNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReferencePool.ts","./Fsm.ts","./AssetHelper.ts","./AssetLoader.ts","./NodeUtils.ts","./BuffConfig.ts","./GameUtility.ts","./CustomerTable.ts","./CommonTalkNode.ts","./GuestFlyerNode.ts","./Lobby.ts","./EatTable.ts","./LobbyNode.ts","./LobbyOutsideNode.ts","./LobbyRoomData.ts","./LobbyUtility.ts","./MapManager.ts","./MapRoadManager.ts","./RoadSeekerAgent.ts","./StaffBase.ts","./CEatState.ts","./CGoEatState.ts","./CLeaveState.ts","./COrderDishesState.ts","./CPayEatState.ts","./CustomerAnimAgent.ts","./CWaitState.ts"],(function(t){"use strict";var e,i,a,s,n,o,r,h,d,c,l,f,u,m,g,y,v,_,b,p,P,S,T,L,k,I,C,A,x,N,E,R,D,w,O,B,V,G,M,W,F,H,U;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,r=t.Node,h=t.v3,d=t.Prefab,c=t.randomRangeInt,l=t.Component},function(t){f=t.default},function(t){u=t.Fsm},function(t){m=t.AssetHelper},function(t){g=t.assetLoader},function(t){y=t.default},function(t){v=t.buffConfig,_=t.EBuffType},function(t){b=t.EGameBundles,p=t.MLoadOnPlayRes},function(t){P=t.CustomerTable},function(t){S=t.CommonTalkNode},function(t){T=t.GuestFlyerNode},function(t){L=t.Lobby},function(t){k=t.EEatChairFace},function(t){I=t.LobbyNode},function(t){C=t.LobbyOutsideNode},function(t){A=t.LobbyRoomData},function(t){x=t.ELobbyLayer},function(t){N=t.MapManager},function(t){E=t.default},function(t){R=t.RoadSeekerAgent},function(t){D=t.EStaffMoveState},function(t){w=t.CEatState},function(t){O=t.CGoEatOutsideState,B=t.CGoEatState},function(t){V=t.CLeaveState,G=t.CLeaveOutsideState},function(t){M=t.CWaitDishesState},function(t){W=t.CPayEatState},function(t){F=t.CustomerAnimAgent},function(t){H=t.CWaitState,U=t.CWaitInsideState}],execute:function(){var z,X,j,Q,q,J;n._RF.push({},"a20d8VPwtRNjL7qZwDzs/J/","CustomerNode",void 0);var Z=o.ccclass,K=o.property;t("CustomerNode",(z=Z("CustomerNode"),X=K(r),z(((J=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,a(e,"talkNode",q,s(e)),e.m_Lobby=void 0,e.m_RoadAgent=void 0,e.m_ResId=-1,e.m_TalkId=-1,e.m_Talk=void 0,e.m_Angry=void 0,e.m_Road0={px:0,py:0},e.m_Road1={px:0,py:0},e.m_ResNodes=[],e.m_SpineNode=void 0,e.m_TransferStep=-1,e.m_TransferHandler=void 0,e.m_EatTable=void 0,e.m_Vec0=h(),e.m_Vec1=h(),e.m_Vec3=h(),e.group=void 0,e.groupData=void 0,e.fsm=void 0,e.chairId=void 0,e.chairPos=void 0,e.startPos=h(),e.waitPos=void 0,e.animAgent=void 0,e.dynLayer=void 0,e.config=void 0,e.waitTime=0,e.step=-1,e.firstInside=!1,e.animState=-1,e}i(e,t);var n=e.prototype;return n.onLoad=function(){this.fsm=u.get(this),this.animAgent=this.getComponent(F),this.m_SpineNode=this.animAgent.m_Spine.node;var t=this.getComponent(R);this.m_RoadAgent=t,t.rotateHandler=this.onRotate.bind(this),t.endHandler=this.onPathEnd.bind(this)},n.onDestroy=function(){this.fsm&&f.recover(this.fsm),this.fsm=this.m_RoadAgent=this.animAgent=this.m_Road0=this.m_Road1=this.m_ResNodes=null},n.onEnable=function(){this.m_Lobby=L.instance},n.onDisable=function(){this.m_Lobby=null,this.m_RoadAgent.enabled=!1,this.m_ResNodes.length=0,this.chairPos=this.chairId=this.group=this.config=this.groupData=null,this.m_EatTable=this.waitPos=null,this.fsm.changeState(null),this.animAgent.stop(),this.unscheduleAllCallbacks();var t=this.m_TalkId;t>-1&&clearInterval(t),this.m_TalkId=-1,this.m_Talk&&y.remove(this.m_Talk),this.m_Talk=null,this.m_TransferStep=-1,this.m_TransferHandler=null,this.waitTime=0,this.firstInside=!1,this.step=-1,this.removeAngry()},n.update=function(t){this.fsm.update(t)},n.initOutSide=function(t,i,a,s){this.dynLayer=x.LobbyOutside+"",this.group=t,this.groupData=i,this.config=a,this.waitTime=a.WaitTime/(1+v.getBuffNum(_.WaitTimeAdd)),this.node.getPosition(this.startPos),this.startTalk(),this.setFace(1),this.animState=-1,this.m_RoadAgent.speed=e.baseSpeed*a.WalkSpeed,this.m_ResId<0&&(this.m_ResId=a.Id,this.animAgent.m_Spine.skeletonData=m.assign(s,this.node,!0))},n.startGuest=function(){var t=this,e=E.get(this.dynLayer),i=this.m_Vec0;e.getUIByPixel(this.startPos,i);var a=C.Config.refreshArea;i.x=i.x<0?a.leftBottom.x:a.rightTop.x,e.getPixelByUI(i.x,i.y,i),this.startPos.x=i.x;var s=p.GuestFlyerNode;g.load(b.LoadOnPlay,s,d,(function(e,a){var n=y.instantiate(s,a);i.set();var o=t.config.talkPos[-1];o&&i.set(o[0],o[1]+50),n.setPosition(i),t.talkNode.addChild(n),n.getComponent(T).initLaugh()}))},n.startAngry=function(t){var e=this,i=p.GuestFlyerNode,a=this.m_Vec0;g.load(b.LoadOnPlay,i,d,(function(s,n){if(e.firstInside){var o=y.instantiate(i,n);a.set();var r=e.config.talkPos[-1];r&&a.set(r[0],r[1]+50),o.setPosition(a),e.talkNode.addChild(o),o.getComponent(T).initAngry(t),e.m_Angry=o}}))},n.startGoEatOutside=function(t){this.fsm.changeState(O.instance)},n.startGuide=function(){var t=I.instance;if(C.instance.addWaitCusts(this.group),t.checkEatTable()){var e=this.group,i=e.length,a=0;this.schedule((function(){var t=e[a];t.unscheduleAllCallbacks(),t.fsm.changeState(B.instance),t.endOutside(),a++}),.6,i-1,0)}},n.endGoEatOutside=function(t,e,i){if(!this.m_EatTable){if(t||this.chairPos)return t&&(this.chairPos=t),e&&(this.chairId=e),void(i?this.fsm.changeState(H.instance,this.chairPos):(this.stopMove(),this.changeStateDelay(H.instance,0,this.chairPos)));var a=I.instance,s=C.instance,n=this.group;if(s.addWaitCusts(n),a.checkEatTable());else if(!a.checkQueue(n)&&!s.checkChair(n))for(var o=s.getQueueArea(this.startPos),r=0;r<n.length;r++){n[r].fsm.changeState(H.instance,o[r]||o[o.length-1])}}},n.startGoEat=function(t){this.stopMove(),this.removeAngry(),this.m_EatTable=t,this.fsm.changeState(B.instance),this.dynLayer==x.Lobby+""&&this.startInside()},n.startGoWaitInside=function(t,e){this.waitPos=t,this.firstInside=e,this.stopMove(),this.fsm.changeState(U.instance)},n.updateWaitInside=function(t,e){this.step=-1,this.waitPos=t,this.firstInside=e,this.dynLayer==x.Lobby+""&&this.startInsideWait(t)},n.endOutside=function(t){var e=x.Lobby;this.dynLayer=e+"";var i=this.m_Lobby.getDynNode(e);this.node.setParent(i);var a=this.m_Vec0;a.set(I.Config.doorPos),E.get(this.dynLayer).getPixelByUI(a.x,a.y,a),this.node.setPosition(a),t?this.startInsideWait(t):this.startInside()},n.startInsideWait=function(t){this.seekPath0(t,x.Lobby+"",!0),this.animAgent.move()},n.startInside=function(){var t=this.m_EatTable,e=t.config,i=this.group.indexOf(this)+"";this.chairId=i;var a=e.chairs[i].pos;this.seekPath0(a,A.getTableLayer(t.tableId)+"")},n.endInside=function(){var t=this.m_EatTable.config.chairs[this.chairId].face;this.animAgent.sitDown(t);var e=this.getSitdownScaleX(t);this.setFace(e),this.m_EatTable.onSitDown(),t==k.Right?this.animState=k.Left:this.animState=t},n.setFace=function(t){var i=this.m_Vec0,a=e.baseScale,s=this.m_SpineNode;i.set(t*a,a,a),s.setScale(i)},n.waitDishes=function(){this.fsm.changeState(M.instance)},n.startEat=function(){var t=this.m_EatTable.config.chairs[this.chairId].face;this.animAgent.eat(t),this.fsm.changeState(w.instance)},n.endEat=function(){var t=this.m_EatTable.config.chairs[this.chairId].face;this.animAgent.sitDown(t),this.fsm.changeState(W.instance)},n.endPayEat=function(){this.fsm.changeState(V.instance)},n.startLeaveEat=function(){this.seekPath0(I.Config.doorPos,x.Lobby+"",!0),this.animAgent.move(),this.animState=-1},n.startOutside=function(){var t=x.LobbyOutside;this.dynLayer=t+"";var e=this.m_Lobby.getDynNode(t);this.node.setParent(e);var i=this.m_Vec0;i.set(C.Config.doorPos),E.get(this.dynLayer).getPixelByUI(i.x,i.y,i),this.node.setPosition(i),this.fsm.changeState(G.instance,!0)},n.stopMove=function(){this.m_RoadAgent.enabled=!1,this.animAgent.idle()},n.seekPath0=function(t,e,i){var a=this;void 0===i&&(i=!1);var s=this.m_Vec3,n=this.m_TransferStep,o=this.dynLayer;s.set(t.x,t.y);var r=i,h=e;switch(n){case-1:if(o==e)this.m_TransferHandler=null,this.seekPath(t,i);else this.m_TransferHandler=function(){a.m_TransferStep=D.TransferLeave,a.seekPath0(s,h,r)},t=A.getTransferPos(o)[1],i=!0,this.seekPath(t,i);break;case D.TransferLeave:if(o==e)this.m_TransferHandler=function(){a.m_TransferStep=-1,a.seekPath0(s,h,r)},t=A.getTransferPos(o)[1],i=!0,this.movePath(t,e,i);else this.m_TransferHandler=function(){a.transfer(h),a.m_TransferStep=D.TransferLeave,a.seekPath0(s,h,r)},t=A.getTransferPos(o)[0],i=!0,this.movePath(t,e,i)}},n.seekPath=function(t,e){var i=this.m_Vec0,a=this.m_Vec1;this.node.getPosition(i);var s=N.get(this.dynLayer);e&&(s.roadManager.getPixelByUI(t.x,t.y,a),t=a);var n=!1,o=!1,r=s.getNodeByPixel(i.x,i.y);0==r.value&&(n=!0,r.value=1);var h=s.getNodeByPixel(t.x,t.y);0==h.value&&(o=!0,h.value=1);var d=s.seekPathByPixel(i,t,this.m_ResNodes);n&&(r.value=0),o&&(h.value=0),this.replaceSafePath(d,i,t),this.m_RoadAgent.path=d},n.movePath=function(t,e,i){var a=this.m_Vec0,s=this.m_Vec1;this.node.getPosition(a);var n=N.get(this.dynLayer);i&&(n.roadManager.getPixelByUI(t.x,t.y,s),t=s);var o=this.m_ResNodes;o.length=0,this.replaceSafePath(o,a,t),this.m_RoadAgent.path=o},n.transfer=function(t){this.dynLayer=t;var e=this.m_Lobby.getDynNode(t);this.node.setParent(e);var i=A.getTransferPos(t),a=this.m_Vec0,s=i[0];E.get(t).getPixelByUI(s.x,s.y,a),this.node.setPosition(a)},n.onRotate=function(t,e,i){var a=this.m_Vec0;this.m_SpineNode.getScale(a);var s=a.x>0?1:-1;e.x-t.x>0?s=1:e.x-t.x<0&&(s=-1),this.setFace(s)},n.onPathEnd=function(){var t=this.m_TransferHandler;if(t)t();else{var e=this.fsm.currentState;e.onPathEnd&&e.onPathEnd(this)}},n.replaceSafePath=function(t,e,i){var a=this.m_Road0,s=this.m_Road1;a.px=e.x,a.py=e.y,s.px=i.x,s.py=i.y,t[0]=a,t[t.length>1?t.length-1:1]=s},n.changeStateDelay=function(t,e,i){var a=this;this.unscheduleAllCallbacks(),this.scheduleOnce((function(){a.fsm.changeState(t,i)}),e)},n.getSitdownScaleX=function(t){return e.s_SitDownScaleXs[t-1]},n.removeAngry=function(){this.m_Angry&&(y.remove(this.m_Angry),this.m_Angry=null)},n.startTalk=function(){var t=this,e=this.config,i=this.groupData,a=this.fsm,s=this.talkNode;this.m_TalkId=setInterval((function(){if(!i.talker){var n,o=a.currentState;if(o==O.instance?n=e.walkId:o==H.instance?n=e.waitId:o==M.instance?n=e.orderId:o==w.instance?n=e.eatId:o==W.instance?n=e.billId:o!=V.instance&&o!=G.instance||(n=e.leaveId),n&&n.length){var r=n[c(0,n.length)];if("0"==r)return;var h=P.getTalk(r),l=p.CommonTalkNode;i.talker=t,g.load(b.LoadOnPlay,l,d,(function(a,n){var o=y.instantiate(l,n);t.m_Talk=o;var r=t.m_Vec0;r.set();var d=e.talkPos[t.animState];d&&r.set(d[0],d[1]),o.setPosition(r),s.addChild(o),o.getComponent(S).refresh(h,1,(function(){i.talker=null,t.m_Talk=null}))}))}}}),1e3*e.TalkInterval)},e}(l)).s_SitDownScaleXs=[1,-1,-1,-1,1,1,1,1],J.baseSpeed=2.5,J.baseScale=1,q=e((Q=J).prototype,"talkNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=Q))||j));n._RF.pop()}}}));

System.register("chunks:///_virtual/CustomerTable.ts",["cc","./Log.ts","./DataTableManager.ts","./LocalizationHelper.ts","./DataTable.ts"],(function(t){"use strict";var e,a,l,i,r;return{setters:[function(t){e=t.cclegacy},function(t){a=t.default},function(t){l=t.dataTableManager},function(t){i=t.LocalizationHelper},function(t){r=t.EDataTables}],execute:function(){e._RF.push({},"655d9pmGxdLpYSnwH6tFkXf","CustomerTable",void 0);var s=t("CustomerTable",function(){function t(){}return t.init=function(){this.m_Datas=l.getDataTable(r.Customer),this.m_SmallTalk=l.getDataTable(r.SmallTalk),this.m_Food=l.getDataTable(r.Food);var t=this.m_Datas;for(var e in t){for(var a=t[e],i={},s=(a.Type_Id+"").split("_"),n=(a.Numlist+"").split("_"),o=0;o<s.length;o++){var d=s[o],u=n[o].split("|");i[d]=[parseInt(u[0]),parseInt(u[1])]}a.dishes=i,delete a.Type_Id,delete a.Numlist,a.walkId=(a.Walk+"").split("_"),a.waitId=(a.Wait+"").split("_"),a.orderId=(a.Order+"").split("_"),a.eatId=(a.Eat+"").split("_"),a.billId=(a.Bill+"").split("_"),a.leaveId=(a.Leave+"").split("_"),delete a.Walk,delete a.Wait,delete a.Order,delete a.Eat,delete a.Bill,delete a.Leave;for(var _=a.Talk_Position.split("|"),m=a.talkPos={},c=0,p=_.length;c<p;c++){var f=_[c].split("_");m[f[0]]=[parseInt(f[1]),parseInt(f[2])]}delete a.Talk_Position}},t.getData=function(t){return this.m_Datas[t]},t.getDataTable=function(){return this.m_Datas},t.getTalk=function(t){var e=this.m_SmallTalk[t];if(e){var l=e.talk;return i.getString(l)}a.error("Customer talk id("+t+") error")},t.getFoodName=function(t){var e=this.m_Food[t];return i.getString(e.Name)},t}());s.m_Datas=void 0,s.m_SmallTalk=void 0,s.m_Food=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/CWaitState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts","./LobbyOutsideNode.ts","./LobbyUtility.ts","./CLeaveState.ts"],(function(t){"use strict";var e,n,i,s,a,o,c,r;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy},function(t){s=t.FsmState},function(t){a=t.LobbyOutsideNode},function(t){o=t.ELobbyLayer},function(t){c=t.CLeaveOutsideState,r=t.CLeaveState}],execute:function(){i._RF.push({},"364e7zbzAZLOLefrUQM1WMz","CWaitState",void 0),t("CWaitState",function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var s=i.prototype;return s.onEnter=function(t,e){e?(t.seekPath(e,!0),t.animAgent.move()):(t.stopMove(),t.animAgent.idle())},s.onExecute=function(t,e){t.fsm.currentStateTime>=t.waitTime&&t.fsm.changeState(c.instance)},s.onExit=function(t){},s.onPathEnd=function(t){t.chairPos?(t.setFace(parseInt(t.chairId)<105?1:-1),t.animAgent.sitDownOutside(),t.animState=7):(t.setFace(a.instance.getWaitFace(t.startPos)),t.animAgent.idle())},n(i,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new i),this.m_Instance}}]),i}(s)).m_Instance=void 0,t("CWaitInsideState",function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var s=i.prototype;return s.onEnter=function(t){t.seekPath(a.Config.doorPos,!0),t.animAgent.move()},s.onExecute=function(t,e){1==t.step&&t.firstInside&&t.fsm.currentStateTime>=t.config.IndoorTime&&(t.startAngry(!0),t.fsm.resetStateTime(),t.step=2),2==t.step&&t.firstInside&&t.fsm.currentStateTime>=t.config.AngryTime&&(t.step=-1,t.fsm.changeState(r.instance,!0))},s.onExit=function(t){t.step=-1},s.onPathEnd=function(t){t.dynLayer==o.LobbyOutside+""?t.endOutside(t.waitPos):(t.fsm.resetStateTime(),t.step=1,t.animAgent.idle())},n(i,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new i),this.m_Instance}}]),i}(s)).m_Instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/DataTable.ts",["cc"],(function(t){"use strict";var a;return{setters:[function(t){a=t.cclegacy}],execute:function(){var e;t("EDataTables",void 0),a._RF.push({},"03623XG5hhFErwryHw9HKS4","DataTable",void 0),function(t){t.Language="Language",t.Constant="Constant",t.Task="Task",t.Area="Area",t.Item="Item",t.Star="Star",t.Shop="Shop",t.Facility="Facility",t.OpeningExchange="OpeningExchange",t.OpeningReward="OpeningReward",t.OutPut="OutPut",t.Customer="Customer",t.CustomerGroup="CustomerGroup",t.Food="Food",t.GridsItem="GridsItem",t.MiningGame="MiningGame",t.Chain="Chain",t.Cat="Cat",t.PhonographGrowth="PhonographGrowth",t.SmallTalk="SmallTalk",t.Staff="Staff",t.StaffAttribute="StaffAttribute",t.Person="Person",t.Attribute="Attribute",t.Sign="Sign",t.Story="Story",t.Region="Region",t.Event="Event",t.NoviceGuide="NoviceGuide",t.Suit="Suit",t.Skin="Skin",t.FoodRecipes="FoodRecipes",t.ShopDiamond="ShopDiamond",t.ShopGift="ShopGift",t.FoodCarnival="FoodCarnival",t.LuckyTurntable="LuckyTurntable",t.ContactAd="ContactAd"}(e||(e=t("EDataTables",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/DataTableManager.ts",["cc","./Log.ts","./AssetLoader.ts"],(function(t){"use strict";var a,e,n,r;return{setters:[function(t){a=t.cclegacy,e=t.JsonAsset},function(t){n=t.default},function(t){r=t.assetLoader}],execute:function(){a._RF.push({},"19081td3+VE7qi4ea6v6Vkd","DataTableManager",void 0);t("dataTableManager",new(function(){function t(){this.m_Datas=void 0}var a=t.prototype;return a.readData=function(t,a){var s=this;return new Promise((function(i,o){r.loadDir(t,"Res/Json",e,(function(t,e){if(t)n.error("Err to load JsonAsset.");else{for(var r=e.length,o=0;o<r;o++){var u=e[o];a.cacheAsset(u,!0),s.parseData(u)}i()}}))}))},a.parseData=function(t){this.m_Datas||(this.m_Datas={});for(var a=this.m_Datas,e={},r=t.json,s=r.length,i=r[0],o=i.length,u=t.name,c=0;c<s;c++)if(!(c<2)){var f=r[c];if("null"!=f[0]){var l=f[0]+"";if(e[l])n.error("invalid data id! [name:"+u+" | line:"+(c+1)+"]");else if(f.length==o){for(var h={},g=0;g<f.length;g++){var v=f[g];"null"==v&&(v=null),h[i[g]]=v}e[l]=h}else n.error("invalid data line! [name:"+u+" | line:"+(c+1)+"]")}}a[u]=e},a.getData=function(t,a){return"number"==typeof a&&(a+=""),this.m_Datas[t][a]},a.getDataTable=function(t){return this.m_Datas[t]},a.getDataTableArray=function(t,a){var e=this.m_Datas[t],n=a||[];for(var r in 0!=n.length&&(n.length=0),e)n.push(e[r]);return n},a.getDataIndex=function(t,a){a+="";var e=this.m_Datas[t];return Object.keys(e).indexOf(a)},a.getNextID=function(t,a){a+="";var e=this.m_Datas[t],n=Object.keys(e),r=n.indexOf(a);return r>=n.length-1?-1:Number(n[r+1])},a.stringFmtNumberArray=function(t){var a=[];return t?(t.match(/\d+/g).forEach((function(t){a.push(Number(t))})),a):a},t}()));a._RF.pop()}}}));

System.register("chunks:///_virtual/DateUtils.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"685b8IP13xGT7A51sWO4ohx","DateUtils",void 0);t("default",function(){function t(){}return t.sameDay=function(t,e){var n=864e5;return Math.floor(t/n)==Math.floor(e/n)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Debugtest_game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./FoodConfig.ts","./GameCensusConfig.ts","./GoodReputationConfig.ts","./ItemConfig.ts","./MiniGameConfig.ts","./PhonographConfig.ts","./PurchaseGiftConfig.ts","./ShopCurrencyConfig.ts","./StaffConfig.ts","./StarConfig.ts","./TaskConfig.ts","./ConfigManager.ts","./LobbyOutsideNode.ts","./EventUtility.ts","./GameUtility.ts","./UIConfig.ts"],(function(e){"use strict";var t,n,i,o,a,c,r,s,u,l,f,g,_,d,m,p,h,b,C,y,v,w,k,T,I,S,x,B,V,D,E,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,c=e._decorator,r=e.EditBox,s=e.Label,u=e.director,l=e.sys},function(e){f=e.default},function(e){g=e.eventDispatcher},function(e){_=e.LocalizationHelper},function(e){d=e.uiManager},function(e){m=e.UIView},function(e){p=e.foodConfig},function(e){h=e.gameCensusConfig},function(e){b=e.goodReputationConfig},function(e){C=e.itemConfig,y=e.EItemEnum},function(e){v=e.miniGameConfig},function(e){w=e.phonographConfig},function(e){k=e.purchaseGiftConfig},function(e){T=e.shopCurrencyConfig},function(e){I=e.staffConfig},function(e){S=e.starConfig},function(e){x=e.taskConfig},function(e){B=e.ConfigManager},function(e){V=e.LobbyOutsideNode},function(e){D=e.MEventNames},function(e){E=e.MViewPath},function(e){N=e.MUIConfig}],execute:function(){var L,z,G,M,R,A,P,H,U,F,O,j,J;a._RF.push({},"203739pJBhDS7Lf713+vqCN","Debugtest_game",void 0);var q=c.ccclass,W=c.property,K=(L=q("Debugtest_game"),z=W({type:r,displayName:""}),G=W(r),M=W(r),R=W(s),A=W(s),L((U=t((H=function(e){function t(){var t;return t=e.call(this)||this,i(t,"editBox",U,o(t)),i(t,"editBox2",F,o(t)),i(t,"editBox3",O,o(t)),i(t,"customTime",j,o(t)),t.use_staff_close_test=0,t.fire_person_no_work=0,t.short_actor_time=0,t.delete_all_actor_plan=0,t.ware_item_special=0,t.power_recovery_soon=0,t.console_input_open=1,i(t,"censusGold",J,o(t)),t.console_input_open?(globalThis.add_item=t.add_item.bind(o(t)),globalThis.clear_bag=t.clear_bag.bind(o(t)),globalThis.print_save=t.print_save.bind(o(t)),globalThis.set_new=t.set_new.bind(o(t)),globalThis.clear_all_without_homepage=t.clear_all_without_homepage.bind(o(t)),globalThis.check_homepage_open=t.check_homepage_open.bind(o(t)),t):o(t)}n(t,e);var a=t.prototype;return a.update=function(e){this.customTime.string=V.instance.getCusTimeBuff().toFixed(2)+"",this.censusGold.string=h.goldValue+""},a.add_item=function(e,t){C.getDic(e)||f.error("no item  config   item : "+e),C.addItem(e,t,!0),f.error("add item scuccess   itemID : "+e+"  num : "+t)},a.clear_bag=function(){var e=C.getWarehouseArr();e.forEach((function(t,n){e[n]=0})),f.error("item clear!")},a.print_save=function(){f.error(localStorage.getItem(Q))},a.set_new=function(){B.instance.clear(),localStorage.setItem(Q,null)},a.clear_all_without_homepage=function(){d.getAllViews().forEach((function(e,t){"Prefab/View/HomePageView"!==e.assetName&&d.closeView(e)}))},a.check_homepage_open=function(){return!!d.getView(E.HomePageView)},a.c_add_book_1000=function(){this.add_item(33,1e3)},a.c_add_gem_1000=function(){this.add_item(31,1e3)},a.c_add_money_100000=function(){this.add_item(30,1e5)},a.c_add_total_yuanliao_10=function(){var e=this;[600,601,602,106,206,306,406,506].forEach((function(t,n){e.scheduleOnce((function(){e.add_item(t,10)}),.1*n)}))},a.c_clover_1000=function(){this.add_item(34,1e3)},a.c_up_Star=function(){S.curStarID<16&&S.changeStar(1)},a.c_sub_Star=function(){S.curStarID>1&&S.changeStar(-1)},a.c_next_Task=function(){if(x.getCurTaskDic()){x.curTaskId=x.getCurTaskDic().NextId;var e=x.getCurTaskDic();e?f.info(" cur task name  "+_.getString(e.Info)):f.info(" task has done!"),g.event(D.HomeTaskBtnShow)}else f.info(" task has done!")},a.c_clear_gem=function(){C.useItem(y.diamond,C.getItemNum(y.diamond))},a.c_clear_money=function(){C.useItem(y.money,C.getItemNum(y.money))},a.c_print_save=function(){f.error(localStorage.getItem(Q)),this._CopyTextEvent(localStorage.getItem(Q))},a.c_load_save=function(){u.pause(),B.instance.clear(),localStorage.setItem(Q,this.editBox.string),f.error("已导入存档，请刷新")},a._CopyTextEvent=function(e){if(l.platform==l.Platform.ANDROID)jsb.reflection.callStaticMethod("com/cocos/game/AppActivity","JavaCopy","(Ljava/lang/String;)V",e);else{var t=e,n=document.createElement("textarea");n.value=t,n.setAttribute("readonly",""),n.style.contain="strict",n.style.position="absolute",n.style.left="-9999px",n.style.fontSize="12pt";var i,o=getSelection();o.rangeCount>0&&(i=o.getRangeAt(0)),document.body.appendChild(n),n.select(),n.selectionStart=0,n.selectionEnd=t.length;try{document.execCommand("copy")}catch(e){}document.body.removeChild(n),i&&(o.removeAllRanges(),o.addRange(i)),f.info("已拷贝文本到粘贴版")}},a.c_add_food=function(){if(""!=this.editBox2.string&&this.editBox2.string){var e=Number(this.editBox2.string);10086!=e?(p.addNewFood(e),d.openView(N.TipView,null,{content:"add success"})):p.unlockAllFood()}},a.c_clear_food=function(){p.foodConfigList={},d.openView(N.TipView,null,{content:"clear all"})},a.c_open_sdkTest=function(){d.openView(N.SdkTestView)},a.c_minigame_reset=function(){v.gameTimes=0},a.c_add_strength100=function(){this.add_item(59,100)},a.c_goto_task=function(){if(""!=this.editBox3.string&&this.editBox3.string){x.curTaskId=Number(this.editBox3.string);var e=x.getCurTaskDic();e?f.info(" cur task name  "+_.getString(e.Info)):f.info(" task has done!"),g.event(D.HomeTaskBtnShow),d.closeView(this),d.openView(N.TipView,null,{content:"task go success"})}},a.c_clear_goodReputaiton=function(){b.cleanData()},a.c_get_all_skin=function(){I.buy_skin(10302),I.buy_skin(10502),I.buy_skin(10702),I.buy_skin(11402),f.info("获得4个皮肤")},a.c_remove_all_skin=function(){I.buy_skin(-1),f.info("去除所有皮肤")},a.c_clear_all_purchase_gift=function(){k.testClear()},a.c_clear_all_diamond_gift=function(){T.testClear()},a.c_add_phonogragh_survice=function(){w.addSurvice()},t}(m)).prototype,"editBox",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(H.prototype,"editBox2",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(H.prototype,"editBox3",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(H.prototype,"customTime",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(H.prototype,"censusGold",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=H))||P),Q="IdleRestaurantTycoon2";e("debugtest",new K);a._RF.pop()}}}));

System.register("chunks:///_virtual/DefaultDepthHelper.ts",["cc","./UIManager.ts"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.uiManager}],execute:function(){e({setGroupDepthHelper:function(e){var t=n.getAllUIGroups();t.sort((function(e,t){return e.depth-t.depth}));for(var r=0;r<t.length;r++){var s=t[r];if(s.depth==e){var u=s.node.parent;u.pauseSystemEvents(!0),s.node.setSiblingIndex(r),u.resumeSystemEvents(!0);break}}},setViewRefocusHelper:function(e){var t=e.parent,n=t.children,r=n.length;r>1&&n[r-1]!=e&&(t.pauseSystemEvents(!0),e.setSiblingIndex(r-1),t.resumeSystemEvents(!0))}}),t._RF.push({},"3f0e1ba8slDBY6k7eo8OAX5","DefaultDepthHelper",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DefaultVersionHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,r;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy,r=e.VERSION}],execute:function(){t._RF.push({},"6e27bI02elGGJnWOEBV8Fvt","DefaultVersionHelper",void 0);e("DefaultVersionHelper",function(){function e(){}return n(e,[{key:"engineVersion",get:function(){return r||"3.x.x"}}]),e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/DropoutNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AssetKeeper.ts","./NodeUtils.ts","./ItemConfig.ts","./GameUtility.ts","./ResourceTool.ts","./Lobby.ts"],(function(t){"use strict";var e,i,o,n,r,s,a,c,u,l,m,p,f,d,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Sprite,c=t.Animation,u=t.tween},function(t){l=t.AssetKeeper},function(t){m=t.default},function(t){p=t.itemConfig},function(t){f=t.EGameBundles},function(t){d=t.ResourceTool},function(t){h=t.Lobby}],execute:function(){var b,y,I,A,g,v,D;r._RF.push({},"3273bOdLAtDJ7DzZA5cejFb","DropoutNode",void 0);var _=s.ccclass,L=s.property;t("DropoutNode",(b=_("DropoutNode"),y=L(a),I=L(c),b((v=e((g=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"itemSpr",v,n(e)),o(e,"itemAnim",D,n(e)),e.m_ItemId=-1,e}i(e,t);var r=e.prototype;return r.onEnable=function(){this.node;this.itemAnim.stop(),this.itemAnim.play()},r.initNode=function(t){this.m_ItemId=t,d.setSpriteFrame(f.LoadOnPlay,p.getItemIconUrl(t),this.itemSpr,this)},r.onItemClick=function(){var t=this.m_ItemId;if(!(t<0)){this.itemAnim.stop();var e=this.node;u(e).to(.5,{worldPosition:h.instance.getHousePos()},{easing:"sineInOut"}).call((function(){m.remove(e),p.addItem(t,1,!0)})).start()}},r.onDisable=function(){this.m_ItemId=-1,this.itemAnim.stop()},e}(l)).prototype,"itemSpr",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(g.prototype,"itemAnim",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=g))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/DynamicCustomerRender.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Lobby.ts"],(function(e){"use strict";var t,i,r,o,n,a,s,c,u,l,m,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,s=e.UITransform,c=e.Node,u=e.v3,l=e.view,m=e.Component},function(e){h=e.Lobby}],execute:function(){var d,p,y,f,v,b,_;n._RF.push({},"e90d8w4HYRLsopKwZkWzYFR","DynamicCustomerRender",void 0);var g=a.ccclass,w=a.property;e("DynamicCustomerRender",(d=g("DynamicCustomerRender"),p=w(s),y=w(c),d((b=t((v=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,r(t,"rectTransform",b,o(t)),r(t,"dynSke",_,o(t)),t.m_CameraNode=void 0,t.m_Pos0=u(),t.m_Pos1=u(),t}i(t,e);var n=t.prototype;return n.onLoad=function(){this.m_CameraNode=h.instance.cameraNode},n.onDestroy=function(){this.m_CameraNode=this.m_Pos0=this.m_Pos1=null},n.update=function(e){this.checkViewport(this.m_CameraNode)},n.checkViewport=function(e){var t=this.rectTransform;if(t){var i=this.dynSke,r=this.m_Pos0,o=this.m_Pos1,n=l.getVisibleSize();e.getWorldPosition(r),this.node.getWorldPosition(o),Math.abs(o.x-r.x)<.5*(t.width+n.width)&&Math.abs(o.y-r.y)<.5*(t.height+n.height)?i.active||(i.active=!0):i.active&&(i.active=!1)}},t}(m)).prototype,"rectTransform",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(v.prototype,"dynSke",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/DynamicRender.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtils.ts","./Lobby.ts"],(function(e){"use strict";var t,r,i,n,o,a,s,c,m,u,h,l,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.UITransform,c=e.v3,m=e.view,u=e.Layers,h=e.Component},function(e){l=e.default},function(e){y=e.Lobby}],execute:function(){var d,f,p,_,L;o._RF.push({},"7ba1aDFo+hL1Z8WLAIwu64i","DynamicRender",void 0);var v=a.ccclass,b=a.property;e("DynamicRender",(d=v("DynamicRender"),f=b({type:s,displayName:"UITransform"}),d((L=t((_=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"m_Transform",L,n(t)),t.m_CameraNode=void 0,t.m_CurrentLayer=-1,t.m_Pos0=c(),t.m_Pos1=c(),t}r(t,e);var o=t.prototype;return o.onLoad=function(){this.m_CameraNode=y.instance.cameraNode},o.onDestroy=function(){this.m_Transform=this.m_CameraNode=this.m_Pos0=this.m_Pos1=null},o.checkViewport=function(e){var t=this.m_Transform;if(t){var r=this.m_Pos0,i=this.m_Pos1,n=m.getVisibleSize();if(e.getWorldPosition(r),this.node.getWorldPosition(i),Math.abs(i.x-r.x)<.5*(t.width+n.width)&&Math.abs(i.y-r.y)<.5*(t.height+n.height)){var o=u.Enum.DEFAULT;this.m_CurrentLayer!=o&&(this.m_CurrentLayer=o,l.setLayer(o,this.node))}else{var a=u.Enum.NONE;this.m_CurrentLayer!=a&&(this.m_CurrentLayer=a,l.setLayer(a,this.node))}}},o.update=function(e){},t}(h)).prototype,"m_Transform",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=_))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/DynamicSort.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonComponent.ts"],(function(t){"use strict";var n,o,e,i,r,s;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Node,r=t.v3},function(t){s=t.CommonComponent}],execute:function(){var c;o._RF.push({},"00146Bnb9NBl55CzNO49ute","DynamicSort",void 0);var h=e.ccclass;e.property,t("DynamicSort",h("DynamicSort")(c=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).m_Children=void 0,n.m_SortNode=void 0,n.m_Vec0=r(),n.m_Vec1=r(),n.longUpdateDelta=.5,n}n(o,t);var e=o.prototype;return e.onLoad=function(){this.m_Children=this.node.children,this.m_SortNode=this.m_Children.concat(),this.node.on(i.EventType.CHILD_ADDED,this.onChildChange,this),this.node.on(i.EventType.CHILD_REMOVED,this.onChildChange,this)},e.onDestroy=function(){this.node.targetOff(this),this.m_Children=this.m_Vec0=this.m_Vec1=null},e.onChildChange=function(){this.m_SortNode=null,this.m_SortNode=this.m_Children.concat()},e.sortNode=function(){var t=this,n=this.m_SortNode;n.sort((function(n,o){var e=t.m_Vec0,i=t.m_Vec1;return n.getPosition(e),o.getPosition(i),i.y-e.y}));var o=this.node;o.pauseSystemEvents(!0);for(var e=0,i=n.length;e<i;e++){n[e].setSiblingIndex(e)}o.resumeSystemEvents(!0)},e.update=function(t){},e.lateUpdate=function(n){t.prototype.update.call(this,n)},e.longUpdate=function(){this.sortNode()},o}(s))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/DynamicSpineRender.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Lobby.ts"],(function(e){"use strict";var i,t,n,r,o,a,s,c,l,h,u,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.UITransform,c=e.sp,l=e.v3,h=e.view,u=e.Component},function(e){d=e.Lobby}],execute:function(){var p,m,y,f,_,b,v;o._RF.push({},"896a9fR69xFA4hjOspJ87yG","DynamicSpineRender",void 0);var g=a.ccclass,S=a.property,P="__visibleTag__";e("DynamicSpineRender",(p=g("DynamicSpineRender"),m=S(s),y=S(c.Skeleton),p((b=i((_=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,n(i,"rectTransform",b,r(i)),n(i,"dynSke",v,r(i)),i.m_CameraNode=void 0,i.m_Pos0=l(),i.m_Pos1=l(),i}t(i,e);var o=i.prototype;return o.onLoad=function(){this.m_CameraNode=d.instance.cameraNode;var e=this.dynSke;e[P]=!0;var i=e._render.bind(e);e._render=function(t){e[P]&&i(t)}},o.onDestroy=function(){this.m_CameraNode=this.m_Pos0=this.m_Pos1=null},o.update=function(e){this.checkViewport(this.m_CameraNode)},o.checkViewport=function(e){var i=this.rectTransform;if(i){var t=this.dynSke,n=this.m_Pos0,r=this.m_Pos1,o=h.getVisibleSize();e.getWorldPosition(n),this.node.getWorldPosition(r),Math.abs(r.x-n.x)<.5*(i.width+o.width)&&Math.abs(r.y-n.y)<.5*(i.height+o.height)?t[P]||(t[P]=!0):t[P]&&(t[P]=!1)}},i}(u)).prototype,"rectTransform",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(_.prototype,"dynSke",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/EatTable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./ReferencePool.ts","./EventBuiltin.ts","./Fsm.ts","./JSUtils.ts","./AssetLoader.ts","./DataTableManager.ts","./NodeUtils.ts","./BillingConfig.ts","./BuffConfig.ts","./BuffTimelinessConfig.ts","./FoodConfig.ts","./ItemConfig.ts","./StarConfig.ts","./NoviceGuideMgr.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./CustomerTable.ts","./StaffTable.ts","./BillingNode.ts","./CommonTalkNode.ts","./DropoutNode.ts","./StoryNode.ts","./Lobby.ts","./LobbyRoomData.ts","./LobbyUtility.ts","./StaffActor.ts","./EffectClearEatNode.ts","./ETEatingState.ts"],(function(t){"use strict";var e,i,s,n,o,a,r,h,d,f,u,m,c,l,v,g,_,p,C,y,D,E,I,T,S,b,N,P,B,k,L,O,A,F,U,R,V,w,M,G,H,j;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,s=t.randomRangeInt,n=t.randomRange,o=t.Prefab,a=t.v3},function(t){r=t.default},function(t){h=t.default},function(t){d=t.eventDispatcher},function(t){f=t.Fsm},function(t){u=t.default},function(t){m=t.assetLoader},function(t){c=t.dataTableManager},function(t){l=t.default},function(t){v=t.billingConfig},function(t){g=t.buffConfig,_=t.EBuffType},function(t){p=t.buffTimelinessConfig},function(t){C=t.foodConfig},function(t){y=t.itemConfig},function(t){D=t.starConfig},function(t){E=t.NoviceGuideMgr},function(t){I=t.EDataTables},function(t){T=t.MEventNames},function(t){S=t.EGameBundles,b=t.MLoadOnPlayRes},function(t){N=t.CustomerTable},function(t){P=t.StaffTable,B=t.EFoodSubType,k=t.EFoodTypeType},function(t){L=t.BillingNode},function(t){O=t.CommonTalkNode},function(t){A=t.DropoutNode},function(t){F=t.StoryNode},function(t){U=t.Lobby},function(t){R=t.LobbyRoomData,V=t.ELobbyRoomId},function(t){w=t.MLobbyEvent,M=t.ELobbyServeDishes},function(t){G=t.StaffActor},function(t){H=t.EffectClearEatNode},function(t){j=t.ETEatingState}],execute:function(){var x;t("EEatChairFace",void 0),i._RF.push({},"b35009ES/NFYKkZfkUiUpts","EatTable",void 0),function(t){t[t.Front=1]="Front",t[t.RFront=2]="RFront",t[t.Right=3]="Right",t[t.RBack=4]="RBack",t[t.Back=5]="Back",t[t.LBack=6]="LBack",t[t.Left=7]="Left",t[t.LFront=8]="LFront"}(x||(x=t("EEatChairFace",{})));t("EatTable",function(){function t(){var t=this;this.m_Id=void 0,this.m_Config=void 0,this.m_SitDownNum=void 0,this.m_Dishes=void 0,this.m_Dished=void 0,this.m_ServeDishes=void 0,this.m_CusId=void 0,this.m_OrdDisStaff=void 0,this.m_IsBusy=void 0,this.m_Updated=void 0,this.m_StoryNode=void 0,this.m_DropsId=void 0,this.m_ClearEatEffect=void 0,this.m_CountProb=void 0,this.m_Count=void 0,this.m_Vec0=a(),this.fsm=void 0,this.customers=void 0,this.eatTime=void 0,this.orderTime=void 0,this.payTime=void 0,this.storying=void 0,this.step=0,this.custEatCount=100,this.fsm=f.get(this),this.m_IsBusy=this.m_Updated=!1,this.m_Dishes={NdeskId:null,NbowlId:[],AdishVec:[],AdrinkVec:[],AstreetVec:[],AseatVec:[]},this.m_Dished={},this.m_ServeDishes=[],this.m_CusId=[],this.m_DropsId=[],d.on(w.OrderDishes,this,this.startOrderDishes),d.on(w.ServeDished,this,this.endServeDishes),d.on(w.PayEated,this,this.endPayEat),d.on(w.ClearEatTableing,this,this.getClearEatEffect),d.on(w.ClearEatTable,this,this.endClearEatTable),d.on(w.PayEating3,this,(function(e){e==t.m_Id&&d.event(w.PayEated,[t.m_Id,!0])})),d.on(w.StoryClick,this,(function(e){e==t.m_Id&&(t.removeStory(),t.storying=!0)})),d.on(w.StoryClose,this,(function(e){e==t.m_Id&&(t.storying=!1)})),d.on(w.StartUpdateDecorate,this,(function(e){e==t.m_Id&&(t.m_Updated=!0,t.m_IsBusy?d.event(w.BusyDecorate,e):t.checkUpdated())}))}var i=t.prototype;return i.clear=function(){d.offAllCaller(this),this.fsm&&h.recover(this.fsm),this.m_Config=this.customers=null,this.m_Dishes=this.m_Dished=this.m_ServeDishes=this.m_CusId=null,this.m_IsBusy=this.m_Updated=!1},i.update=function(t){this.fsm.update(t)},i.initConfig=function(t,e){this.m_Config=t,this.m_Id=e,this.m_Dishes.NdeskId=e,this.initCount(),this.updateCustEatCount()},i.startOn=function(t){this.m_IsBusy=!0,this.clearTable(),this.customers=t;for(var e=0;e<t.length;e++){var i=t[e].config,s=i.EatTime,n=i.OrderTime,o=i.BillTime;s>this.eatTime&&(this.eatTime=s),n>this.orderTime&&(this.orderTime=n),o>this.payTime&&(this.payTime=o)}this.eatTime-=g.getBuffNum(_.EatTimeSub,this.m_Id),this.eatTime*=1-p.getBuffNum(_.HalveTime),this.payTime/=1+g.getBuffNum(_.AccountSpAdd),this.payTime*=1-p.getBuffNum(_.HalveTime),E.instance.isDone()||(this.eatTime=2)},i.onSitDown=function(){this.m_SitDownNum++,this.m_SitDownNum>=this.customers.length&&d.event(w.OrderDishes,this.m_Id)},i.startEat=function(){for(var t=this,e=this.customers,i=0;i<e.length;i++){e[i].startEat()}d.event(w.StartDine,[this.m_Id,this.eatTime]);var s=e[0].groupData.groupData;if(s)for(var a=s.StoryID,r=D.getStar(),h=function(e,i){var h=parseInt(a[i]);if(!h)return"continue";if(v.storyed[h])return"continue";var d=parseInt(s.StoryLimit[i]);if(r>=d&&n(0,100)<=parseInt(s.StoryPr[i])){var f=b.StoryNode;return m.load(S.LoadOnPlay,f,o,(function(e,i){if(!t.m_StoryNode&&t.fsm.currentState){var s=l.instantiate(f,i);s.getComponent(F).onOpen(h,t.m_Id);var n=U.instance.tipNode,o=t.m_Vec0;n.inverseTransformPoint(o,t.m_Config.tipPos.worldPosition),s.setPosition(o),n.addChild(s),t.m_StoryNode=s}})),"break"}},f=0,u=a.length;f<u;f++){var c=h(0,f);if("continue"!==c&&"break"===c)break}},i.endEating=function(){this.fsm.changeState(null);for(var t=this.customers,e=0;e<t.length;e++){t[e].endEat()}this.removeStory(),d.event(w.PayEating,this.m_Id)},i.startOrderDishesStaff=function(t){this.m_OrdDisStaff=t,d.event(w.OrderDishes,this.m_Id)},i.startClearStaff=function(){d.event(w.ClearEatTableing,this.m_Id)},i.endClearStaff=function(){d.event(w.ClearEatTable,this.m_Id)},i.startOrderDishes=function(t){var e=this;if(t==this.m_Id){for(var i=this.m_Dishes,n=this.customers,a=this.m_CusId,r=i.AseatVec,h=0;h<n.length;h++){var f=n[h];a.push(f.config.Id),r.push(parseInt(f.chairId))}var u=this.m_ServeDishes,c=C.servePot(a),v=i.NbowlId;v.push.apply(v,c),u.push(M.HotPot);var p=this.m_Dished;C.serveFood(a,p),u.push(M.Dish);for(var y=i.AdishVec,D=i.AdrinkVec,E=i.AstreetVec,I=Object.keys(p),T=0;T<I.length;T++){var L=parseInt(I[T]),A=P.getFood(L),F=A.Sub_Id;F==B.Drink?D.push(L):F==B.NonStaple&&(A.Type_Id==k.Dessert?E.push(L):y.push(L))}for(var U=0,R=c.length;U<R;U++){var V=c[U];p[V]?p[V]-=1:p[V]=-1}I.unshift.apply(I,c);var G=-1,H=0,j=function(){if(H>=I.length)return clearInterval(G),void(G=-1);var t=I[H],i=N.getFoodName(t),a=n[s(0,n.length)],r=b.CommonTalkNode;m.load(S.LoadOnPlay,r,o,(function(t,s){if(!(G<0)){var n=l.instantiate(r,s),o=e.m_Vec0;o.set();var h=a.config.talkPos[a.animState];h&&o.set(h[0],h[1]),n.setPosition(o),a.talkNode.addChild(n),n.getComponent(O).refresh(i,1)}})),H++};G=setInterval(j,1500),j(),setTimeout((function(){G>-1&&(clearInterval(G),G=-1),d.event(w.OrderDished,i),e.m_OrdDisStaff&&(e.m_OrdDisStaff.endOrderDishes(),e.m_OrdDisStaff=null);for(var t=0;t<n.length;t++){n[t].waitDishes()}}),this.orderTime/(1+g.getBuffNum(_.OrderTimeSub))*1e3)}},i.endServeDishes=function(t,e){if(t==this.m_Id){var i=this.m_ServeDishes,s=i.indexOf(e);s>-1&&i.splice(s,1),i.length<=0&&this.fsm.changeState(j.instance)}},i.endPayEat=function(t,e){if(t==this.m_Id){this.getProfit(e);var i=this.customers,s=this.m_DropsId;s.length=0;for(var n=0;n<i.length;n++){var o=i[n];o.endPayEat();var a=o.config.Res_id,r=P.getDrop(a+"");r&&r.DropItem&&s.push(a)}}},i.getProfit=function(t){void 0===t&&(t=!1);var e=c.getDataTable(I.Food),i=C.foodConfigList,s=this.m_Dished,n=0,o=0;for(var a in s){var r=e[a],h=s[a];h<0&&(h=-h),n+=i[parseInt(a)].price*h,o+=r.Buy*h}var d=(n-o)*G.getProfit(this.m_Id)*(1+g.getBuffNum(_.AccountIncomeAdd))*(1+p.getBuffNum(_.MoneyUp));d=Math.floor(d),y.addMoney(d,t),v.getAddOrderId(),this.emitCensus(d),t&&this.getBillingNode(d)},i.endClearEatTable=function(t){t==this.m_Id&&(this.getDrop(),this.clearTable(),this.updateCustEatCount(),this.m_IsBusy=!1,this.checkUpdated(),d.event(w.CustomerLeaveEating,this.m_Id))},i.initCount=function(){for(var t=this.config.proData,e=t.SNumPro.split("/"),i=0;i<e.length;i++){var s=e[i];e[i]=parseInt(s)}this.m_CountProb=e;for(var n=t.SNumType.split("/"),o=0;o<n.length;o++){var a=n[o];n[o]=parseInt(a)}this.m_Count=n},i.updateCustEatCount=function(){this.custEatCount=u.probRandom(this.m_Count,this.m_CountProb),E.instance.isDone()||(this.custEatCount=2),r.debug("%cTable id:"+this.m_Id+", need eat count: "+this.custEatCount,"color: red")},i.clearTable=function(){this.step=0,this.fsm.changeState(null),this.customers=null,this.m_SitDownNum=0,this.m_OrdDisStaff=null,this.m_CusId.length=this.m_ServeDishes.length=0,u.clearMap(this.m_Dished);var t=this.m_Dishes;t.NbowlId.length=t.AdishVec.length=t.AdrinkVec.length=t.AstreetVec.length=t.AseatVec.length=0,this.eatTime=0,this.orderTime=0,this.payTime=0,this.storying=!1,this.removeStory(),this.m_DropsId.length=0,this.m_ClearEatEffect&&(l.remove(this.m_ClearEatEffect),this.m_ClearEatEffect=null)},i.removeStory=function(){this.m_StoryNode&&l.remove(this.m_StoryNode),this.m_StoryNode=null},i.checkUpdated=function(){this.m_Updated&&(this.m_Updated=!1,d.event(w.UpdateDecorate,this.m_Id))},i.getDrop=function(){var t=this,e=this.m_DropsId;if(e.length){var i=e[s(0,e.length)],a=P.getDrop(i+""),r=a.DropItem;if(r)if(n(0,100)<=a.DropPr){var h=b.DropoutNode;m.load(S.LoadOnPlay,h,o,(function(e,i){var s=l.instantiate(h,i);s.getComponent(A).initNode(r);var n=U.instance.tipNode,o=t.m_Vec0;n.inverseTransformPoint(o,t.m_Config.tipPos.worldPosition),s.setPosition(o),n.addChild(s)}))}}},i.getClearEatEffect=function(t,e){var i=this;if(void 0===e&&(e=!1),t==this.m_Id&&(this.step=30,e&&setTimeout(this.endClearStaff.bind(this),1e3*P.baseClearEatTime),!this.m_ClearEatEffect)){var s=b.EffectClearEatNode;m.load(S.LoadOnPlay,s,o,(function(t,e){if(0!=i.step){var n=l.instantiate(s,e),o=R.getTableRoom(i.m_Id)==V.Lobby?.6:1;n.getComponent(H).play("sweep",!1,o);var a=U.instance.tipNode,r=i.m_Vec0;a.inverseTransformPoint(r,i.m_Config.tipPos.worldPosition),n.setPosition(r),a.addChild(n),i.m_ClearEatEffect=n}}))}},i.getBillingNode=function(t){var e=this,i=b.BillingNode;m.load(S.LoadOnPlay,i,o,(function(s,n){var o=l.instantiate(i,n),a=U.instance.tipNode,r=e.m_Vec0;a.inverseTransformPoint(r,e.m_Config.tipPos.worldPosition),o.setPosition(r),a.addChild(o),o.getComponent(L).init(t)}))},i.emitCensus=function(t){d.event(T.updateMoneryCensus,{count:t,source:"EatTable"})},e(t,[{key:"config",get:function(){return this.m_Config}},{key:"tableId",get:function(){return this.m_Id}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/EffectClearEatNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtils.ts"],(function(e){"use strict";var t,i,n,o,r,c,a,s,f,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,a=e.sp,s=e.randomRange,f=e.Component},function(e){l=e.default}],execute:function(){var u,p,d,E,h;r._RF.push({},"9a4c5ImkS1DnIzUcZn2/e8S","EffectClearEatNode",void 0);var k=c.ccclass,v=c.property;e("EffectClearEatNode",(u=k("EffectClearEatNode"),p=v(a.Skeleton),u((h=t((E=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"skeEffect",h,o(t)),t}i(t,e);var r=t.prototype;return r.play=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=1),this.skeEffect.node.setScale(i,i,i),this.skeEffect.setAnimation(0,e,!0),t&&(this.skeEffect.timeScale=s(.9,1))},r.stop=function(){l.remove(this.node)},r.onDisable=function(){var e=this.skeEffect;this.skeEffect.timeScale=1,e.isAnimationCached()?e.setToSetupPose():e.clearTracks()},t}(f)).prototype,"skeEffect",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=E))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/EffectCutNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,o,n,r,c,s,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,s=t.sp,f=t.Component}],execute:function(){var a,u,l,p,d;r._RF.push({},"77734bvptxMEb4NXWNxeVWh","EffectCutNode",void 0);var h=c.ccclass,v=c.property;t("EffectCutNode",(a=h("EffectCutNode"),u=v(s.Skeleton),a((d=e((p=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,o(e,"skeEffect",d,n(e)),e}i(e,t);var r=e.prototype;return r.initEffectCutPos=function(t){this.node.position=t},r.play=function(t){void 0===t&&(t="loop"),this.node.active=!0,this.skeEffect.setAnimation(0,t,!0)},r.stop=function(){this.skeEffect.clearTracks(),this.node.active=!1},e}(f)).prototype,"skeEffect",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p))||l));r._RF.pop()}}}));

System.register("chunks:///_virtual/EffectUnlcokNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtils.ts"],(function(e){"use strict";var t,n,o,i,c,r,s,a,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){c=e.cclegacy,r=e._decorator,s=e.sp,a=e.Component},function(e){f=e.default}],execute:function(){var l,u,p,d,h;c._RF.push({},"a985f/HT0hGiozngrdu7dym","EffectUnlcokNode",void 0);var k=r.ccclass,y=r.property;e("EffectUnlcokNode",(l=k("EffectUnlcokNode"),u=y(s.Skeleton),l((h=t((d=function(e){function t(){for(var t,n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return t=e.call.apply(e,[this].concat(c))||this,o(t,"skeEffect",h,i(t)),t}n(t,e);var c=t.prototype;return c.onLoad=function(){var e=this;this.skeEffect.setEndListener((function(){e.stop()}))},c.play=function(e){this.skeEffect.setAnimation(0,e,!0)},c.stop=function(){f.remove(this.node)},c.onDisable=function(){var e=this.skeEffect;e.isAnimationCached()?e.setToSetupPose():e.clearTracks()},t}(a)).prototype,"skeEffect",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=d))||p));c._RF.pop()}}}));

System.register("chunks:///_virtual/EffectWashTipNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectCutNode.ts"],(function(t){"use strict";var e,c,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){c=t.cclegacy,o=t._decorator},function(t){i=t.EffectCutNode}],execute:function(){var r;c._RF.push({},"cd0c7qJIQBGSo5XTzujSWM3","EffectWashTipNode",void 0);var s=o.ccclass;o.property,t("EffectWashTipNode",s("EffectWashTipNode")(r=function(t){function c(){return t.apply(this,arguments)||this}return e(c,t),c.prototype.play=function(e){void 0===e&&(e="click"),t.prototype.play.call(this,e)},c}(i))||r);c._RF.pop()}}}));

System.register("chunks:///_virtual/EntityBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomerNode.ts","./MapManager.ts","./RoadSeekerAgent.ts"],(function(e){"use strict";var t,a,n,o,i,s,r,c;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,n=e._decorator,o=e.v3,i=e.Component},function(e){s=e.CustomerNode},function(e){r=e.MapManager},function(e){c=e.RoadSeekerAgent}],execute:function(){var h;a._RF.push({},"d66d5SNayFPTZajMtm/134Q","EntityBase",void 0);var d=n.ccclass;n.property,e("EntityBase",d("EntityBase")(h=function(e){function a(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).m_RoadAgent=void 0,t.m_Road0={px:0,py:0},t.m_Road1={px:0,py:0},t.m_ResNodes=[],t.m_Vec0=o(),t.m_Vec1=o(),t.dynLayer=void 0,t}t(a,e);var n=a.prototype;return n.onLoad=function(){var e=this.getComponent(c);this.m_RoadAgent=e,e.rotateHandler=this.onRotate.bind(this),e.endHandler=this.onPathEnd.bind(this)},n.onDisable=function(){this.stop()},n.stop=function(){this.m_RoadAgent.enabled=!1},n.seekPath=function(e,t){var a=this.m_Vec0,n=this.m_Vec1;this.node.getPosition(a);var o=r.get(this.dynLayer);t&&(o.roadManager.getPixelByUI(e.x,e.y,n),e=n);var i=!1,s=!1,c=o.getNodeByPixel(a.x,a.y);0==c.value&&(i=!0,c.value=1);var h=o.getNodeByPixel(e.x,e.y);0==h.value&&(s=!0,h.value=1);var d=o.seekPathByPixel(a,e,this.m_ResNodes);i&&(c.value=0),s&&(h.value=0),this.replaceSafePath(d,a,e),this.m_RoadAgent.path=d},n.movePath=function(e,t){var a=this.m_Vec0,n=this.m_Vec1;this.node.getPosition(a);var o=r.get(this.dynLayer);t&&(o.roadManager.getPixelByUI(e.x,e.y,n),e=n);var i=this.m_ResNodes;i.length=0,this.replaceSafePath(i,a,e),this.m_RoadAgent.path=i},n.onRotate=function(e,t,a){var n=this.m_Vec0;a.getScale(n);var o=n.x>0?1:-1;t.x-e.x>0?o=1:t.x-e.x<0&&(o=-1);var i=s.baseScale;n.set(o*i,i,i),a.setScale(n)},n.onPathEnd=function(){},n.replaceSafePath=function(e,t,a){var n=this.m_Road0,o=this.m_Road1;n.px=t.x,n.py=t.y,o.px=a.x,o.py=a.y,e[0]=n,e[e.length>1?e.length-1:1]=o},a}(i))||h);a._RF.pop()}}}));

System.register("chunks:///_virtual/EntityPool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var t,e;return{setters:[function(o){t=o.createForOfIteratorHelperLoose},function(o){e=o.cclegacy}],execute:function(){e._RF.push({},"44ce1ye7ANE35C3O0jIrSkx","EntityPool",void 0);var r="__inPool__";o("default",function(){function o(){}return o.getPool=function(o){var t=this.s_Pool;return t[o]||(t[o]=[])},o.clearPool=function(o){if(o)if("string"==typeof o){for(var e,r=this.getPool(o),n=t(r);!(e=n()).done;){var l=e.value;l&&l.destroy&&l.destroy()}r.length>0&&(r.length=0)}else if(o.length>0)for(var i,u=t(o);!(i=u()).done;){var s=i.value;this.clearPool(s)}},o.recover=function(o,t){t[r]||(t[r]=!0,this.getPool(o).push(t))},o.get=function(o){var t=this.getPool(o),e=t.length?t.pop():null;return e&&(e[r]=!1),e},o}()).s_Pool={},e._RF.pop()}}}));

System.register("chunks:///_virtual/ETEatingState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts"],(function(t){"use strict";var n,e,i,s;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy},function(t){s=t.FsmState}],execute:function(){i._RF.push({},"bfde0tg42RLnLPVK1RTTD0C","ETEatingState",void 0),t("ETEatingState",function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var s=i.prototype;return s.onEnter=function(t,n){t.startEat()},s.onExecute=function(t,n){t.fsm.currentStateTime>=t.eatTime&&!t.storying&&t.endEating()},s.onExit=function(t){},e(i,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new i),this.m_Instance}}]),i}(s)).m_Instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/EventBuiltin.ts",["cc","./EventDispatcher.ts"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t.default}],execute:function(){n._RF.push({},"67323BmNDFBaYk2G2TWen5s","EventBuiltin",void 0);t("eventDispatcher",new e),t("MEventBuiltin",{InitConfig:"init.config",InitLanguage:"init.language"});n._RF.pop()}}}));

System.register("chunks:///_virtual/EventDispatcher.ts",["cc","./EventHandler.ts"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.default}],execute:function(){t._RF.push({},"d6b223R6gxG8rnkgkCOoju2","EventDispatcher",void 0);e("default",function(){function e(){this.m_Events=void 0}var t=e.prototype;return t.hasListener=function(e){return!!(this.m_Events&&this.m_Events[e])},t.event=function(e,t){if(void 0===t&&(t=null),!this.m_Events||!this.m_Events[e])return!1;var n=this.m_Events[e];if(n.run)n.once&&delete this.m_Events[e],null!=t?n.runWith(t):n.run();else{for(var r=0,i=n.length;r<i;r++){var s=n[r];s&&(null!=t?s.runWith(t):s.run()),s&&!s.once||(n.splice(r,1),r--,i--)}0===n.length&&this.m_Events&&!this.m_Events[e].run&&delete this.m_Events[e]}return!0},t.on=function(e,t,n,r){return void 0===r&&(r=null),this.createListener(e,t,n,r,!1)},t.once=function(e,t,n,r){return void 0===r&&(r=null),this.createListener(e,t,n,r,!0)},t.createListener=function(e,t,r,i,s,u){void 0===u&&(u=!0),u&&this.off(e,t,r,s);var l=n.create(t||this,r,i,s);this.m_Events||(this.m_Events={});var v=this.m_Events;return v[e]?v[e].run?v[e]=[v[e],l]:v[e].push(l):v[e]=l,this},t.off=function(e,t,n,r){if(void 0===r&&(r=!1),!this.m_Events||!this.m_Events[e])return this;var i=this.m_Events[e];if(null!=i)if(i.run)t&&i.caller!==t||null!=n&&i.method!==n||r&&!i.once||(delete this.m_Events[e],i.recover());else{for(var s=0,u=i.length,l=0;l<u;l++){var v=i[l];v?t&&v.caller!==t||null!=n&&v.method!==n||r&&!v.once||(s++,i[l]=null,v.recover()):s++}s===u&&delete this.m_Events[e]}return this},t.offAll=function(e){void 0===e&&(e=null);var t=this.m_Events;if(!t)return this;if(e)this.recoverHandlers(t[e]),delete t[e];else{for(var n in t)this.recoverHandlers(t[n]);this.m_Events=null}return this},t.offAllCaller=function(e){var t=this.m_Events;if(e&&t)for(var n in t)this.off(n,e,null);return this},t.recoverHandlers=function(e){if(e)if(e.run)e.recover();else for(var t=e.length-1;t>-1;t--){var n=e[t];n&&(n.recover(),e[t]=null)}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/EventHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Handler.ts"],(function(t){"use strict";var e,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.Handler}],execute:function(){n._RF.push({},"154e7YFWkxEY44gigvToGy+","EventHandler",void 0),t("default",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.recover=function(){this.m_Id>0&&(this.m_Id=0,n.s_Pool.push(this.clear()))},n.create=function(t,e,o,i){return void 0===o&&(o=null),void 0===i&&(i=!0),this.s_Pool.length?this.s_Pool.pop().init(t,e,o,i):new n(t,e,o,i)},n}(o)).s_Pool=[],n._RF.pop()}}}));

System.register("chunks:///_virtual/EventTable.ts",["cc","./DataTableManager.ts","./DataTable.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.cclegacy},function(t){n=t.dataTableManager},function(t){a=t.EDataTables}],execute:function(){e._RF.push({},"3ecfeypCFNI7pq0cd/DVlmJ","EventTable",void 0);var s=t("loopEventTypeId",101),i=t("EventTable",function(){function t(){}return t.init=function(){var t=this.m_Datas=n.getDataTable(a.Event);for(var e in t){var s=t[e],i=s.RewardNum;if("string"==typeof i)for(var r=s.RewardNum=[],o=i.split("_"),u=0;u<o.length;u++){var v=o[u].split("|");r.push([parseFloat(v[0]),parseFloat(v[1])])}}},t.getData=function(t){return this.m_Datas[t]},t.getEventTypeId=function(t){return this.m_LoopEventIds.indexOf(t)>-1?s:t},t.setEventAd=function(t,e){this.m_EventAd[t]=e},t.getNextEventInte=function(t){var e=this.getData(t);return this.m_EventAd[t]?e.WacthAdTime:e.NoAdTime},t.getLastEventId=function(){return this.m_LoopEventIds[this.m_LastIndex]||3},t.getEventId=function(){return this.m_LastIndex++,this.m_LastIndex>=this.m_LoopEventIds.length&&(this.m_LastIndex=0),this.m_LoopEventIds[this.m_LastIndex]},t}());i.m_Datas=void 0,i.m_EventAd={},i.m_LoopEventIds=[3,4],i.m_LastIndex=-1,e._RF.pop()}}}));

System.register("chunks:///_virtual/EventUtility.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"ca78fa5UnRAGbyLMZgIoQL1","EventUtility",void 0);e("MEventNames",{NewDayRefresh:"NewDayRefresh",AddView:"AddView",RechargeRefresh:"RechargeRefresh",PurchaseGiftRecharge:"PurchaseGiftRecharge",ShopDiamondRecharge:"ShopDiamondRecharge",ChangeRoom:"on.room.change",RefreshItemNumber:"RefreshItemNumber",RefreshRed:"RefreshRed",RefreshRoomAnim:"RefreshRoomAnim",RefreshShopAnim:"RefreshShopAnim",homePageFunctionBtn:"homePageFunctionBtn",RefreshHomeRed:"RefreshHomeRed",MiniGameCardItemEvent:"MiniGameCardItemEvent",HomeTaskBtnShow:"HomeTaskBtnShow",HomeRefreshScore:"HomeRefreshScore",ShopItemRefresh:"ShopItemRefresh",ShopConversionEvent:"ShopConversionEvent",WarehouseShowInfo:"WarehouseShowInfo",WarehouseExchangeItem:"WarehouseExchangeItem",WarehouseUpdateItem:"WarehouseUpdateItem",WarehouseClearItem:"WarehouseClearItem",WarehouseAddNewItem:"WarehouseAddNewItem",WarehouseItemShake:"WarehouseItemShake",WarehouseResetRemindTime:"WarehouseResetRemindTime",ResearchEndFlushNum:"ResearchEndFlushNum",ResearchExchangeFlushNum:"ResearchExchangeFlushNum",ResearchResultViewClose:"ResearchResultViewClose",MiniGmaeClawPropChangeStatus:"MiniGmaeClawPropChangeStatus",RenovationSelectItem:"RenovationSelectItem",RenovationRoomSelect:"RenovationRoomSelect",FoodInfoRefresh:"FoodInfoRefresh",GameChangeStar:"GameChangeStar",StaffEmplyBackScene:"StaffEmplyBackScene",StaffFlushPerson:"StaffFlushPerson",StaffPlan_unlock_new:"StaffPlan_unlock_new",StaffPlan_flush_after_set:"StaffPlan_flush_after_set",StaffPlan_fire_playing_actor:"StaffPlan_fire_playing_actor",StaffPlan_check_actor_wait:"StaffPlan_check_actor_wait",Staff_change_skin:"Staff_change_skin",Staff_unlock:"Staff_unlock",Staff_update:"Staff_update",Staff_fire:"Staff_fire",CloseGoldAdView:"CloseGoldAdView",showGuide:"showGuide",guideSetButtonPos:"guideSetButtonPos",guideClick:"guideClick",refreshGuildPos:"refreshGuildPos",ChangeName:"ChangeName",NoviceCustomShow:"NoviceCustomShow",guideDone:"guideDone",RefreshOfflineEarnings:"RefreshOfflineEarnings",openRenovation:"openRenovation",RefreshTopMoneyNum:"RefreshTopMoneyNum",UpdateAreaUnlock:"UpdateAreaUnlock",UpdateAllAreaUnlock:"UpdateAllAreaUnlock",SaveRenovationScheme:"SaveRenovationScheme",addRenovationScheme:"addRenovationScheme",ChangeBuff:"ChangeBuff",updateRenovationName:"updateRenovationName",phonographRefresh:"phonographRefresh",closeLoadView:"closeLoadView",OpenRenovationQuick:"openRenovationQuick",foodCarnivalRefresh:"foodCarnivalRefresh",foodCarnivalOver:"foodCarnivalOver",contactAdRefresh:"contactAdRefresh",contactAdOver:"contactAdOver",homepageBuffRefresh:"homepageBuffRefresh",updateMoneryCensus:"updateMoneryCensus",offFastBuyView:"offFastBuyView"});a._RF.pop()}}}));

System.register("chunks:///_virtual/ExchangeConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts"],(function(t){"use strict";var o,e,n,i,s;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){i=t.configName,s=t.default}],execute:function(){var c;e._RF.push({},"2920eT9ZnVB6r1VPk7ZLQHv","ExchangeConfig",void 0);n.ccclass,n.property;var r=i("ExchangeConfig")(c=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(o=t.call.apply(t,[this].concat(n))||this)._times_book=100,o._times_book5=20,o}o(e,t);var n=e.prototype;return n.getExchangeTimes=function(t){return void 0===t&&(t=7),6==t?this._times_book:this._times_book5},n.useExchangeTimes=function(t,o){void 0===t&&(t=7),6==t?this._times_book-=o:this._times_book5-=o},n.onInit=function(t){t&&(this._times_book=100,this._times_book5=20)},e}(s))||c;t("exchangeConfig",new r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ExchangeProgressBar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioTool.ts"],(function(t){"use strict";var e,i,o,s,n,r,_,a,h,u,p,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,_=t.Node,a=t.Sprite,h=t.Input,u=t.misc,p=t.Component},function(t){c=t.AudioTool,l=t.ESoundType}],execute:function(){var f,v,d,m,T,y,g;n._RF.push({},"f642eXqwN9E3rDdT9r/kuDy","ExchangeProgressBar",void 0);var x=r.ccclass,S=r.property;t("ExchangeProgressBar",(f=x("ExchangeProgressBar"),v=S({type:_,displayName:""}),d=S({type:a,displayName:""}),f((y=e((T=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,o(e,"handle",y,s(e)),o(e,"bar",g,s(e)),e._move_range=188,e._handle_x=-94,e._input_max=0,e._move_step=0,e._move_step_dis=0,e._out_step=1,e}i(e,t);var n=e.prototype;return n.getOutNum=function(){return 0==this._input_max?0:this._out_step+1},n.onDestroy=function(){this.node.off(h.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.off(h.EventType.TOUCH_START,this._onTouchStart,this)},n.start=function(){this.node.on(h.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(h.EventType.TOUCH_START,this._onTouchStart,this)},n.setData=function(t){this._input_max=t,t<=1?this._move_step=0:(this._move_step=t-1,this._move_step_dis=this._move_range/(t-1)),this._out_step=0,this._flushBarWithStep()},n._onTouchMove=function(t){this._tryMoveBarTo(t.getUILocation().x)},n._flushBarWithStep=function(){var t=this._handle_x+this._out_step*this._move_step_dis,e=this.handle.position.clone();e.x=t,this.handle.position=e,this.bar.fillRange=(e.x-this._handle_x)/this._move_range},n._onTouchStart=function(t){this._tryMoveBarTo(t.getUIStartLocation().x)},n._tryMoveBarTo=function(t){var e=t-this.node.position.x-15;if(0==this._move_step)return this.bar.fillRange=0,void(this._out_step=0);var i=e-430;i=u.clampf(i,0,this._move_range),this._out_step=~~(i/this._move_step_dis),this._flushBarWithStep()},n.c_cut_add_btn=function(t,e){if(c.play(l.ui_click),0!=this._input_max){this._out_step+=~~e;var i=Math.min(0,this._move_step);this._out_step=u.clampf(this._out_step,i,this._move_step),this._flushBarWithStep()}},e}(p)).prototype,"handle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(T.prototype,"bar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=T))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/ExplainView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./UIView.ts"],(function(e){"use strict";var t,n,i,o,r,a,s,c,l,u,d,p,w,y,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,c=e.Button,l=e.Vec3,u=e.tween,d=e.Tween,p=e.UIOpacity},function(e){w=e.eventDispatcher},function(e){y=e.uiManager},function(e){h=e.UIView}],execute:function(){var f,b,v,g,x,m,N,A,T,B,P,_,I,E,z,k,F,C,V,M,D;r._RF.push({},"91ca3xDMkFMbJ2Z4GjGsWI8","ExplainView",void 0);var O=a.ccclass,U=a.property;e("ExplainView",(f=O("ExplainView"),b=U(s),v=U(s),g=U({type:[s],tooltip:"来回缩放"}),x=U({type:[s],tooltip:"向左下角来回移动"}),m=U({type:[s],tooltip:"循环缩放"}),N=U({type:[s],tooltip:"箭头闪烁"}),A=U({type:[s],tooltip:"循环上下移动"}),T=U({type:[s],tooltip:"小幅度循环缩放"}),B=U(c),f((I=t((_=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"viewPar",I,o(t)),i(t,"knowBtn",E,o(t)),i(t,"tweenNodeArray1",z,o(t)),i(t,"tweenNodeArray2",k,o(t)),i(t,"tweenNodeArray3",F,o(t)),i(t,"tweenNodeArray5",C,o(t)),i(t,"tweenNodeArray6",V,o(t)),i(t,"tweenNodeArray7",M,o(t)),i(t,"nextButton",D,o(t)),t.m_Idx=0,t.m_NextButtonPosition=new l,t.m_isCheck=0,t}n(t,e);var r=t.prototype;return r.onInit=function(){this.m_NextButtonPosition=this.nextButton.node.getPosition(this.m_NextButtonPosition),this.addAllTween()},r.onClose=function(){w.offAllCaller(this)},r.onOpen=function(e){this.m_Idx=e||0,this.nextButton.node.active=!0,this.showPage(),this.addTween4(),this.m_isCheck=0},r.showPage=function(){var e=this;this.viewPar.children.forEach((function(t,n){t.active=n==e.m_Idx}))},r.addAllTween=function(){this.addTween1(this.tweenNodeArray1),this.addTween2(this.tweenNodeArray2),this.addTween3(this.tweenNodeArray3),this.addTween5(this.tweenNodeArray5),this.addTween6(this.tweenNodeArray6),this.addTween7(this.tweenNodeArray7)},r.addTween1=function(e){var t=new l(1.2,1.2,1),n=new l(1,1,1);e.forEach((function(e,i){u(e).repeatForever(u().to(.2,{scale:t},{easing:"backIn"}).to(.2,{scale:n},{easing:"bounceInOut"}).delay(1.5)).start()}))},r.addTween2=function(e){var t=new l(-10,-10,1),n=new l(10,10,1);e.forEach((function(e){u(e).repeatForever(u().delay(1).by(.2,{position:t}).by(.2,{position:n}).by(.2,{position:t}).by(.2,{position:n})).start()}))},r.addTween3=function(e){var t=new l(1.2,1.2,1),n=new l(1,1,1);e.forEach((function(e){u(e).repeatForever(u().delay(1).to(.2,{scale:t}).to(.2,{scale:n}).to(.2,{scale:t}).to(.2,{scale:n})).start()}))},r.addTween4=function(){var e=new l(30,0,1),t=new l(-30,0,1);u(this.nextButton.node.children[0]).repeatForever(u().delay(3).by(.2,{position:e}).by(.2,{position:t}).by(.2,{position:e}).by(.2,{position:t})).start()},r.addTween5=function(e){var t=this,n=.4;e.forEach((function(e,i){!function(e,i){t.scheduleOnce((function(){u(e.getComponent(p)).repeatForever(u().to(n,{opacity:0}).to(n,{opacity:255}).to(n,{opacity:0}).to(n,{opacity:255}).to(n,{opacity:0}).to(n,{opacity:255}).to(n,{opacity:0}).to(n,{opacity:255}).delay(1)).start()}),.2*i)}(e,i)}))},r.addTween6=function(e){var t=new l(0,10,1),n=new l(0,-10,1);e.forEach((function(e){u(e).repeatForever(u().by(.2,{position:t}).by(.2,{position:n})).start()}))},r.addTween7=function(e){var t=new l(1.1,1.1,1),n=new l(1,1,1);e.forEach((function(e){u(e).repeatForever(u().delay(1).to(.2,{scale:t}).to(.2,{scale:n})).start()}))},r.destroyClass=function(){y.closeView(this)},r.clickNext=function(){var e=Math.min(this.m_Idx+1,this.viewPar.children.length-1);e!=this.m_Idx&&(this.m_Idx=e,this.showPage(),d.stopAllByTarget(this.nextButton.node),this.nextButton.node.setPosition(this.m_NextButtonPosition),e==this.viewPar.children.length-1&&(this.nextButton.node.active=!1))},r.clickClose=function(){this.destroyClass()},r.clickKnow=function(){this.destroyClass()},t}(h)).prototype,"viewPar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(_.prototype,"knowBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(_.prototype,"tweenNodeArray1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(_.prototype,"tweenNodeArray2",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(_.prototype,"tweenNodeArray3",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(_.prototype,"tweenNodeArray5",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(_.prototype,"tweenNodeArray6",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(_.prototype,"tweenNodeArray7",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(_.prototype,"nextButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=_))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/FacilityConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./EventBuiltin.ts","./BuffConfig.ts","./AreaTool.ts","./FacilityTool.ts","./EventUtility.ts","./StarConfig.ts","./TaskConfig.ts"],(function(i){"use strict";var t,n,a,e,c,f,o,s,l,u,r,d,y;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,a=i._decorator},function(i){e=i.configName,c=i.default},function(i){f=i.eventDispatcher},function(i){o=i.buffConfig},function(i){s=i.AreaTool},function(i){l=i.FacilityTool},function(i){u=i.MEventNames},function(i){r=i.starConfig},function(i){d=i.taskConfig,y=i.ETaskType}],execute:function(){var h;n._RF.push({},"ab3107WzdlNkZoaiadk6N4L","FacilityConfig",void 0);a.ccclass,a.property;var g=i("FacilityConfig",e("FacilityConfig")(h=function(i){function n(){for(var t,n=arguments.length,a=new Array(n),e=0;e<n;e++)a[e]=arguments[e];return(t=i.call.apply(i,[this].concat(a))||this).facilityLst={},t.useFacilityLst={},t.unlockRegion={},t.facilityScore=0,t.facliityBuff={},t.facliityMaxDesk={},t.OfflineBuff=0,t}t(n,i);var a=n.prototype;return a.onInit=function(i){if(l.instance.init(),0==Object.keys(this.unlockRegion).length)for(var t=s.instance.RegionIdVec,n=0;n<t.length;n++)this.unlockRegion[t[n]]=-1;this.useFacilityToareaId()},a.getFacilityEnableId=function(i,t){return this.useFacilityLst[i]==t},a.setEnableFacility=function(i,t){this.useFacilityLst[i]=t,this.addFacilityBuff(t,i),this.addTaskMainId(t)},a.getFacilityScore=function(){return this.facilityScore},a.isUnlockFacilityId=function(i,t){var n=this.facilityLst[i];return!!n&&-1!=n.indexOf(t)},a.isUnlockFacilityTable=function(i){var t=this.facilityLst[i];return null!=t&&t.length>0},a.unlockFacilityId=function(i,t){if(!this.isUnlockFacilityId(i,t)){var n=this.facilityLst[i];n||(this.facilityLst[i]=[],n=this.facilityLst[i]),n.push(t),this.addFacilityScore(t),this.updateOfflineBuffValue(t),l.instance.logEvent(i,t)}},a.unlockFacilitySubId=function(i){this.addTaskRegion(i);for(var t=s.instance.getRegionIdToAear(i),n=t.length,a=0;a<n;a++){var e=t[a].Facility;if(0!=e){var c=l.instance.getFacility(e)[0];if(0==c.Gold&&0==c.Star){var f=c.Id;this.facilityLst[e]=[f],this.useFacilityLst[e]||(this.useFacilityLst[e]=f),this.updateOfflineBuffValue(f),this.addFacilityScore(f),this.addFacilityBuff(f,e),l.instance.areaIdToFacility(f),l.instance.logEvent(e,f)}}}},a.getUnlockRegion=function(i){return-1==this.unlockRegion[i]},a.setUnlockRegion=function(i){-1==this.unlockRegion[i]&&(this.unlockRegion[i]=1)},a.addFacilityScore=function(i,t){void 0===t&&(t=!1);var n=l.instance.getFaciliytTableData(i);if(n){var a=n.EnvironmentGain;if(this.facilityScore+=a,!t){var e={index:0,score:a};r.checkStarIsUp(e)}f.event(u.HomeRefreshScore,1)}},a.addFacilityBuff=function(i,t){var n=this.UpdateAttribute(i);if("boolean"!=typeof n&&0!=n[0]){var a=null==n[1]?[]:[n[1]],e=l.instance.isSubIdToDeskId(t);e=-1==e?void 0:e,o.ChangeBuff([n[0]],a,e)}},a.addTaskRegion=function(i){d.addTaskPro(y.CleanArea,i)},a.addTaskMainId=function(i){d.addTaskPro(y.UnlockSpecificFacility,i)},a.useFacilityToareaId=function(){for(var i in l.instance.removeAreaVec(),this.useFacilityLst){var t=this.useFacilityLst[i];l.instance.areaIdToFacility(t)}},a.UpdateAttribute=function(i){var t=l.instance.getFaciliytTableData(i),n=t.Sub_id;if(!this.isUnlockFacilityId(n,i))return!1;var a=l.instance.getMainIdToAttribute(i);if(!a||0==a.Attribute||16==a.Type)return!1;var e=this.getfacliityBuffId(n);if(0==e)return this.facliityBuff[n]=i,[t.AttributeId];if(e==i)return[t.AttributeId,t.AttributeId];var c=l.instance.getMainIdToAttribute(e);return c?c.Attribute<a.Attribute&&(this.facliityBuff[n]=i,[t.AttributeId,c.Id]):void 0},a.getSubIdAttributeMax=function(i,t){t=null==t?0:t;for(var n=0,a=null,e=0,c=0;c<length;c++)n=i[c],(e=null==(a=l.instance.getMainIdToAttribute(n))?0:a.attirbuitle)>t&&(t=e);return t},a.getfacliityBuffId=function(i){return null==this.facliityBuff[i]&&(this.facliityBuff[i]=0),this.facliityBuff[i]},a.updateOfflineBuffValue=function(i){var t=l.instance.getMainIdToAttribute(i);if(t&&16==t.Type){var n=t.Attribute;this.OfflineBuff+=n}},a.registerMaxDeskId=function(i,t){null==this.facliityMaxDesk[i]&&(this.facliityMaxDesk[i]=t)},n}(c))||h);i("facilityConfig",new g);n._RF.pop()}}}));

System.register("chunks:///_virtual/FacilityTool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./BuffConfig.ts","./FacilityConfig.ts","./ItemConfig.ts","./StarConfig.ts","./BookItem.ts","./DataTable.ts","./GameUtility.ts","./GoogleFirebase.ts","./AreaTool.ts","./SuitTool.ts"],(function(t){"use strict";var i,e,n,a,r,u,s,o,l,c,f,d,g,b,I,h,y;return{setters:[function(t){i=t.createClass,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){r=t.dataTableManager},function(t){u=t.EBuffType},function(t){s=t.facilityConfig},function(t){o=t.itemConfig,l=t.EItemEnum},function(t){c=t.starConfig},function(t){f=t.QueryId},function(t){d=t.EDataTables},function(t){g=t.EGameBundles},function(t){b=t.eAnalyticsEvent,I=t.googleFirebaser},function(t){h=t.AreaTool},function(t){y=t.SuitTool}],execute:function(){a._RF.push({},"cb8b1kHqa9DQokfSeW85sgf","FacilityTool",void 0);var m={20101:b.build_table1,20102:b.build_table2,20103:b.build_table3,20104:b.build_table4,20701:b.build_bar,12201:b.build_gatehouse,51601:b.build_sidedish,51501:b.build_cutting,51701:b.build_sink,20105:b.build_table5,20106:b.build_table6,20107:b.build_table7,20108:b.build_table8};t("FacilityTool",function(){function t(){this.m_IsInit=!1,this.m_ConfigMap=new Map,this.m_FacilityCount=[0,0,0,0,0],this.m_FacilityVec=[],this.m_SubIdToDeskId=[20101,20102,20103,20104,20105,20106,20107,20108,30102,60102,70102,40102,40103,40104,40105,40101],this.m_SubIdToKitchenId=[51601,51501],this.m_AreaIdToSubId={},this.areaUseFaciliyt={},this.DebufIdVec=[1,2,3,6,8,9,12,15],this.m_FacliityMaxDesk={}}var a=t.prototype;return a.init=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.m_IsInit){t.next=2;break}return t.abrupt("return");case 2:return this.m_IsInit=!0,t.next=5,this.initConfig();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.initConfig=function(){var t=this;return new Promise((function(i){var e=r.getDataTable(d.Facility);for(var n in e){var a=e[n],u=a.Sub_id;t.m_ConfigMap.has(u)||(t.m_ConfigMap.set(u,[]),t.m_FacilityVec.push(u)),t.m_ConfigMap.get(u).push(a);var s=a.SuitId;if(null!=s){var o=a.Id;y.instance.setSuitAfacilityVec(s,u,o)}}i()}))},a.getAreaRootName=function(t,i){return this.m_AreaIdToSubId[t][i]},a.getFacility=function(t){return this.m_ConfigMap.has(t)?this.m_ConfigMap.get(t):[]},a.getFacilityIdCount=function(t){var i=this.m_FacilityCount[t];return i>0||(i=this.getFacility(t).length,this.m_FacilityCount[t]=i),i},a.getIconBundleName=function(){return g.LoadOnPlay},a.getItemIconUrl=function(t){var i=t;return"number"==typeof t&&(i=""),"Res/Icon/"+i},a.getFacilityPrefabUrl=function(t){var i=this.getFaciliytTableData(t);if(!i)return null;var e=i.Res,n=i.Sub_id,a=h.instance.getFacilityRoot(n);return{res:e,name:a.SName||"",proData:a.IPro}},a.getFaciliytTableData=function(t){return r.getData(d.Facility,t)},a.getFacilityBuff=function(t){var i=this.getFaciliytTableData(t).AttributeId,e=this.getAttribute(i);if(!e)return null;var n=e.Attribute,a=e.Type;a!=u.OffLineNum&&a!=u.EatTimeSub&&(n/=10);var r=e.Des,s="+ "+n;-1!=this.DebufIdVec.indexOf(a)&&(s="- "+n,s+=2==a?"s":"%");return{attributeValue:s,attributeDec:r,attributeType:a}},a.getBuffIconPath=function(t){return"Res/Buff/buff_"+t},a.getIsUnlock=function(t){var i=this.getFaciliytTableData(t),e=i.PreId,n=i.Gold;if(0==e)return{isUnlock:!0,gold:n};var a=i.Sub_id,r=i.Star;return{isUnlock:s.isUnlockFacilityId(a,e),preId:e,gold:n,star:r}},a.getFacitiyResRoot=function(t){var i=t.lastIndexOf("/")+1,e=t.substring(i,t.length),n=e.indexOf("_");return e.substring(0,n)},a.isSubIdToDeskId=function(t){return this.m_SubIdToDeskId.indexOf(t)},a.isSubIdToKitchen=function(t){return this.m_SubIdToKitchenId.indexOf(t)},a.getSubIdToDeskId=function(t){var i=this.m_SubIdToDeskId.indexOf(t);return i>10?i-11:i>7?0:i},a.getFacitilyIsSubId=function(t){var i=this.getFaciliytTableData(t).Sub_id;return i=-1==(i=this.getSubIdToDeskId(i))?0:i},a.getFacitlyIsEatTablesId=function(t){var i=this.getFaciliytTableData(t).Sub_id;return i=-1==(i=this.isSubIdToDeskId(i))?0:i},a.removeAreaVec=function(){this.areaUseFaciliyt={}},a.getAreaId=function(t){var i=this.areaUseFaciliyt[t];return i=null==i?[]:i},a.areaIdToFacility=function(t){var i=this.getFaciliytTableData(t).AreaType;this.areaUseFaciliyt[i]||(this.areaUseFaciliyt[i]=[]),this.areaUseFaciliyt[i].push(t)},a.getAreaUnlock=function(t){return null!=this.areaUseFaciliyt[t]},a.getFacilityToCellId=function(t){for(var i=this.getFaciliytTableData(t),e=i.Sub_id,n=i.AreaType,a=this.m_ConfigMap.get(e),r=0;r<a.length;r++){if(a[r].Id==t)return{cellId:r,tableId:n,subId:e}}return{cellId:0,tableId:n,subId:e}},a.getAttribute=function(t){var i=r.getData(d.Attribute,t);return i||null},a.getMainIdToAttribute=function(t){var i=this.getFaciliytTableData(t);return this.getAttribute(i.AttributeId)},a.getSubIdChildIdToData=function(t,i){if(!this.m_ConfigMap.has(t))return null;var e=this.m_ConfigMap.get(t);return e.length<i?null:e[i]},a.logEvent=function(t,i){var e=m[t];if(e){var n=h.instance.getFacilityRoot(t).SName+"_"+i;I.logEvent(e,n)}},a.updateLobbyDeskMax=function(t,i){var e=this.isSubIdToDeskId(t);return-1!=e&&(!(e>this.m_FacliityMaxDesk[i])&&(s.facliityMaxDesk[i]++,!0))},a.getNextLockId=function(t){var i=this.m_ConfigMap.get(t),e=0,n=i.length;for(e=0;e<n;e++){var a=i[e].Id;if(!s.isUnlockFacilityId(t,a))return this.isMarkFacilityId(a,e,i)}return this.getSubMaxId(t,i)},a.getSubMaxId=function(t,i){return(i=null==i?this.m_ConfigMap.get(t):i)[i.length-1].Id},a.isMarkFacilityId=function(t,i,e){var n=this.getFaciliytTableData(t),a=n.Name,r=n.Sub_id;return a!=f?t:(e=null==e?this.m_ConfigMap.get(r):e)[i-1].Id},a.registerMaxDeskId=function(t,i){if(null==this.m_FacliityMaxDesk[t]){this.m_FacliityMaxDesk[t]=i;for(var e=s.facliityMaxDesk[t],n=0,a=e;a<i;a++)if(n=this.SubIdToDeskId[a],!s.isUnlockFacilityTable(n)&&a>=e)return void(s.facliityMaxDesk[t]=a)}},a.getFacilitySortId=function(t,i){var e=this.m_ConfigMap.get(t),n=0,a=e.length;for(n=0;n<a;n++){if(i==e[n].Id)return{id:n,maxId:a}}return{id:-1,maxId:a}},a.getLockFacility=function(t){var i=this.getNextLockId(t),e=this.getIsUnlock(i),n=e.isUnlock,a=e.gold,r=e.star;if(!n)return!1;var u=o.itemEnough(l.money,a);if(r){var s=r>=c.getStar();return u&&s}return u},i(t,[{key:"FacilityTypeVec",get:function(){return this.m_FacilityVec}},{key:"SubIdToDeskId",get:function(){return this.m_SubIdToDeskId}},{key:"LobbyDeskMaxId",get:function(){return this.m_FacliityMaxDesk}}],[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new t),this.m_Instance}}]),t}()).m_Instance=void 0,a._RF.pop()}}}));

System.register("chunks:///_virtual/FasrBuyTab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./FacilityConfig.ts","./GoodReputationConfig.ts","./ItemConfig.ts","./StarConfig.ts","./AreaTool.ts","./FacilityTool.ts","./LobbyUtility.ts","./EventUtility.ts","./UIConfig.ts","./BookTable.ts"],(function(t){"use strict";var e,i,n,a,o,r,l,c,u,s,f,g,p,d,v,b,y,k,h,m,T,U,S,I,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,l=t._decorator,c=t.Node,u=t.Label,s=t.Component},function(t){f=t.eventDispatcher},function(t){g=t.LocalizationHelper},function(t){p=t.uiManager},function(t){d=t.facilityConfig},function(t){v=t.goodReputationConfig},function(t){b=t.itemConfig,y=t.EItemEnum},function(t){k=t.starConfig},function(t){h=t.AreaTool},function(t){m=t.FacilityTool},function(t){T=t.MLobbyEvent},function(t){U=t.MEventNames},function(t){S=t.MUIConfig},function(t){I=t.popEnmuGood,_=t.popGoodReputationId}],execute:function(){var C,D,F,A,w,L,B,E,N,M,R;r._RF.push({},"e2f20ak/KxEvribsrm3D5Kn","FasrBuyTab",void 0);var z=l.ccclass,G=l.property;t("FasrBuyTab",(C=z("FasrBuyTab"),D=G(c),F=G(u),A=G(u),w=G(c),C((E=e((B=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"UnlockNode",E,a(e)),n(e,"TilteLab",N,a(e)),n(e,"MoneyLab",M,a(e)),n(e,"unlockTitle",R,a(e)),e.m_AreaData=null,e.m_Data=null,e.m_target=null,e}i(e,t);var r=e.prototype;return r.showView=function(t,e){this.node.active=!t,t||this.updateView(e)},r.updateView=function(t){var e=m.instance.getFaciliytTableData(t);this.m_Data=e;var i=e.AreaType,n=e.Sub_id,a=h.instance.getFacilityToArea(i,n);this.m_AreaData=a;var o=a.Name;this.TilteLab.string=g.getString(o),this.UnlockNode.active=!1,this.unlockTitle.active=!1;var r=this.getIsUnlock(a);r.isUnlock||this.setUnlock(r)},r.setUnlock=function(t){var e=t.prerequisiteId,i=this.unlockTitle.children,n=null!=e;if(n){var a=h.instance.getSubToAreaConfig(e).Name;i[0].getComponentsInChildren(u)[1].string=g.getString(a)}i[0].active=n;var o=t.unlockStar;if(n=null!=o&&k.getStar()<o){var r=i[1].getComponentsInChildren(u)[1],l=k.getStarNameByStar(o);r.string=l}if(i[1].active=n,i[0].active||i[1].active)this.unlockTitle.active=!0;else{var c=t.gold;this.UnlockNode.active=!0,this.MoneyLab.string=c+""}},r.onUnlockBtn=function(){var t=this.m_AreaData.Gold;b.useItem(y.money,t)?this.unlockTable():p.openView(S.ShopDepotView)},r.onUnlockStar=function(){var t=this.m_AreaData.UnlockStar,e=k.getStarNameByStar(t);p.openView(S.TipView,null,{content:g.getString("16_13",[e])})},r.unlockTable=function(){var t=this.m_Data,e=t.Sub_id,i=t.Id,n=t.AreaType;d.unlockFacilityId(e,i),d.setEnableFacility(e,i);var a=this.m_AreaData.Sub_Id;h.instance.addTaskSubId(a),h.instance.logEvent(this.m_AreaData),this.checkGoodReputation(e),f.event(T.UpdateConstructItem,[n,i,e]),f.event(U.RenovationSelectItem),this.m_target&&this.m_target.updateData()},r.getIsUnlock=function(t){var e=t.Facility,i=d.isUnlockFacilityTable(e);if(i)return{isUnlock:i};var n=t.PrerequisiteId,a=t.UnlockStar,o=t.Gold;if(0==n&&0==a&&0==o)return{isUnlock:i=!0};if(0!=n){var r=h.instance.getSubToAreaConfig(n).Facility;if(!(i=d.isUnlockFacilityTable(r)))return{isUnlock:i,prerequisiteId:n,unlockStar:a,gold:o}}return(i=k.getStar()<=a)&&0!=o?{isUnlock:i=!1,unlockStar:a,gold:o}:i||0!=o?{isUnlock:i=!1,gold:o}:{isUnlock:i=!0}},r.checkGoodReputation=function(t){var e=_.indexOf(t);-1!=e&&v.canReputate(I[e])},o(e,[{key:"Target",set:function(t){this.m_target=t}}]),e}(s)).prototype,"UnlockNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(B.prototype,"TilteLab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(B.prototype,"MoneyLab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(B.prototype,"unlockTitle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=B))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/FastBuildConfigView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./FacilityConfig.ts","./ItemConfig.ts","./StarConfig.ts","./NoviceGuideMgr.ts","./AreaTool.ts","./FacilityTool.ts","./LobbyCameraControl.ts","./LobbyRoomData.ts","./LobbyUtility.ts","./EventUtility.ts","./ResourceTool.ts","./UITool.ts","./UIConfig.ts","./TopItemPrefab.ts"],(function(t){"use strict";var i,e,n,o,a,r,c,s,l,u,f,m,h,d,g,b,p,y,I,v,F,C,k,w,S,D,T,_,P,L,B;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Sprite,s=t.Label,l=t.Node,u=t.Color},function(t){f=t.eventDispatcher},function(t){m=t.LocalizationHelper},function(t){h=t.uiManager},function(t){d=t.UIView},function(t){g=t.facilityConfig},function(t){b=t.EItemEnum,p=t.itemConfig},function(t){y=t.starConfig},function(t){I=t.NoviceGuideMgr,v=t.EGuideStep,F=t.EGuideClickEnum},function(t){C=t.AreaTool},function(t){k=t.FacilityTool},function(t){w=t.LobbyCameraControl},function(t){S=t.ELobbyRoomId},function(t){D=t.MLobbyEvent},function(t){T=t.MEventNames},function(t){_=t.ResourceTool},function(t){P=t.UITool},function(t){L=t.MUIConfig},function(t){B=t.TopItemPrefab}],execute:function(){var E,N,G,V,U,R,z,M,A,H,j,O,x,W,q;a._RF.push({},"1f9c41qArlFlr1z3HzXHd2N","FastBuildConfigView",void 0);var X=r.ccclass,J=r.property;t("FastBuildConfigView",(E=X("FastBuildConfigView"),N=J(c),G=J(s),V=J(l),U=J(l),R=J(s),z=J(s),E((H=i((A=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,n(i,"itemIcon",H,o(i)),n(i,"itemPrice",j,o(i)),n(i,"topBg",O,o(i)),n(i,"unlockBtn",x,o(i)),n(i,"nameLab",W,o(i)),n(i,"msLab",q,o(i)),i.m_FacilityData=void 0,i.m_unlcokData=void 0,i}e(i,t);var a=i.prototype;return a.onLoad=function(){this.initTopNode()},a.onOpen=function(t,i,e){this.m_FacilityData=k.instance.getFaciliytTableData(t),this.m_unlcokData={Gold:i,Star:e},this.initView(),this.scheduleOnce((function(){I.instance.isNeedShowNoviceView(v.Guide_GameBegin)}),.1)},a.onClose=function(){f.event(T.CloseGoldAdView)},a.onEnable=function(){this.initEvent()},a.onDisable=function(){this.removeEvent()},a.initView=function(){var t=this.m_FacilityData,i=this.getIconPath(t.Sub_id);this.setIcon(i),this.setUnlockPrice(),this.setMsName()},a.setMsName=function(){var t=this.m_FacilityData,i=t.Name,e=t.Lnfo;this.nameLab.string=this.getLocalString(i),this.msLab.string=this.getLocalString(e)},a.getLocalString=function(t){return m.getString(t)},a.initTopNode=function(){_.addTopItemPrefab(this.topBg,(function(t,i){i.getComponent(B).setData({data:[b.diamond,b.money],dir:0,isHomePage:!0})}))},a.setIcon=function(t){_.setSpriteFrame(k.instance.getIconBundleName(),k.instance.getItemIconUrl(t),this.itemIcon,this.node)},a.getIconPath=function(t){k.instance.isSubIdToDeskId(t);return"Hall_ndesk_0"},a.initEvent=function(){f.on(T.RefreshItemNumber,this,this.RefreshItemNunber),f.on(T.guideClick,this,this.guideClick),f.on(T.refreshGuildPos,this,this.refreshGuildPos)},a.removeEvent=function(){f.off(T.RefreshItemNumber,this,this.RefreshItemNunber),f.off(T.guideClick,this,this.guideClick),f.off(T.refreshGuildPos,this,this.refreshGuildPos)},a.refreshGuildPos=function(t){t.click==F.layerButton&&this.unlockBtn.getWorldPosition(P.instance.guideHandWorldPos)},a.guideClick=function(t){t.click==F.layerButton&&this.clickUnlockBtn()},a.clickCloseBtn=function(){this.destroyClass()},a.clickUnlockBtn=function(){var t=y.getStar(),i=this.m_unlcokData.Star;if(t>=i){var e=this.m_unlcokData.Gold;p.useItem(b.money,e)?this.setEnableFacility():P.instance.haveNoAD?h.openView(L.ShopDepotView):h.openView(L.TipView,null,{content:m.getString("1_17")})}else{var n=y.getStarNameByStar(i);h.openView(L.TipView,null,{content:m.getString("16_13",[n])})}},a.destroyClass=function(){h.closeView(this)},a.setUnlockPrice=function(t){void 0===t&&(t=!0);var i=this.m_unlcokData.Gold;this.itemPrice.string="x"+i;var e=p.itemEnough(b.money,i),n=e?"#FFFFFF":"#FF0000";this.itemPrice.color=new u(n),!e&&t&&P.isOpenADGetGold(i)},a.setEnableFacility=function(){var t=this.m_FacilityData.Sub_id,i=this.m_FacilityData.Id,e=this.m_FacilityData.AreaType;g.unlockFacilityId(t,i),g.setEnableFacility(t,i);var n=C.instance.getFacilityToArea(e,t),o=n.Sub_Id;C.instance.addTaskSubId(o),C.instance.logEvent(n),this.destroyClass(),f.event(D.UpdateConstructItem,[e,i,t]),f.event(T.RenovationSelectItem);var a=this.jumpToRoomId(e);w.instance.jumpToRoomId(a)},a.jumpToRoomId=function(t){return-1==C.instance.isSubId(t)?t:S.Private},a.RefreshItemNunber=function(){this.setUnlockPrice(!1)},i}(d)).prototype,"itemIcon",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(A.prototype,"itemPrice",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(A.prototype,"topBg",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(A.prototype,"unlockBtn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(A.prototype,"nameLab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(A.prototype,"msLab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=A))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/FastBuyBook.ts",["./rollupPluginModLoBabelHelpers.js","cc","./List.ts","./AreaTool.ts","./FacilityTool.ts","./FastBuyItem.ts"],(function(t){"use strict";var e,i,a,n,s,o,l,r,u,c,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass},function(t){o=t.cclegacy,l=t._decorator,r=t.Component},function(t){u=t.default},function(t){c=t.AreaTool},function(t){h=t.FacilityTool},function(t){d=t.FastBuyItem}],execute:function(){var f,m,b,p,y;o._RF.push({},"b38c4isTSJFQ6MYg8VDKZVy","FastBuyBook",void 0);var g=l.ccclass,_=l.property;t("FastBuyBook",(f=g("FastBuyBook"),m=_(u),f((y=e((p=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,a(e,"listView",y,n(e)),e.m_TableData=[],e.m_target=null,e.m_tableId=0,e}i(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},o.initTableData=function(t,e){var i=c.instance.QuickBuy[t];this.m_TableData=i;var a=i.indexOf(e);this.m_tableId=-1==a?0:a,this.listView.numItems=i.length,this.listView.selectedId=this.m_tableId,this.listView.scrollTo(this.m_tableId)},o.onListVRender=function(t,e){var i=t.getComponent(d),a=this.getTableData(e);i.initCell(a)},o.onListSelected=function(t,e,i,a){if(t){this.m_tableId=e;var n=this.getTableData(e);this.m_target&&this.m_target.updateData(n)}},o.getTableData=function(t){var e=this.m_TableData[t];return h.instance.getNextLockId(e)},o.getTableIdData=function(){return this.listView.updateItem(this.m_tableId),this.getTableData(this.m_tableId)},s(e,[{key:"Target",set:function(t){this.m_target=t}},{key:"SelelctedId",get:function(){return this.m_tableId}}]),e}(r)).prototype,"listView",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=p))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/FastBuyItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FacilityConfig.ts","./StarConfig.ts","./AreaTool.ts","./FacilityTool.ts","./BookItem.ts"],(function(t){"use strict";var e,i,a,o,n,r,c,s,l,u,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,c=t.Node},function(t){s=t.facilityConfig},function(t){l=t.starConfig},function(t){u=t.AreaTool},function(t){h=t.FacilityTool},function(t){d=t.BookItem}],execute:function(){var f,v,y,k,S,p,N;n._RF.push({},"a0c01EAGetPw7GcMsBzSH0V","FastBuyItem",void 0);var M=r.ccclass,g=r.property;t("FastBuyItem",(f=M("FastBuyItem"),v=g(c),y=g(c),f((p=e((S=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).m_areaData=null,a(e,"StarNode",p,o(e)),a(e,"MaxNode",N,o(e)),e}i(e,t);var n=e.prototype;return n.initCell=function(t){var e=h.instance.getFaciliytTableData(t);if(this.m_Data=e,e){this.MoneryNode.active=!1,this.MaxNode.active=!1,this.setIcon(e.Icon),this.setItem();var i=e.Sub_id;this.isUnlockArea(i)||(this.initAteaData(),this.setLockMark()),s.isUnlockFacilityId(i,t)&&this.setMaxState()}},n.isUnlockArea=function(t){return s.isUnlockFacilityTable(t)},n.initAteaData=function(){var t=this.m_Data,e=t.AreaType,i=t.Sub_id;this.m_areaData=u.instance.getFacilityToArea(e,i)},n.setLockMark=function(){var t=this.m_areaData,e=t.UnlockStar,i=(t.Gold,0==e||l.getStar()>=e),a=this.MarkNode.children;i?(this.MarkNode.active=!0,this.StarNode.active=!1,a[0].active=!0,a[1].active=!1):(this.MarkNode.active=!0,this.StarNode.active=!1,a[0].active=!0,a[1].active=!0)},n.setUnlockState=function(t,e){this.StarNode.active=!0;var i=h.instance.getFacilitySortId(t,e);this.StartLab.string=""+i.id,this.MoneryNode.active=!1,this.MarkNode.active=!1},n.setLockQuery=function(t,e){this.setUnlockState(t,e)},n.setLockState=function(t,e){h.instance.getIsUnlock(e);var i=this.getIsUnlock(e);this.MarkNode.active=!i,this.setUnlockState(t,e)},n.setMaxState=function(){this.MarkNode.active=!1,this.StarNode.active=!1,this.MaxNode.active=!0},e}(d)).prototype,"StarNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(S.prototype,"MaxNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=S))||k));n._RF.pop()}}}));

System.register("chunks:///_virtual/FastBuytConfigView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./FacilityConfig.ts","./ItemConfig.ts","./StarConfig.ts","./AreaTool.ts","./FacilityTool.ts","./LobbyCameraControl.ts","./LobbyRoomData.ts","./LobbyUtility.ts","./EventUtility.ts","./ResourceTool.ts","./UIConfig.ts","./RenovationConfigView.ts"],(function(t){"use strict";var e,i,n,a,o,r,c,l,u,s,f,m,g,b,h,y,p,I,d,v,S,F,w,C,L,D,_,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,c=t._decorator,l=t.Label,u=t.Sprite,s=t.Node,f=t.Color,m=t.Component},function(t){g=t.eventDispatcher},function(t){b=t.LocalizationHelper},function(t){h=t.uiManager},function(t){y=t.facilityConfig},function(t){p=t.itemConfig,I=t.EItemEnum},function(t){d=t.starConfig},function(t){v=t.AreaTool},function(t){S=t.FacilityTool},function(t){F=t.LobbyCameraControl},function(t){w=t.ELobbyRoomId},function(t){C=t.MLobbyEvent},function(t){L=t.MEventNames},function(t){D=t.ResourceTool},function(t){_=t.MUIConfig},function(t){N=t.ERenovationState}],execute:function(){var T,E,B,U,V,k,R,z,P,A,M,j,G,K,O,H,x,q,J,Q,W,X,Y,Z,$;r._RF.push({},"ae947raTAVCF5TuqNvPVwwF","FastBuytConfigView",void 0);var tt=c.ccclass,et=c.property;t("FastBuytConfigView",(T=tt("FastBuytConfigView"),E=et(l),B=et(l),U=et(l),V=et(l),k=et(l),R=et(l),z=et(u),P=et(u),A=et(s),M=et(l),j=et(s),T((O=e((K=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"itemName",O,a(e)),n(e,"itemDec",H,a(e)),n(e,"rootName",x,a(e)),n(e,"itemId",q,a(e)),n(e,"itemgrade",J,a(e)),n(e,"buffgrade",Q,a(e)),n(e,"buffIcon",W,a(e)),n(e,"itemIcon",X,a(e)),n(e,"itemState",Y,a(e)),n(e,"itemPrice",Z,a(e)),n(e,"itemLockState",$,a(e)),e.m_FacilityData=void 0,e.m_target=null,e}i(e,t);var r=e.prototype;return r.onEnable=function(){this.initEvent()},r.onDisable=function(){this.removeEvent()},r.showView=function(t,e){this.node.active=t,t&&this.updateView(e)},r.updateView=function(t){this.m_FacilityData=S.instance.getFaciliytTableData(t),this.initView();var e=this.getBtnState();this.setBtnState(e)},r.initView=function(){var t=this.m_FacilityData,e=t.Id,i=t.Icon,n=t.Name,a=t.Lnfo,o=t.Sub_id,r=t.Sub_name,c=t.EnvironmentGain;this.setIcon(i),this.itemName.string=this.getLocalString(n),this.itemDec.string=this.getLocalString(a),this.rootName.string=this.getLocalString(r);var l=c;this.itemgrade.string="+ "+l;var u=S.instance.getFacilitySortId(o,e),s=u.id,f=u.maxId;this.itemId.string=s+" / "+f;var m=S.instance.getFacilityBuff(e);if(this.buffIcon.node.active=null!=m,this.buffgrade.node.active=null!=m,m){var g=m.attributeValue,b=m.attributeType,h=""+g;this.buffgrade.string=h,this.setBuffIcon(b,this.buffIcon)}},r.setIcon=function(t){D.setSpriteFrame(S.instance.getIconBundleName(),S.instance.getItemIconUrl(t),this.itemIcon,this.node)},r.setBuffIcon=function(t,e){D.setSpriteFrame(S.instance.getIconBundleName(),S.instance.getBuffIconPath(t),e,this.node)},r.initEvent=function(){g.on(L.RefreshItemNumber,this,this.RefreshItemNunber)},r.removeEvent=function(){g.off(L.RefreshItemNumber,this,this.RefreshItemNunber)},r.clickUnlockBtn=function(){var t=d.getStar(),e=this.m_FacilityData.Star;if(t>=e){var i=this.m_FacilityData.Gold;p.useItem(I.money,i,1)?(this.setEnableFacility(),g.event(L.offFastBuyView)):h.openView(_.TipView,null,{content:b.getString("1_17")})}else{var n=d.getStarNameByStar(e);h.openView(_.TipView,null,{content:b.getString("16_13",[n])})}},r.getLocalString=function(t){return b.getString(t)},r.setEnableFacility=function(){var t=this.m_FacilityData.Sub_id,e=this.m_FacilityData.Id,i=this.m_FacilityData.AreaType;y.unlockFacilityId(t,e),y.setEnableFacility(t,e),g.event(C.UpdateConstructItem,[i,e,t]),g.event(L.RenovationSelectItem);var n=this.jumpToRoomId(i);F.instance.jumpToRoomId(n)},r.jumpToRoomId=function(t){return-1==v.instance.isSubId(t)?t:w.Private},r.getBtnState=function(){var t=this.m_FacilityData.Sub_id,e=this.m_FacilityData.Id;return y.isUnlockFacilityId(t,e)?N.USEING:y.isUnlockFacilityId(t,e)?N.USE:S.instance.getIsUnlock(e).isUnlock?N.UNLOCK:N.LOCKSTATE},r.setBtnState=function(t){for(var e=this.itemState.children,i=0;i<e.length;i++){e[i].active=t==i}t==N.UNLOCK&&this.setUnlockPrice(),t==N.LOCKSTATE&&this.setLockState()},r.setUnlockPrice=function(t){var e=this.m_FacilityData.Gold;this.itemPrice.string=e+"";var i=p.itemEnough(I.money,e)?"#FFFFFF":"#FF0000";this.itemPrice.color=new f(i)},r.setLockState=function(){var t=this.m_FacilityData,e=d.curStarID,i=this.itemLockState.getComponentsInChildren(l),n=t.PreId,a=t.Star,o=S.instance.getFaciliytTableData(n);if(e>=a)i[3].node.active=!1,i[2].string=b.getString(o.Name);else{var r=d.getStarNameByStar(a);i[2].string=r}},r.RefreshItemNunber=function(){this.setUnlockPrice(!1)},o(e,[{key:"Target",set:function(t){this.m_target=t}}]),e}(m)).prototype,"itemName",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(K.prototype,"itemDec",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(K.prototype,"rootName",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(K.prototype,"itemId",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(K.prototype,"itemgrade",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(K.prototype,"buffgrade",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(K.prototype,"buffIcon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(K.prototype,"itemIcon",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(K.prototype,"itemState",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(K.prototype,"itemPrice",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(K.prototype,"itemLockState",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=K))||G));r._RF.pop()}}}));

System.register("chunks:///_virtual/FastBuyView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./UIView.ts","./FacilityTool.ts","./EventUtility.ts","./FastConstruct.ts","./FastSelect.ts","./FastStaffView.ts"],(function(t){"use strict";var e,i,n,s,o,c,a,l,u,r,f,h,p,y,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,a=t.Node},function(t){l=t.eventDispatcher},function(t){u=t.uiManager},function(t){r=t.UIView},function(t){f=t.FacilityTool},function(t){h=t.MEventNames},function(t){p=t.FastConstruct},function(t){y=t.FastSelect},function(t){v=t.FastStaffView}],execute:function(){var w,V,b,m,F,C,d,B,_;o._RF.push({},"02a3fAUL3FONIizO1uTeuxN","FastBuyView",void 0);var g=c.ccclass,S=c.property;t("FastBuyView",(w=g("FastBuyView"),V=S(a),b=S(y),m=S(p),w((d=e((C=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,n(e,"view",d,s(e)),n(e,"SelectTable",B,s(e)),n(e,"fastConstruct",_,s(e)),e.m_ViewVec=[],e.m_ViewChild=[],e.m_QuickBuy=void 0,e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.m_ViewVec=this.view.children,this.m_ViewChild.push(this.fastConstruct),this.SelectTable.onInit({ATagert:this,FTouchCallback:this.UpdateTable})},o.onOpen=function(t,e){this.m_QuickBuy=t,this.SelectTable.Selelcted=0;var i=f.instance.getFaciliytTableData(e).Sub_id;this.fastConstruct.onOpen(t,i),l.on(h.StaffEmplyBackScene,this,this.clickCloseBtn)},o.onClose=function(){l.offAllCaller(this)},o.onEnable=function(){this.initEvent()},o.onDisable=function(){this.removeEvent()},o.initEvent=function(){l.on(h.offFastBuyView,this,this.clickCloseBtn)},o.removeEvent=function(){l.off(h.offFastBuyView,this,this.clickCloseBtn)},o.clickCloseBtn=function(){this.destroyClass()},o.destroyClass=function(){u.closeView(this)},o.UpdateTable=function(t){for(var e=this.m_ViewVec.length,i=0;i<e;i++){this.m_ViewVec[i].active=i==t;var n=this.m_ViewVec[i].getComponent(v);n&&n.setQuickBuy(this.m_QuickBuy)}},e}(r)).prototype,"view",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(C.prototype,"SelectTable",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(C.prototype,"fastConstruct",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=C))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/FastConstruct.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./FacilityConfig.ts","./FacilityTool.ts","./EventUtility.ts","./FasrBuyTab.ts","./FastBuyBook.ts","./FastBuytConfigView.ts"],(function(t){"use strict";var i,a,n,o,e,s,r,u,c,l,y,f,B,F;return{setters:[function(t){i=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){e=t.cclegacy,s=t._decorator,r=t.Component},function(t){u=t.eventDispatcher},function(t){c=t.facilityConfig},function(t){l=t.FacilityTool},function(t){y=t.MEventNames},function(t){f=t.FasrBuyTab},function(t){B=t.FastBuyBook},function(t){F=t.FastBuytConfigView}],execute:function(){var h,p,b,m,g,_,T,v,C;e._RF.push({},"c0b59ArBSNJlr3I6Eag1E9R","FastConstruct",void 0);var d=s.ccclass,w=s.property;t("FastConstruct",(h=d("FastConstruct"),p=w(B),b=w(F),m=w(f),h((T=i((_=function(t){function i(){for(var i,a=arguments.length,e=new Array(a),s=0;s<a;s++)e[s]=arguments[s];return i=t.call.apply(t,[this].concat(e))||this,n(i,"m_FastBuyBook",T,o(i)),n(i,"m_FastBuyConfig",v,o(i)),n(i,"m_FasrBuyTab",C,o(i)),i.m_FacilityData=void 0,i}a(i,t);var e=i.prototype;return e.start=function(){},e.update=function(t){},e.onOpen=function(t,i){this.m_FastBuyBook.Target=this,this.m_FastBuyBook.initTableData(t,i);var a=this.m_FastBuyBook.SelelctedId,n=this.m_FastBuyBook.getTableData(a),o=this.isUnlockArea(n);this.m_FastBuyConfig.Target=this,this.m_FastBuyConfig.showView(o,n),this.m_FasrBuyTab.Target=this,this.m_FasrBuyTab.showView(o,n)},e.onClose=function(){u.event(y.CloseGoldAdView)},e.updateData=function(t){void 0===t&&(t=0),t=0==t?this.m_FastBuyBook.getTableIdData():t;var i=this.isUnlockArea(t);this.m_FastBuyConfig.showView(i,t),this.m_FasrBuyTab.showView(i,t)},e.isUnlockArea=function(t){var i=l.instance.getFaciliytTableData(t).Sub_id;return c.isUnlockFacilityTable(i)},i}(r)).prototype,"m_FastBuyBook",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(_.prototype,"m_FastBuyConfig",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(_.prototype,"m_FasrBuyTab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=_))||g));e._RF.pop()}}}));

System.register("chunks:///_virtual/FastSelect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SelectTable.ts","./FastSeleItem.ts"],(function(t){"use strict";var e,c,s,n,a;return{setters:[function(t){e=t.inheritsLoose},function(t){c=t.cclegacy,s=t._decorator},function(t){n=t.SelectTable},function(t){a=t.FastSeleItem}],execute:function(){var i;c._RF.push({},"ff3a35Q/PFIYL6UOwsQHMCp","FastSelect",void 0);var l=s.ccclass;s.property,t("FastSelect",l("FastSelect")(i=function(t){function c(){for(var e,c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).m_itemName=[],e}e(c,t);var s=c.prototype;return s.onLoad=function(){this.m_SelectVec=this.node.getComponentsInChildren(a),this.m_itemName=["16_1","33_1"],this.setSelectItemName()},s.onInit=function(t){this.m_Taget=t},s.setSelectItemName=function(){for(var t=0;t<this.m_SelectVec.length;t++){var e=this.m_SelectVec[t],c=this.m_itemName[t];e.setNameLab(c)}},s.onSelected=function(t,e){this.m_selectedId=e,this.switchStart(e),this.m_Taget.FTouchCallback.call(this.m_Taget.ATagert,e)},c}(n))||i);c._RF.pop()}}}));

System.register("chunks:///_virtual/FastSeleItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SelectItem.ts","./SelectTable.ts"],(function(e){"use strict";var t,c,n,s,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){c=e.cclegacy,n=e._decorator,s=e.Color},function(e){o=e.SelectItem},function(e){r=e.ESelectStart}],execute:function(){var i;c._RF.push({},"eec25/YeaNDPZtyy/2jFZGC","FastSeleItem",void 0);var l=n.ccclass;n.property,e("FastSeleItem",l("FastSeleItem")(i=function(e){function c(){return e.apply(this,arguments)||this}return t(c,e),c.prototype.switchSelected=function(e){this.selectIcon.active=r.SELECT==e,this.nameLab.color=r.SELECT==e?new s("#FFFFFF"):new s("#416D38")},c}(o))||i);c._RF.pop()}}}));

System.register("chunks:///_virtual/FastStaffView_template.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./ListItem.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./GoodReputationConfig.ts","./ItemConfig.ts","./PurchaseGiftConfig.ts","./StaffConfig.ts","./StarConfig.ts","./TaskConfig.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts","./UITool.ts","./UIConfig.ts"],(function(e){"use strict";var t,i,n,a,o,r,l,u,s,p,f,c,_,b,m,d,g,y,h,w,v,N,S,C,I,T,k,z,L,P,E,V,R,B,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Label,u=e.Sprite,s=e.Node,p=e.misc,f=e.color,c=e.LabelOutline,_=e.director},function(e){b=e.eventDispatcher},function(e){m=e.default},function(e){d=e.dataTableManager},function(e){g=e.LocalizationHelper},function(e){y=e.uiManager},function(e){h=e.goodReputationConfig,w=e.EGoodReputationEnum},function(e){v=e.itemConfig,N=e.EItemEnum},function(e){S=e.purchaseGiftConfig},function(e){C=e.staffConfig},function(e){I=e.starConfig},function(e){T=e.taskConfig,k=e.ETaskType},function(e){z=e.EDataTables},function(e){L=e.MEventNames},function(e){P=e.EGameBundles},function(e){E=e.AudioTool,V=e.ESoundType},function(e){R=e.ResourceTool},function(e){B=e.UITool},function(e){D=e.MUIConfig}],execute:function(){var F,U,G,M,x,A,H,O,j,Z,J,Y,q,K,Q,W,X,$,ee,te,ie,ne,ae,oe,re,le,ue,se,pe,fe,ce,_e,be;o._RF.push({},"ced58mU/PZEPJ4YjrB2LLZM","FastStaffView_template",void 0);var me=r.ccclass,de=r.property;e("FastStaffView_template",(F=me("FastStaffView_template"),U=de({type:l,displayName:""}),G=de({type:u,displayName:""}),M=de({type:l,displayName:""}),x=de({type:l,displayName:""}),A=de({type:u,displayName:""}),H=de({type:s,displayName:""}),O=de({type:l,displayName:""}),j=de({type:s,displayName:""}),Z=de({type:l,displayName:""}),J=de({type:s,displayName:""}),Y=de({type:s,displayName:""}),q=de({type:l,displayName:""}),K=de({type:l,displayName:""}),Q=de({type:s,displayName:""}),W=de({type:l,displayName:""}),F((ee=t(($=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"buff_lab",ee,a(t)),n(t,"buff_icon",te,a(t)),n(t,"workLabel",ie,a(t)),n(t,"info_lab",ne,a(t)),n(t,"headicon",ae,a(t)),n(t,"upgradebtn_node",oe,a(t)),n(t,"price_lab",re,a(t)),n(t,"max_lab_node",le,a(t)),n(t,"have_lab",ue,a(t)),n(t,"employ_node",se,a(t)),n(t,"updateNode",pe,a(t)),n(t,"service_lab",fe,a(t)),n(t,"nameLabel",ce,a(t)),n(t,"starNode",_e,a(t)),n(t,"update_price_lab",be,a(t)),t.m_person_id=0,t}i(t,e);var o=t.prototype;return o.initCell=function(e){this.m_person_id=e.Id;var t=C.get_person_info(this.m_person_id);this.nameLabel.string=t.Name;var i=C.get_staff_res(this.m_person_id);R.setSpriteFrame(P.LoadOnPlay,"Res/Texture/UI/AvatarFull/"+i.icon,this.headicon,this.node,(function(e,t){})),this._flushInfo(),this._updatePriceShow(),this.info_lab.string=t.Content;var n=t.Tag.split("_"),a=n[0];1!=n.length&&(a+=" "+n[1]),this.workLabel.string=a},o._flushInfo=function(){var e=C.get_info(this.m_person_id),t=p.clampf(e,0,6);3==t&&h.canReputate(w.staffStar3);var i=C.get_person_info(this.m_person_id);if(this.starNode.active=-1!=e,this.employ_node.active=-1==e,this.updateNode.active=-1!=e,-1!=e)for(var n=1;n<=6;n++)this.starNode.getChildByName("star"+n).active=e>=n;var a=i.Score.split("_");this.max_lab_node.active=6==e,this.updateNode.getChildByName("upgradebtn").active=6!=e,this.service_lab.string=""+a[t]},o._updatePriceShow=function(){var e=C.get_person_info(this.m_person_id);this.price_lab.string=e.Cost+"",v.getItemNum(N.money)<e.Cost?this.price_lab.color=f(255,0,0):this.price_lab.color=f(43,150,77);var t=C.get_info(this.m_person_id),i=p.clampf(t,0,6),n=~~e.Point.split("_")[i+1];v.getItemNum(N.worker_book)<n?(this.update_price_lab.color=f(252,125,112,255),this.update_price_lab.getComponent(c).color=f(122,29,20,255)):(this.update_price_lab.color=f(255,255,246),this.update_price_lab.getComponent(c).color=f(23,107,155,255)),this.update_price_lab.string="x "+n,this.have_lab.string=g.getString("22_9",[v.getItemNum(N.worker_book)]);var a=e.workBuffId[i],o=d.getData(z.StaffAttribute,a);R.setSpriteFrame(P.LoadOnPlay,"Res/Texture/UI/StaffBuff/staffbuff_"+o.Type,this.buff_icon,this.node,(function(e,t){})),this.buff_lab.string=o.Attribute/10+"%"},o.update=function(){_.getTotalFrames()%20==0&&this._updatePriceShow()},o.c_employ=function(){E.play(V.ui_click);var e=C.get_person_info(this.m_person_id);e.Star>I.getStar()?y.openView(D.TipView,null,{content:g.getString("33_31",[I.getStarNameByStar(e.Star)])}):v.getItemNum(N.money)<e.Cost?B.instance.haveNoAD?y.openView(D.ShopDepotView):y.openView(D.TipView,null,{content:g.getString("1_17")}):(v.useItem(N.money,e.Cost),C.unlock_staff(this.m_person_id)>=4&&h.canReputate(w.staff4),b.event(L.StaffEmplyBackScene),T.addTaskPro(k.EmployPlayer,this.m_person_id))},o.c_update_staff=function(){E.play(V.ui_click);var e=C.get_person_info(this.m_person_id),t=C.get_info(this.m_person_id),i=~~e.Point.split("_")[t+1];v.getItemNum(N.worker_book)>=i?(v.useItem(N.worker_book,i),C.update_staff(this.m_person_id),this._flushInfo(),this._updatePriceShow()):S.canGetReward(1003)>0?y.openView(D.PurchaseGiftView1003,null):y.openView(D.PurchaseGiftView1005,null,1006)},t}(m)).prototype,"buff_lab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t($.prototype,"buff_icon",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t($.prototype,"workLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t($.prototype,"info_lab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t($.prototype,"headicon",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t($.prototype,"upgradebtn_node",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t($.prototype,"price_lab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t($.prototype,"max_lab_node",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t($.prototype,"have_lab",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t($.prototype,"employ_node",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t($.prototype,"updateNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t($.prototype,"service_lab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t($.prototype,"nameLabel",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t($.prototype,"starNode",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t($.prototype,"update_price_lab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=$))||X));o._RF.pop()}}}));

System.register("chunks:///_virtual/FastStaffView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./List.ts","./StaffConfig.ts","./FastStaffView_template.ts"],(function(t){"use strict";var i,e,n,s,o,a,r,c,f,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,r=t.Component},function(t){c=t.default},function(t){f=t.staffConfig},function(t){u=t.FastStaffView_template}],execute:function(){var l,p,h,w,V;o._RF.push({},"056d4LU4q1EXIi6F9DDVCAq","FastStaffView",void 0);var _=a.ccclass,m=a.property,y=[];t("FastStaffView",(l=_("FastStaffView"),p=m(c),l((V=i((w=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,n(i,"listView",V,s(i)),i.m_show_quick=-1,i}e(i,t);var o=i.prototype;return o.onEnable=function(){var t=f.getStaffsByQuickId(this.m_show_quick);this.listView.numItems=t.length,y=t,this.listView.scrollTo(-1,1e-4,0,!1)},o.onListVRender=function(t,i){t.getComponent(u).initCell(y[i])},o.setQuickBuy=function(t){this.m_show_quick=t},o.update=function(t){},i}(r)).prototype,"listView",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=w))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/FoodCarnivalConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./EventBuiltin.ts","./DataTableManager.ts","./ItemData.ts","./DataTable.ts","./EventUtility.ts","./GameTool.ts","./FoodConfig.ts","./ItemConfig.ts"],(function(n){"use strict";var t,o,a,e,i,s,r,u,c,f,l,g,m,C;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,a=n._decorator},function(n){e=n.configName,i=n.default},function(n){s=n.eventDispatcher},function(n){r=n.dataTableManager},function(n){u=n.ItemData},function(n){c=n.EDataTables},function(n){f=n.MEventNames},function(n){l=n.GameTool},function(n){g=n.foodConfig},function(n){m=n.EItemEnum,C=n.itemConfig}],execute:function(){var h;o._RF.push({},"cb921Co9IdCF6Nz2SiWYknj","FoodCarnivalConfig",void 0);a.ccclass,a.property;var v=e("FoodCarnivalConfig")(h=function(n){function o(){for(var t,o=arguments.length,a=new Array(o),e=0;e<o;e++)a[e]=arguments[e];return(t=n.call.apply(n,[this].concat(a))||this).lastRank=0,t.myRank=0,t}t(o,n);var a=o.prototype;return a.onInit=function(){this.lastRank||(this.lastRank=this.myRank=this.getConfig().MaxRank+1)},a.getConfig=function(){return r.getData(c.FoodCarnival,1)},a.refreshNew=function(){},a.eventComplete=function(n){var t=this.getConfig().MaxRank;this.lastRank=this.myRank,this.myRank=t-(g.getFoodScore()-n[0])/(n[1]-n[0])*t,this.myRank=Math.floor(this.myRank),this.myRank=l.mathBound(1,t,this.myRank)},a.getReward=function(n,t){var o=new u(m.money,n),a=this.getConfig();t&&(o.num*=a.SettingMul),C.addMoney(o.num,!0)},a.emitCensus=function(n){s.event(f.updateMoneryCensus,{count:n,source:"FoodCamival"})},o}(i))||h;n("foodCarnivalConfig",new v);o._RF.pop()}}}));

System.register("chunks:///_virtual/FoodCarnivalMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./EventBuiltin.ts","./DataTableManager.ts","./NoviceGuideMgr.ts","./DataTable.ts","./EventUtility.ts","./GameTool.ts","./FoodConfig.ts","./GameCensusConfig.ts","./StarConfig.ts","./FoodCarnivalConfig.ts"],(function(t){"use strict";var i,e,n,s,o,r,a,h,u,c,f,l,g,d,v,C;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy,s=t.director,o=t.macro},function(t){r=t.default},function(t){a=t.eventDispatcher},function(t){h=t.dataTableManager},function(t){u=t.NoviceGuideMgr},function(t){c=t.EDataTables},function(t){f=t.MEventNames},function(t){l=t.GameTool},function(t){g=t.foodConfig},function(t){d=t.gameCensusConfig},function(t){v=t.starConfig},function(t){C=t.foodCarnivalConfig}],execute:function(){n._RF.push({},"1ec0fi4KShAP72V71MioJEu","FoodCarnivalMgr",void 0);t("foodCarnivalMgr",new(function(t){function n(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this)._isFirst=!0,i._interval=0,i.duration=0,i.eventTime=0,i._success=!1,i._configCount=1,i.isWatch=!1,i.isCompeletStatus=!1,i.isPause=!1,i.rewardCount=0,i.range=[],i._speed=1,i.configID=0,i._config=null,i}i(n,t);var r=n.prototype;return r.onInit=function(){this._configCount=h.getDataTableArray(c.FoodCarnival).length,this.mySchedule&&(this.mySchedule(),this.mySchedule=null),this._isFirst&&this.refreshNew()},r.mySchedule=function(){var t=s.getScheduler();t.schedule(this.update.bind(this),t,.5,o.REPEAT_FOREVER,0,!1)},r.refreshNew=function(){this.isWatch=!1,this.isCompeletStatus=!1,this.configID=this.configID%this._configCount+1,this.duration=0,this.eventTime=0,this._interval=this._success?this.config.SuccedCD:this.config.FailCD,this._isFirst&&(this._isFirst=!1),a.event(f.foodCarnivalRefresh)},r.eventShow=function(){var t=this.config;if(this.duration=t.Duration,1==this.configID){var i=g.getFoodScore(),e=l.splitNumberArray(t.MinRange),n=l.splitNumberArray(t.MaxRange);this.range[0]=Math.floor(l.getRandom(e[0],e[1])*i),this.range[1]=Math.floor(l.getRandom(n[0],n[1])*i),this.rewardCount=Math.floor(t.AwardParam*d.goldValue*v.getCurStarDic().Multiple)}a.event(f.foodCarnivalRefresh)},r.durationOver=function(){this._success=!1,this.refreshNew()},r.eventStart=function(t){if(this.duration&&!t&&g.getFoodScore()<this.range[0])return!1;var i=this.config;return i.Continued>0&&(this.duration=0,this.eventTime=i.Continued,this.isWatch=t,a.event(f.foodCarnivalRefresh)),!0},r.getRewardPercent=function(){var t=.7*(g.getFoodScore()-this.range[0])/(this.range[1]-this.range[0]);t=l.mathBound(0,.7,t),t+=.3;var i=this.config.VipMul;if(this.isWatch)return i;var e=l.splitNumberArray(this.config.NormalMul);return i=l.getRandom(e[0],e[1])*t},r.eventComplete=function(){switch(this._success=!0,this.isCompeletStatus=!0,this.configID){case 1:this.rewardCount*=this.getRewardPercent(),this.rewardCount=Math.floor(this.rewardCount),C.eventComplete(this.range)}},r.getReward=function(t){var i=!0;switch(this.configID){case 1:C.getReward(this.rewardCount,t);break;case 2:break;default:i=!1}i&&(a.event(f.foodCarnivalOver),this._success=!0,this.refreshNew())},r.update=function(t){if(void 0===t&&(t=0),u.instance.isDone()){if(t*=this._speed,this.eventTime>0)return this.eventTime-=t,void(this.eventTime<=0&&(this.eventTime=0,this.eventComplete()));this.isPause||(this._interval>0?(this._interval-=t,this._interval<=0&&(this._interval=0,this.eventShow())):this.duration>0&&(this.duration-=t,this.duration<=0&&(this.duration=0,this.durationOver())))}},e(n,[{key:"config",get:function(){return this._config&&this._config.ID==this.configID||(this._config=h.getData(c.FoodCarnival,this.configID)),this._config}}]),n}(r)));n._RF.pop()}}}));

System.register("chunks:///_virtual/FoodCarnivalRewardView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./FoodCarnivalConfig.ts","./FoodCarnivalMgr.ts","./GoogleAdMob.ts"],(function(t){"use strict";var e,i,n,a,r,l,o,s,u,c,b,g,f,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,o=t.Node,s=t.Label},function(t){u=t.LocalizationHelper},function(t){c=t.uiManager},function(t){b=t.UIView},function(t){g=t.foodCarnivalConfig},function(t){f=t.foodCarnivalMgr},function(t){w=t.googleAdMober}],execute:function(){var p,_,h,d,R,v,k,y,C,z,m,F,M,V,G;r._RF.push({},"01343fQ/pZF8qOUk6nYKX+1","FoodCarnivalRewardView",void 0);var L=l.ccclass,S=l.property;t("FoodCarnivalRewardView",(p=L("FoodCarnivalRewardView"),_=S(o),h=S(o),d=S(s),R=S(s),v=S(s),k=S(s),p((z=e((C=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,n(e,"result_bg1",z,a(e)),n(e,"result_bg2",m,a(e)),n(e,"curRank_lab",F,a(e)),n(e,"lastRank_lab",M,a(e)),n(e,"reward_lab",V,a(e)),n(e,"watch_lab",G,a(e)),e._isGet=!1,e}i(e,t);var r=e.prototype;return r.onClose=function(){f.isPause=!1},r.onOpen=function(){this._isGet=!1,this.reward_lab.string=""+f.rewardCount;var t=g.getConfig().MaxRank;this.curRank_lab.string=""+g.myRank,this.lastRank_lab.string=""+g.lastRank,this.result_bg1.active=!1,this.result_bg2.active=!1,g.lastRank<t?(g.myRank,g.lastRank,this.result_bg1.active=!0):(this.result_bg1.active=!0,this.lastRank_lab.string="--"),this.watch_lab.string=u.getString("71_6")+"x"+f.config.SettingMul},r.watchSuccess=function(){f.getReward(!0),this._isGet=!0,c.closeView(this)},r.clickClose=function(){this._isGet||(this._isGet=!0,f.getReward(!1)),c.closeView(this)},r.clickWatch=function(){var t=this;w.showRewardedAd((function(e){t.watchSuccess()}))},e}(b)).prototype,"result_bg1",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(C.prototype,"result_bg2",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(C.prototype,"curRank_lab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(C.prototype,"lastRank_lab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(C.prototype,"reward_lab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(C.prototype,"watch_lab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/FoodCarnivalView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./UIView.ts","./FoodConfig.ts","./FoodCarnivalConfig.ts","./FoodCarnivalMgr.ts","./GoogleAdMob.ts","./GameTool.ts","./UIConfig.ts"],(function(e){"use strict";var t,i,n,r,o,a,l,u,c,f,b,s,p,g,h,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label,u=e.Node},function(e){c=e.uiManager},function(e){f=e.UIView},function(e){b=e.foodConfig},function(e){s=e.foodCarnivalConfig},function(e){p=e.foodCarnivalMgr},function(e){g=e.googleAdMober},function(e){h=e.GameTool},function(e){_=e.MUIConfig}],execute:function(){var m,w,d,v,y,C,F,I,z,V,M,U,S,L,T,A,k,D,R,G,N,P,B,O,j,x,H;o._RF.push({},"6bf31obOf5LJrkByF1lQFuA","FoodCarnivalView",void 0);var J=a.ccclass,Q=a.property;e("FoodCarnivalView",(m=J("FoodCarnivalView"),w=Q(l),d=Q(l),v=Q(l),y=Q(l),C=Q(l),F=Q(l),I=Q(u),z=Q(u),V=Q(u),M=Q(u),U=Q(u),S=Q(l),m((A=t((T=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"condition_lab",A,r(t)),n(t,"property_lab",k,r(t)),n(t,"gold_Lab",D,r(t)),n(t,"watch_lab",R,r(t)),n(t,"free_lab1",G,r(t)),n(t,"free_lab2",N,r(t)),n(t,"button_par",P,r(t)),n(t,"watch_button",B,r(t)),n(t,"free_button1",O,r(t)),n(t,"free_button2",j,r(t)),n(t,"timeItem",x,r(t)),n(t,"time_lab",H,r(t)),t}i(t,e);var o=t.prototype;return o.onClose=function(){p.isPause=!1},o.onDestroy=function(){},o.onInit=function(){var e=s.getConfig(),t=h.splitNumberArray(e.NormalMul+"","_");this.free_lab1.string=this.free_lab2.string=100*t[0]+"%-"+100*t[1]+"%",this.watch_lab.string=100*e.VipMul+"%"},o.onOpen=function(){this.condition_lab.string=p.range[0]+"~"+p.range[1],this.property_lab.string=""+b.getFoodScore(),this.gold_Lab.string=""+p.rewardCount;var e=b.getFoodScore()>=p.range[0];this.free_button1.active=e,this.free_button2.active=!e,this.refreshUI()},o.refreshUI=function(){p.eventTime>0?(this.timeItem.active=!0,this.button_par.active=!1):(this.timeItem.active=!1,this.button_par.active=!0)},o.watchSuccess=function(){p.eventStart(!0),this.refreshUI()},o.clickFree=function(){p.eventStart(!1),this.refreshUI()},o.clickWatch=function(){var e=this;g.showRewardedAd((function(){e.watchSuccess()}))},o.clickClose=function(){c.closeView(this)},o.update=function(){p.eventTime>0?this.time_lab.string=h.getFmtTime(p.eventTime):p.isCompeletStatus&&(c.openView(_.FoodCarnivalRewardView),c.closeView(this))},t}(f)).prototype,"condition_lab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(T.prototype,"property_lab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(T.prototype,"gold_Lab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(T.prototype,"watch_lab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(T.prototype,"free_lab1",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(T.prototype,"free_lab2",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(T.prototype,"button_par",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(T.prototype,"watch_button",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(T.prototype,"free_button1",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(T.prototype,"free_button2",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(T.prototype,"timeItem",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(T.prototype,"time_lab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=T))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/FoodConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./EventBuiltin.ts","./DataTableManager.ts","./NoviceGuideMgr.ts","./AreaTool.ts","./CustomerTable.ts","./DataTable.ts","./EventUtility.ts","./GameTool.ts","./BuffConfig.ts","./GoodReputationConfig.ts","./StarConfig.ts","./TaskConfig.ts"],(function(o){"use strict";var t,e,i,n,r,s,c,u,a,f,d,l,h,v,g,p,m,D,b,S;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,i=o._decorator},function(o){n=o.configName,r=o.default},function(o){s=o.eventDispatcher},function(o){c=o.dataTableManager},function(o){u=o.NoviceGuideMgr},function(o){a=o.AreaTool},function(o){f=o.CustomerTable},function(o){d=o.EDataTables},function(o){l=o.MEventNames},function(o){h=o.GameTool},function(o){v=o.buffConfig,g=o.EBuffType},function(o){p=o.goodReputationConfig,m=o.EGoodReputationEnum},function(o){D=o.starConfig},function(o){b=o.taskConfig,S=o.ETaskType}],execute:function(){var k;o("EFoodSortType",void 0),e._RF.push({},"ece02Td/EJFkqktQbwOY1e9","FoodConfig",void 0);var I;i.ccclass,i.property;!function(o){o[o.LvDown=1]="LvDown",o[o.LvUp=2]="LvUp",o[o.SellDown=3]="SellDown",o[o.SellUp=4]="SellUp",o[o.PriceDown=5]="PriceDown",o[o.PriceUp=6]="PriceUp",o[o.ScoreDown=7]="ScoreDown",o[o.ScoreUp=8]="ScoreUp",o[o.ProfitDown=9]="ProfitDown",o[o.ProfitUp=10]="ProfitUp"}(I||(I=o("EFoodSortType",{})));var F=o("FoodConfig",n("foodConfig")(k=function(o){function e(){for(var t,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(t=o.call.apply(o,[this].concat(i))||this).foodConfigList={},t.menuSort=I.LvDown,t.foodTypeDic={},t.noHaveFood={},t.allPotArr=[],t.allMenuArr=[],t.foodScout=0,t.lockDic={},t}t(e,o);var i=e.prototype;return i.onInit=function(o){var t=this,e=this.foodConfigList;for(var i in this.foodConfigList={},e){var n=Number(i);this.foodConfigList[n]=(new L).configInit(e[i]),this.foodScout+=this.foodConfigList[n].score}for(var r in this.foodConfigList)this.foodAddTypeArr(Number(r));var s=c.getDataTable(d.Food);for(var u in s){var a=s[u];if(1==a.Limit){var f=a.Id;1==a.Sub_Id?this.allPotArr.push(f):this.allMenuArr.push(f),this.foodConfigList[f]||(this.noHaveFood[f]=1)}}c.getData(d.Constant,18).Value.split("|").forEach((function(o){var e=h.splitNumberArray(o);t.lockDic[e[0]]||(t.lockDic[e[0]]={}),t.lockDic[e[0]][e[1]]=e[2]}))},i.toJSON=function(){return{foodConfigList:this.foodConfigList}},i.foodAddTypeArr=function(o){var t=this.getFoodDic(o),e=t.Type_Id;1==t.Sub_Id?e=0:3==t.Sub_Id&&(e=6),this.foodTypeDic[e]||(this.foodTypeDic[e]={}),this.foodTypeDic[e][o]=1},i.addNewFood=function(o,t){if(void 0===t&&(t=!0),this.foodConfigList[o])return!1;if(this.foodConfigList[o]=(new L).newFoodInit(o),this.foodScout+=this.foodConfigList[o].score,this.foodAddTypeArr(o),delete this.noHaveFood[o],this.unlockNum()>=20&&p.canReputate(m.food20),t){var e={index:2,score:this.foodConfigList[o].score};D.checkStarIsUp(e,!1)}return s.event(l.HomeRefreshScore,3),!0},i.unlockNum=function(){return Object.keys(this.foodConfigList).length},i.servePot=function(o){for(var t=Object.keys(this.foodTypeDic[0]),e=[],i=0;i<o.length;i++){var n=Number(h.getOneRandomElementInArray(t));this.foodConfigList[n].sellNum++,e.push(n)}return e},i.serveFood=function(o,t){for(var e={},i=0;i<o.length;i++)for(var n=f.getData(o[i]+""),r=Object.keys(n.dishes),s=0;s<r.length;s++){var u=r[s];e[u]||(e[u]=0),e[u]+=h.getRandomInt(n.dishes[u][0],n.dishes[u][1])}var a={},l=c.getData(d.Constant,17).Value;for(var v in e){var g=Number(v),p=e[v];if(this.foodTypeDic[g])for(var m=Object.keys(this.foodTypeDic[g]),D=0;D<p;D++){for(var b=m.length-1;b>=0;b--){var S=Number(m[b]);a[S]&&a[S]>=l&&m.splice(b,1)}if(!(m.length>0))break;var k=Number(h.getOneRandomElementInArray(m));this.foodConfigList[k].sellNum++,t[k]||(t[k]=0),t[k]++,a[k]||(a[k]=0),a[k]++}}return t},i.randomGetPot=function(o){void 0===o&&(o=11);for(var t=[],e=0;e<o;e++){var i=h.getOneRandomElementInArray(this.allPotArr);t.push([i,this.addNewFood(i)])}return t},i.randomGetFood=function(o){void 0===o&&(o=11);for(var t=[],e=0;e<o;e++){var i=h.getOneRandomElementInArray(this.allMenuArr);t.push([i,this.addNewFood(i)])}return t},i.getFoodScore=function(){return y.foodScout},i.checkAllUnlock=function(){return Object.keys(this.noHaveFood).length<=0},i.randomGetUnlockFood=function(){var o=Object.keys(this.noHaveFood),t=Number(h.getOneRandomElementInArray(o));return this.addNewFood(t),[t,!0]},i.getMenuShowArr=function(o,t){var e=[];for(var i in this.foodConfigList){var n=this.foodConfigList[i],r=this.getFoodDic(n.Id);r.Sub_Id==o&&(0!=t&&r.Type_Id!=t||e.push(n))}this.sortFood(e);var s=c.getDataTable(d.Food);for(var u in s){var a=s[u];this.foodConfigList[a.Id]||a.Sub_Id==o&&(0!=t&&a.Type_Id!=t||e.push((new L).newFoodInit(a.Id)))}return e},i.foodIsUnLock=function(o,t){if(this.lockDic[o]&&this.lockDic[o][t]&&!a.instance.getUnlockSubId(this.lockDic[o][t]))return this.lockDic[o][t];return 0},i.sortFood=function(o){switch(this.menuSort){case I.LvDown:o.sort((function(o,t){return t.curLv-o.curLv}));break;case I.LvUp:o.sort((function(o,t){return o.curLv-t.curLv}));break;case I.SellDown:o.sort((function(o,t){return t.sellNum-o.sellNum}));break;case I.SellUp:o.sort((function(o,t){return o.sellNum-t.sellNum}));break;case I.PriceDown:o.sort((function(o,t){return t.price-o.price}));break;case I.PriceUp:o.sort((function(o,t){return o.price-t.price}));break;case I.ScoreDown:o.sort((function(o,t){return t.score-o.score}));break;case I.ScoreUp:o.sort((function(o,t){return o.score-t.score}));break;case I.ProfitDown:o.sort((function(o,t){return t.profit-o.profit}));break;case I.ProfitUp:o.sort((function(o,t){return o.profit-t.profit}))}},i.unlockAllFood=function(){var o=c.getDataTable(d.Food);for(var t in o)this.addNewFood(o[t].Id)},i.getFoodDic=function(o){return c.getData(d.Food,o)},i.getUIIcon=function(o){return"Res/Texture/UI/Food/UI_Icon_"+this.getFoodDic(o).Icon},i.getSceneIcon=function(o){return"Res/Texture/Scene/Scene_"+this.getFoodDic(o).Icon},e}(r))||k),y=o("foodConfig",new F),L=o("CFood",function(){function o(){this.Id=void 0,this.curLv=void 0,this.sellNum=void 0,this.score=void 0,this.price=void 0,this.profit=void 0}var t=o.prototype;return t.configInit=function(o){return this.Id=o[0],this.curLv=o[1],this.sellNum=o[2],this.getDicValue(),this},t.newFoodInit=function(o){return this.Id=o,this.curLv=1,this.sellNum=0,this.getDicValue(),this},t.toJSON=function(){return[this.Id,this.curLv,this.sellNum]},t.getDicValue=function(){var o=this.curLv;o>5&&(o=5);var t=y.getFoodDic(this.Id);this.price=h.splitNumberArray(t.Sale)[o-1],this.profit=this.price-t.Buy,this.score=h.splitNumberArray(t.Score)[o-1]},t.upGrade=function(){this.curLv++;var o=this.score;this.getDicValue();var t=this.score-o;y.foodScout+=t,this.curLv>=5&&p.canReputate(m.foodStar5);var e={index:2,score:t};D.checkStarIsUp(e),s.event(l.HomeRefreshScore,3),b.addTaskPro(S.UpGradeMeal)},t.getFoodMaskTime=function(){var o=y.getFoodDic(this.Id),t=h.splitNumberArray(o.OutTime)[this.curLv-1];switch(o.Sub_Id){case 1:t*=1-v.getBuffNum(g.MakePotTimeSub);break;case 2:4==o.Type_Id?t*=1-v.getBuffNum(g.MakeSnackTimeSub):t*=1-v.getBuffNum(g.MaskFoodTimeSub)}return u.instance.isDone()||(t=1),t},o}());e._RF.pop()}}}));

System.register("chunks:///_virtual/FoodEnumConfig.ts",["cc"],(function(o){"use strict";var t;return{setters:[function(o){t=o.cclegacy}],execute:function(){var e,n,i,c;o({ECookRect:void 0,ECookState:void 0,EKitchenConstructName:void 0,ESceneFoodType:void 0}),t._RF.push({},"22a07/WBRpI8bKlXAZ+GcjW","FoodEnumConfig",void 0),function(o){o.PLATHE="plathe",o.POT="pot",o.Dish="dish",o.POTTIPS="potTips",o.DISHTIPS="dishTips",o.CUT="cut",o.STREET="food",o.DRINK="wine"}(e||(e=o("ECookRect",{}))),function(o){o[o.COOKING=1]="COOKING",o[o.COOKEND=2]="COOKEND",o[o.COOKNULL=3]="COOKNULL",o[o.RECEIVE=4]="RECEIVE"}(n||(n=o("ECookState",{}))),function(o){o.bowl="bowl",o.seat="seat"}(i||(i=o("ESceneFoodType",{}))),function(o){o.CookingBenc="SideTable",o.Wash="Wash"}(c||(c=o("EKitchenConstructName",{})));o("ELocalConstruct",{STREET:{Name:"fire",Id:503,ECook:e.STREET},DRINK:{Name:"wine",Id:203,ECook:e.DRINK}});t._RF.pop()}}}));

System.register("chunks:///_virtual/FoodIconPrefab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationHelper.ts","./FoodConfig.ts","./GameUtility.ts","./ResourceTool.ts"],(function(e){"use strict";var o,t,n,i,r,a,c,s,l,u,f,p,d;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.Sprite,s=e.Label,l=e.Component},function(e){u=e.LocalizationHelper},function(e){f=e.foodConfig},function(e){p=e.EGameBundles},function(e){d=e.ResourceTool}],execute:function(){var h,b,g,I,y,m,F;r._RF.push({},"88cf5FljS1BCplEf13e5pFj","FoodIconPrefab",void 0);var L=a.ccclass,v=a.property;e("FoodIconPrefab",(h=L("FoodIconPrefab"),b=v(c),g=v(s),h((m=o((y=function(e){function o(){for(var o,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o=e.call.apply(e,[this].concat(r))||this,n(o,"iconSprite",m,i(o)),n(o,"nameLab",F,i(o)),o.foodId=0,o}t(o,e);var r=o.prototype;return r.setData=function(e){this.foodId=e,this.refreshUI()},r.refreshUI=function(){var e=f.getFoodDic(this.foodId);d.setSpriteFrame(p.LoadOnPlay,f.getUIIcon(this.foodId),this.iconSprite,this.node),this.nameLab.string=u.getString(e.Name)},o}(l)).prototype,"iconSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=o(y.prototype,"nameLab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=y))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/FoodillustrationInfoView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./FoodConfig.ts","./DataTable.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts","./UIConfig.ts"],(function(e){"use strict";var i,t,n,o,a,r,l,u,c,s,f,p,d,g,b,y,I,m,h;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,u=e.Label},function(e){c=e.dataTableManager},function(e){s=e.LocalizationHelper},function(e){f=e.uiManager},function(e){p=e.UIView},function(e){d=e.foodConfig},function(e){g=e.EDataTables},function(e){b=e.EGameBundles},function(e){y=e.AudioTool,I=e.ESoundType},function(e){m=e.ResourceTool},function(e){h=e.MUIConfig}],execute:function(){var w,D,L,F,v,T,_,V,z,M,R;a._RF.push({},"5a8913k7D5ElaimIySG8ADx","FoodillustrationInfoView",void 0);var U=r.ccclass,k=r.property;e("FoodillustrationInfoView",(w=U("FoodillustrationInfoView"),D=k(l),L=k(u),F=k(u),v=k(l),w((V=i((_=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return i=e.call.apply(e,[this].concat(a))||this,n(i,"icon",V,o(i)),n(i,"nameLabel",z,o(i)),n(i,"desLabel",M,o(i)),n(i,"menuButton",R,o(i)),i._foodID=0,i}t(i,e);var a=i.prototype;return a.onOpen=function(e){y.play(I.ui_open),this._foodID=e;var i=d.getFoodDic(e);this.nameLabel.string=s.getString(i.Name),this.desLabel.string=s.getString(i.Info),m.setNodeSpriteFrame(b.LoadOnPlay,d.getUIIcon(e),this.icon,this);var t=c.getData(g.FoodRecipes,e);this.menuButton.active=t&&!!t.RawMaterial},a.clickClose=function(){y.play(I.ui_click),f.closeView(this)},a.clickMenu=function(){y.play(I.ui_click),f.openView(h.FoodRecipesView,null,this._foodID)},i}(p)).prototype,"icon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(_.prototype,"nameLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(_.prototype,"desLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(_.prototype,"menuButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=_))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/FoodillustrationItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationHelper.ts","./UIManager.ts","./FoodConfig.ts","./GameUtility.ts","./ResourceTool.ts","./UIConfig.ts"],(function(e){"use strict";var t,i,n,o,r,s,a,c,l,u,h,m,d,f,p,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Node,c=e.Label,l=e.Sprite,u=e.Component},function(e){h=e.LocalizationHelper},function(e){m=e.uiManager},function(e){d=e.foodConfig},function(e){f=e.EGameBundles},function(e){p=e.ResourceTool},function(e){g=e.MUIConfig}],execute:function(){var I,v,_,b,y,D,F,L,U;r._RF.push({},"db5e5YnM+5IiJycJF6Y0BE/","FoodillustrationItem",void 0);var C=s.ccclass,N=s.property;e("FoodillustrationItem",(I=C("FoodillustrationItem"),v=N(a),_=N(a),b=N(c),I((F=t((D=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"featureIcon",F,o(t)),n(t,"icon",L,o(t)),n(t,"nameLabel",U,o(t)),t.m_ID=0,t.m_Unlock=!1,t.m_AssetKeeper=null,t}i(t,e);var r=t.prototype;return r.onDestory=function(){this.m_AssetKeeper=null},r.init=function(e){this.node.active=!0,this.m_AssetKeeper=e},r.setData=function(e,t){var i=e>0&&!!d.foodConfigList[e];this.m_ID=e,this.m_Unlock=i,this.refreshUI(t)},r.refreshUI=function(e){if(void 0===e&&(e=0),this.m_ID>0){var t=d.getFoodDic(this.m_ID);this.node.active=!0,this.node.children[0].active=!1,this.node.children[1].active=!1,this.m_Unlock?(this.node.children[1].active=!0,this.nameLabel.string=h.getString(t.Name),e?this.icon.getComponent(l).spriteFrame=null:p.setNodeSpriteFrame(f.LoadOnPlay,d.getUIIcon(this.m_ID),this.icon,this.m_AssetKeeper),this.nameLabel.string=h.getString(t.Name)):this.node.children[0].active=!0,this.featureIcon.active=this.icon.active&&t.Rare>0}else this.node.active=!1},r.refreshName=function(){if(this.m_ID>0){var e=d.getFoodDic(this.m_ID);this.node.active=!0,this.node.children[0].active=!1,this.node.children[1].active=!1,this.m_Unlock?(this.node.children[1].active=!0,this.nameLabel.string=h.getString(e.Name),p.setNodeSpriteFrame(f.LoadOnPlay,d.getUIIcon(this.m_ID),this.icon,this.m_AssetKeeper),this.nameLabel.string=h.getString(e.Name)):this.node.children[0].active=!0}else this.node.active=!1},r.c_Click=function(){this.m_Unlock&&m.openView(g.FoodillustrationInfoView,null,this.m_ID)},t}(u)).prototype,"featureIcon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(D.prototype,"icon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(D.prototype,"nameLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=D))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/FoodillustrationPageNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,r,n,a,o,s,h,l,u,c,m,d,g,p,f,_,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,s=e._decorator,h=e.Camera,l=e.view,u=e.RenderTexture,c=e.color,m=e.Tween,d=e.tween,g=e.UITransform,p=e.Texture2D,f=e.ImageAsset,_=e.MeshRenderer,v=e.Component}],execute:function(){var C,T,x,y,P;o._RF.push({},"2f9c2ciPcRH0r1MdLPeXF2g","FoodillustrationPageNode",void 0);var w=s.ccclass,M=s.property;e("FoodillustrationPageNode",(C=w("FoodillustrationPageNode"),T=M(h),C((P=t((y=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"mCamera",P,n(t)),t.m_RenderTexture=null,t._buffer=null,t._Img=null,t._tex2d=null,t._mmaterial=null,t.canTurn=!0,t}i(t,e);var o=t.prototype;return o.onLoad=function(){},o.onEnable=function(){},o.initCamera=function(){var e=l.getVisibleSize(),t=this.m_RenderTexture=new u;t.reset({width:e.width,height:e.height}),this.mCamera.clearColor=c(0,0,0,0),this.mCamera.projection=h.ProjectionType.ORTHO,this.mCamera.orthoHeight=.5*e.height,this.mCamera.near=0,this.mCamera.targetTexture=t,this.mCamera.node.active=!1},o.startPage=function(e,t,i){var r=this;if(void 0===e&&(e=!1),0!=this.canTurn){this.mCamera.node.active=!0,this.canTurn=!1;var n=e?1:120;this.m_Material.setProperty("angle",n),this.scheduleOnce((function(){r.screenshot(),r.pageTurn(e,t,i)}),.1)}},o.pageTurn=function(e,t,i){var r=this;void 0===e&&(e=!1),m.stopAllByTarget(this.node.position),t&&t(),d(this.node.position).to(e?1:.6,{z:0},{onUpdate:function(t,i){r.m_Material.setProperty("angle",Math.round(e?150*Math.sin(i*Math.PI/2):120*(1-i)))}}).call((function(){i&&i(),r.canTurn=!0,r.node.active=!1,r.mCamera.node.active=!1,r.m_RenderTexture})).start()},o.screenshot=function(e){var t=this.node.parent.getChildByName("pageContent"),i=t.getComponent(g).width,r=t.getComponent(g).height,n=t.getWorldPosition();this._buffer=this.m_RenderTexture.readPixels(Math.round(n.x-i/2),Math.round(n.y-r/2),i,r),this._tex2d||(this._tex2d=new p),this._Img||(this._Img=new f),this._Img.reset({_data:this._buffer,width:i,height:r,format:p.PixelFormat.RGBA8888,_compressed:!1}),this._tex2d.image=this._Img,this.m_Material.setProperty("mainTex",this._tex2d),this.node.active=!0,this.scheduleOnce((function(){}))},a(t,[{key:"m_Material",get:function(){return this._mmaterial||(this._mmaterial=this.getComponent(_).material),this._mmaterial}}]),t}(v)).prototype,"mCamera",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=y))||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/FoodillustrationView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./List.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./FoodConfig.ts","./DataTable.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts","./FoodillustrationItem.ts","./FoodillustrationPageNode.ts","./PagePointComponent.ts"],(function(t){"use strict";var e,i,o,n,a,r,s,u,l,h,c,m,d,p,f,g,y,_,b,I,T,N,v,C,L,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,u=t.Layout,l=t.Label,h=t.Sprite,c=t.Vec2},function(t){m=t.default},function(t){d=t.dataTableManager},function(t){p=t.LocalizationHelper},function(t){f=t.uiManager},function(t){g=t.UIView},function(t){y=t.default},function(t){_=t.foodConfig},function(t){b=t.EDataTables},function(t){I=t.EGameBundles},function(t){T=t.AudioTool,N=t.ESoundType},function(t){v=t.ResourceTool},function(t){C=t.FoodillustrationItem},function(t){L=t.FoodillustrationPageNode},function(t){A=t.PagePointComponent}],execute:function(){var D,P,E,F,S,M,w,U,V,z,x,O,R,k,H,B,G,K,j,q,J,Q,W,X,Y,Z,$;a._RF.push({},"3cf5dK5T/pOha3nl0sjO8St","FoodillustrationView",void 0);var tt=r.ccclass,et=r.property;t("FoodillustrationView",(D=tt("FoodillustrationView"),P=et(s),E=et(u),F=et(s),S=et(l),M=et(l),w=et(s),U=et(l),V=et(h),z=et(m),x=et(A),O=et(L),R=et(s),D((B=e((H=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"foodItem",B,n(e)),o(e,"itemLayout",G,n(e)),o(e,"typeName",K,n(e)),o(e,"foodNumLab",j,n(e)),o(e,"foodAllNumLab",q,n(e)),o(e,"typeIcon",J,n(e)),o(e,"typeLab",Q,n(e)),o(e,"foodNumProgress",W,n(e)),o(e,"pageList",X,n(e)),o(e,"pagePointCom",Y,n(e)),o(e,"pageNode",Z,n(e)),o(e,"tempContent",$,n(e)),e.m_GridNum=6,e.m_SelectID=-1,e.m_PageID=0,e.m_FoodItemArray=[],e.m_IDMap=new Map,e.m_MapKeyArray=[],e.m_UnlockNumArray={},e._subIdArray=[2],e.m_TouchStartV2=new c,e.m_TouchEndV2=new c,e._typeNameArray=[],e}i(e,t);var a=e.prototype;return a.onEnable=function(){var t=this.node.getChildByName("content");t.on(s.EventType.TOUCH_START,this.touchStart,this),t.on(s.EventType.TOUCH_END,this.touchEnd,this),t.on(s.EventType.TOUCH_CANCEL,this.touchEnd,this)},a.onDisable=function(){var t=this.node.getChildByName("content");t.off(s.EventType.TOUCH_START,this.touchStart),t.off(s.EventType.TOUCH_END,this.touchEnd,this),t.off(s.EventType.TOUCH_CANCEL,this.touchEnd,this)},a.onDestory=function(){this.m_FoodItemArray=null,this.m_IDMap=null},a.onInit=function(){var t=this;this.foodItem.active=!1;for(var e=0;e<this.m_GridNum;e++){var i=y.instantiate(this.foodItem);this.itemLayout.node.addChild(i),this.m_FoodItemArray[e]=i.getComponent(C),this.m_FoodItemArray[e].init(this)}var o=d.getDataTable(b.Food),n="";for(var a in o){var r=o[a];n=-1==this._subIdArray.indexOf(r.Sub_Id)?r.Sub_Id+"":r.Sub_Id+"_"+r.Type_Id,this.m_IDMap.get(n)||(this._typeNameArray.push(this._typeNameArray.length+1+""),this.m_IDMap.set(n,[])),this.m_IDMap.get(n).push(r.Id)}this.pageList.numItems=this._typeNameArray.length,this.pageList.selectedId=this.m_SelectID,this.m_IDMap.forEach((function(e,i){t.m_MapKeyArray.push(i)})),this.m_MapKeyArray.sort(),this.pageNode.initCamera()},a.onOpen=function(){T.play(N.ui_open),this.m_UnlockNumArray={},-1==this.m_SelectID&&(this.pageList.selectedId=0),this.refreshCollectNum(),this.refreshFood(),this.refreshTop(),this.pageNode.node.active=!1},a.onListVRender=function(t,e){var i=this;t.children.forEach((function(t,o){v.setNodeSpriteFrame(I.LoadOnPlay,"Res/Texture/UI/Foodillustration/"+(0==o?"T_UI_Book_sort_0":"food_type_")+(e+1),t.children[0],i)}))},a.onListSelected=function(t,e,i,o){t&&(t.children[0].active=!1,this.pageList.content.children[i]&&(this.pageList.content.children[i].children[0].active=!0),e!=this.m_SelectID&&(T.play(N.ui_nextpage),this.m_SelectID=e,this.changeType()))},a.changeType=function(){this.m_PageID=0,this.pagePointCom.setLength(this.getMaxPage()),this.changePage(),v.setNodeSpriteFrame(I.LoadOnPlay,"Res/Texture/UI/Foodillustration/food_type_"+(this.m_SelectID+1),this.typeIcon,this),this.typeLab.string=p.getString("36_"+(this.m_SelectID+2)),this.refreshTop()},a.refreshTop=function(){var t=this.m_UnlockNumArray[this.m_MapKeyArray[this.m_SelectID]]||0,e=this.getTypeFoodArray().length||1;this.foodNumLab.string=t+"",this.foodAllNumLab.string="/"+e,this.foodNumProgress.fillRange=t/e},a.getMaxPage=function(){return Math.ceil(this.getTypeFoodArray().length/this.m_GridNum)},a.changePage=function(t){var e=this;if(void 0===t&&(t=0),!this.tempContent.active&&this.pageNode.canTurn){t&&(this.m_PageID=(this.getMaxPage()+this.m_PageID+t)%this.getMaxPage());var i=!1,o=t>0;0!=t&&(i=!0),i?o?this.pageNode.startPage(o,(function(){e.refreshFood()})):(this.tempContent.active=!0,this.tempContent.addChild(y.instantiate(this.node.getChildByName("content").getChildByName("pageContent"))),this.tempContent.children[0].children[0].active=!1,y.setLayer(this.node.layer,this.tempContent.children[0]),this.refreshFood(1),this.pageNode.startPage(o,null,(function(){e.tempContent.active=!1,y.remove(e.tempContent.children[0],!0),e.refreshFood()}))):this.refreshFood()}},a.getTypeFoodArray=function(t){return void 0===t&&(t=-1),-1==t&&(t=this.m_SelectID),this.m_IDMap.get(this.m_MapKeyArray[t])||[]},a.refreshFood=function(t){var e=this;void 0===t&&(t=0);var i=this.getTypeFoodArray();this.m_FoodItemArray.forEach((function(o,n){o.setData(i[e.m_PageID*e.m_GridNum+n]||0,t)})),this.pagePointCom.setIdx(this.m_PageID)},a.refreshCollectNum=function(){var t=this;this.m_IDMap.forEach((function(e,i){t.m_UnlockNumArray[i]=0,e.forEach((function(e){_.foodConfigList[e]&&t.m_UnlockNumArray[i]++}))}))},a.touchStart=function(t){t.getUILocation(this.m_TouchStartV2)},a.touchEnd=function(t){t.getUILocation(this.m_TouchEndV2),this.m_TouchEndV2.subtract(this.m_TouchStartV2),Math.abs(this.m_TouchEndV2.y/this.m_TouchEndV2.x)<.5&&this.m_TouchEndV2.length()>20&&this.changePage(this.m_TouchEndV2.x>0?-1:1)},a.clickClose=function(){T.play(N.ui_click),f.closeView(this)},e}(g)).prototype,"foodItem",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(H.prototype,"itemLayout",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(H.prototype,"typeName",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=e(H.prototype,"foodNumLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(H.prototype,"foodAllNumLab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(H.prototype,"typeIcon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(H.prototype,"typeLab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(H.prototype,"foodNumProgress",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(H.prototype,"pageList",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(H.prototype,"pagePointCom",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(H.prototype,"pageNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(H.prototype,"tempContent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=H))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/FoodInfoView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./FoodConfig.ts","./ItemConfig.ts","./StarConfig.ts","./EventUtility.ts","./GameUtility.ts","./AudioTool.ts","./GameTool.ts","./ResourceTool.ts","./UITool.ts","./UIConfig.ts"],(function(e){"use strict";var i,t,r,o,n,a,l,c,u,s,b,p,f,d,g,m,L,h,y,v,N,w,I,z,P,S,A;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Sprite,c=e.Node,u=e.Label,s=e.color,b=e.LabelOutline},function(e){p=e.eventDispatcher},function(e){f=e.LocalizationHelper},function(e){d=e.uiManager},function(e){g=e.UIView},function(e){m=e.foodConfig},function(e){L=e.itemConfig,h=e.EItemEnum},function(e){y=e.starConfig},function(e){v=e.MEventNames},function(e){N=e.EGameBundles},function(e){w=e.AudioTool,I=e.ESoundType},function(e){z=e.GameTool},function(e){P=e.ResourceTool},function(e){S=e.UITool},function(e){A=e.MUIConfig}],execute:function(){var C,U,x,_,V,F,T,B,E,G,D,H,R,k,M,O,J,j,q,K,W,X,Q,Y,Z,$,ee,ie,te,re,oe,ne,ae,le,ce,ue,se,be,pe,fe,de,ge,me;n._RF.push({},"a72f6pKLqhJrJhtP0WLJX3A","FoodInfoView",void 0);var Le=a.ccclass,he=a.property;e("FoodInfoView",(C=Le("FoodInfoView"),U=he(l),x=he(c),_=he(u),V=he(u),F=he(u),T=he(u),B=he(u),E=he(u),G=he([c]),D=he(c),H=he(u),R=he(u),k=he(u),M=he(c),O=he(u),J=he(u),j=he(c),q=he(u),K=he(u),W=he(u),C((Y=i((Q=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return i=e.call.apply(e,[this].concat(n))||this,r(i,"foodIcon",Y,o(i)),r(i,"iconBg",Z,o(i)),r(i,"nameLab",$,o(i)),r(i,"desLab",ee,o(i)),r(i,"costLab",ie,o(i)),r(i,"sellNumLab",te,o(i)),r(i,"priceLab",re,o(i)),r(i,"scoreLab",oe,o(i)),r(i,"starNodeArr",ne,o(i)),r(i,"nextNode",ae,o(i)),r(i,"nextPriceLab",le,o(i)),r(i,"nextScoreLab",ce,o(i)),r(i,"upgradePriceLab",ue,o(i)),r(i,"maxNode",se,o(i)),r(i,"smCostLab",be,o(i)),r(i,"smPriceLab",pe,o(i)),r(i,"advanceNode",fe,o(i)),r(i,"craftHaveLab",de,o(i)),r(i,"craftNeedLab",ge,o(i)),r(i,"upgradePriceLab2",me,o(i)),i.m_foodId=0,i}t(i,e);var n=i.prototype;return n.onOpen=function(e){w.play(I.ui_open),this.m_foodId=e,this.refreshUI(!0),p.on(v.FoodInfoRefresh,this,this.refreshUI)},n.onClose=function(){p.event(v.CloseGoldAdView),p.offAllCaller(this)},n.refreshUI=function(e){void 0===e&&(e=!1);var i=m.foodConfigList[this.m_foodId],t=m.getFoodDic(this.m_foodId);this.nameLab.string=f.getString(t.Name),this.desLab.string=f.getString(t.Info),this.costLab.string=t.Buy+"",this.sellNumLab.string=i.sellNum+"",this.priceLab.string=i.price+"",this.scoreLab.string=i.score+"";for(var r=0;r<this.starNodeArr.length;r++)i.curLv>r?this.starNodeArr[r].active=!0:this.starNodeArr[r].active=!1;P.setSpriteFrame(N.LoadOnPlay,m.getUIIcon(this.m_foodId),this.foodIcon,this);var o=0;if(this.nextNode.active=!1,this.maxNode.active=!1,this.advanceNode.active=!1,this.iconBg.active=!0,i.curLv>=5)this.maxNode.active=!0;else if(5==i.curLv)this.advanceNode.active=!0,this.craftHaveLab.string=L.getItemNum(h.cake)+"",this.craftNeedLab.string="10",this.upgradePriceLab2.string="5000",o=5e3,L.itemEnough(h.money,o)?this.upgradePriceLab2.color=s(255,255,255):this.upgradePriceLab2.color=s(252,125,125);else{this.nextNode.active=!0;var n=i.curLv+1;this.nextPriceLab.string=z.splitNumberArray(t.Sale)[n-1]+"",this.nextScoreLab.string=z.splitNumberArray(t.Score)[n-1]+"",o=z.splitNumberArray(t.GoldProficiency)[i.curLv-1],this.upgradePriceLab.string=o+"",L.itemEnough(h.money,o)?(this.upgradePriceLab.color=s(255,255,255),this.upgradePriceLab.getComponent(b).color=s(52,139,14)):(this.upgradePriceLab.color=s(252,125,125),this.upgradePriceLab.getComponent(b).color=s(122,29,20))}var a=z.splitNumberArray(t.StarUp)[i.curLv-1],l=y.getStar();e&&l>=a&&S.isOpenADGetGold(o)},n.clickUpgradeBtn=function(){w.play(I.ui_click);var e=m.foodConfigList[this.m_foodId],i=m.getFoodDic(this.m_foodId),t=z.splitNumberArray(i.GoldProficiency)[e.curLv-1],r=z.splitNumberArray(i.StarUp)[e.curLv-1];if(y.getStar()>=r)L.itemEnough(h.money,t)?(L.useItem(h.money,t),e.upGrade(),p.event(v.FoodInfoRefresh),this.refreshUI(!0)):S.instance.haveNoAD?d.openView(A.ShopDepotView):d.openView(A.TipView,null,{content:f.getString("1_17")});else{var o=y.getStarNameByStar(r);d.openView(A.TipView,null,{content:f.getString("23_38",[o])})}},n.clickCloseBtn=function(){d.closeView(this)},i}(g)).prototype,"foodIcon",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(Q.prototype,"iconBg",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=i(Q.prototype,"nameLab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=i(Q.prototype,"desLab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=i(Q.prototype,"costLab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=i(Q.prototype,"sellNumLab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=i(Q.prototype,"priceLab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=i(Q.prototype,"scoreLab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=i(Q.prototype,"starNodeArr",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=i(Q.prototype,"nextNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=i(Q.prototype,"nextPriceLab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=i(Q.prototype,"nextScoreLab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=i(Q.prototype,"upgradePriceLab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=i(Q.prototype,"maxNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=i(Q.prototype,"smCostLab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=i(Q.prototype,"smPriceLab",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=i(Q.prototype,"advanceNode",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=i(Q.prototype,"craftHaveLab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=i(Q.prototype,"craftNeedLab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=i(Q.prototype,"upgradePriceLab2",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=Q))||X));n._RF.pop()}}}));

System.register("chunks:///_virtual/FoodRecipesView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./DataTable.ts","./AudioTool.ts","./ViewButtonListPrefab.ts"],(function(e){"use strict";var t,i,n,a,o,r,l,c,u,s,p,f,h,d,b,m,v,w,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Label,c=e.Node,u=e.UIOpacity,s=e.ScrollView},function(e){p=e.dataTableManager},function(e){f=e.LocalizationHelper},function(e){h=e.uiManager},function(e){d=e.UIView},function(e){b=e.default},function(e){m=e.EDataTables},function(e){v=e.AudioTool,w=e.ESoundType},function(e){g=e.ViewButtonListPrefab}],execute:function(){var y,T,I,L,_,D,P,V,z,R,F,B,C;o._RF.push({},"db293OE8BhDSaR+ak81KNZp","FoodRecipesView",void 0);var M=r.ccclass,E=r.property;e("FoodRecipesView",(y=M("FoodRecipesView"),T=E(g),I=E(l),L=E(c),_=E(c),D=E(c),y((z=t((V=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"viewButtonList",z,a(t)),n(t,"nameLab",R,a(t)),n(t,"labItemTemplate1",F,a(t)),n(t,"labItemTemplate2",B,a(t)),n(t,"viewPar",C,a(t)),t._foodID=0,t.selectedID=0,t}i(t,e);var o=t.prototype;return o.onInit=function(){this.viewButtonList.setData(["36_12","36_13"]),this.labItemTemplate1.active=!1,this.labItemTemplate2.active=!1},o.onListTabSelected=function(e,t){var i=this;v.play(w.ui_nextpage),this.viewPar.children.forEach((function(e,i){i==t&&(e.active=!0),e.getComponent(u).opacity=i==t?255:0})),this.scheduleOnce((function(){i.viewPar.children.forEach((function(e,t){e.active=255==e.getComponent(u).opacity}))}),.2)},o.onOpen=function(e){v.play(w.ui_open);var t=p.getData(m.Food,e),i=p.getData(m.FoodRecipes,e);return t?i?(this.nameLab.string=f.getString(t.Name),this._view2(i.RawMaterial,this.viewPar.children[0],this.labItemTemplate1),this._view2(i.Practice,this.viewPar.children[1],this.labItemTemplate2),void this.viewPar.children.forEach((function(e){e.children[0].getComponent(s).scrollToTop(0)}))):-2:-1},o._view2=function(e,t,i){for(var n=t.children[0].getComponent(s).content,a=e.split("\n"),o=Math.max(n.children.length-1,a.length),r=0;r<o;r++){var c=n.children[r+1];r<a.length?(c||(c=b.instantiate(i),n.addChild(c)),c.active=!0):c.active=!1,c.active&&(c.children[0].getComponent(l).string=a[r])}},o.clickClose=function(){v.play(w.ui_click),h.closeView(this)},t}(d)).prototype,"viewButtonList",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(V.prototype,"nameLab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(V.prototype,"labItemTemplate1",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(V.prototype,"labItemTemplate2",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(V.prototype,"viewPar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=V))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/Fsm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReferencePool.ts"],(function(t){"use strict";var e,n,r;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){r=t.default}],execute:function(){n._RF.push({},"de5dapkTchHeaHChvLkchJP","Fsm",void 0);t("Fsm",function(){function t(){this.m_Owner=void 0,this.m_GlobalState=void 0,this.m_CurrentState=void 0,this.m_PreviousState=void 0,this.m_CurrentStateTime=void 0}t.get=function(e){var n=r.get(t);return n.init(e),n};var n=t.prototype;return n.resetStateTime=function(t){void 0===t&&(t=0),this.m_CurrentStateTime=t},n.setCurrentState=function(t,e){this.m_CurrentState=t,t.onEnter(this.m_Owner,e)},n.setGlobalState=function(t,e){this.m_GlobalState=t,t.onEnter(this.m_Owner,e)},n.changeState=function(t,e){this.m_PreviousState=this.m_CurrentState,this.m_CurrentState&&this.m_CurrentState.onExit(this.m_Owner),this.m_CurrentState=t,this.m_CurrentStateTime=0,t&&this.m_CurrentState.onEnter(this.m_Owner,e)},n.isInState=function(t){return this.m_CurrentState==t},n.init=function(t){this.m_Owner=t,this.m_GlobalState=this.m_CurrentState=this.m_PreviousState=null,this.m_CurrentStateTime=0},n.clear=function(){this.m_CurrentState&&this.m_CurrentState.onExit(this.m_Owner),this.m_Owner=this.m_GlobalState=this.m_CurrentState=this.m_PreviousState=null,this.m_CurrentStateTime=0},n.update=function(t){this.m_GlobalState&&this.m_GlobalState.onExecute(this.m_Owner,t),this.m_CurrentState&&(this.m_CurrentStateTime+=t,this.m_CurrentState.onExecute(this.m_Owner,t))},e(t,[{key:"currentStateTime",get:function(){return this.m_CurrentStateTime}},{key:"currentState",get:function(){return this.m_CurrentState}},{key:"owner",get:function(){return this.m_Owner}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/FsmState.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"134d8Da7cdDv7wIawJhlhIA","FsmState",void 0);t("FsmState",(function(){this.name=void 0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/GameCensusConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./Configable.ts","./EventBuiltin.ts","./UnbiasedTime.ts","./DataTableManager.ts","./DataTable.ts","./EventUtility.ts","./BuffConfig.ts","./BuffTimelinessConfig.ts","./ItemConfig.ts"],(function(t){"use strict";var e,n,i,s,a,u,o,l,r,d,h,c,f,g,p,m,_;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,s=t._decorator,a=t.director,u=t.macro},function(t){o=t.default},function(t){l=t.configName,r=t.default},function(t){d=t.eventDispatcher},function(t){h=t.unbiasedTimer},function(t){c=t.dataTableManager},function(t){f=t.EDataTables},function(t){g=t.MEventNames},function(t){p=t.EBuffSource},function(t){m=t.buffTimelinessConfig},function(t){_=t.itemConfig}],execute:function(){var v;i._RF.push({},"adedaorlV1E+ZllrPWJLoNz","GameCensusConfig",void 0);s.ccclass,s.property;var V=t("GameCensusConfig",l("gameCensusConfig")(v=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).lastGold=0,e._lastTime=0,e._index=0,e._goldValue=[],e._defaultGold=0,e.updatTime=60,e._interval=60,e.isUpdate=!1,e}e(i,t);var s=i.prototype;return s.onInit=function(t){var e=c.getData(f.Constant,45).Value;this._defaultGold=0==e?100:e,_.updateEventMenory(this.lastGold),this._interval=60,this._goldValue=[0,0,0,0],this.initEvent(),this.initSchedule()},s.initEvent=function(){d.on(g.updateMoneryCensus,this,this.OnUpdateMoneryCensus)},s.initSchedule=function(){var t=this,e=a.getScheduler();e.schedule((function(){t.refrectGoldValue()}),e,this._interval,u.REPEAT_FOREVER,0,!1)},s.refrectGoldValue=function(){this._index=this._index+1>3?0:this._index+1;for(var t=[],e=0;e<4;e++)this._index!=e&&t.push(this._goldValue[e]);this.lastGold=this.goldValue,_.updateEventMenory(this.lastGold),this._goldValue[this._index]=0,this.isUpdate=!0},s.pushValue=function(t,e){this.isDoubleValue()&&(t/=2),this._goldValue[this._index]+=t,o.debug("Game => addGold => "+t+"  source => "+e+" , index=>"+this._index+" goldValue["+this._index+"] => "+this._goldValue[this._index]+" time=> "+this.getTime())},s.dateFormat=function(t,e){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t},s.getTime=function(){var t=h.date;return this.dateFormat("hh:mm:ss",t)},s.OnRefreshItemNumber=function(t){if(null!=t){var e=t.count;this.pushValue(e)}},s.OnUpdateMoneryCensus=function(t){var e=t.count,n=t.source;this.pushValue(e,n)},s.isUpdateValue=function(t){return this.updatTime-=t,this.updatTime<=0&&(this.updatTime=60,!0)},s.isDoubleValue=function(){var t=m.getBuffNum(p.ContactAd);return t>0||(t=m.getBuffNum(p.LuckyTurntable))>0},n(i,[{key:"goldValue",get:function(){var t=[0,0,0,0],e=0,n=0;for(n=0;n<4;n++)this._index!=n&&this._goldValue[n]>0&&(e+=1,t[n]=this._goldValue[n]);var i=t[0]+t[1]+t[2];return i=0==i?0:i/e,i=(i=Math.ceil(i))>this.lastGold?i:this.lastGold,this.lastGold=i,i=0==i?this._defaultGold:i}},{key:"goldValueHaveStar",get:function(){return this.goldValue}}]),i}(r))||v);t("gameCensusConfig",new V);i._RF.pop()}}}));

System.register("chunks:///_virtual/GameStart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./ReferencePool.ts","./Fsm.ts","./UnbiasedTime.ts","./SplashState.ts"],(function(t){"use strict";var e,s,n,o,i,a,r,u,c,l;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,n=t._decorator,o=t.macro,i=t.Component},function(t){a=t.default},function(t){r=t.default},function(t){u=t.Fsm},function(t){c=t.unbiasedTimer},function(t){l=t.SplashState}],execute:function(){var m;s._RF.push({},"11f7cuI2h1LTaZ4sg4oGEbf","GameStart",void 0);var h=n.ccclass;n.property,t("GameStart",h("GameStart")(m=function(t){function s(){for(var e,s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_Fsm=void 0,e}e(s,t);var n=s.prototype;return n.onLoad=function(){globalThis.debugtest={showDebugBtn:1,closeNoviceGuide:0,onlyUI:0,logLevel:15,isNoUseSDK:0,noLogSend:0,noUseUnbiasedTime:1,minigameTest:0,goodReputaion:0,country:0},a.reset(globalThis.debugtest.logLevel),o.ENABLE_MULTI_TOUCH=!1,globalThis.debugtest.noUseUnbiasedTime&&(c.unbiased=!1),c.initSchedule()},n.start=function(){this.m_Fsm=u.get(this),this.m_Fsm.setCurrentState(l.instance)},n.update=function(t){this.m_Fsm&&this.m_Fsm.update(t)},n.onDestroy=function(){this.m_Fsm&&r.recover(this.m_Fsm),this.m_Fsm=null},s}(i))||m);s._RF.pop()}}}));

System.register("chunks:///_virtual/GameTool.ts",["cc","./Log.ts","./UnbiasedTime.ts"],(function(t){"use strict";var n,r,e,a;return{setters:[function(t){n=t.cclegacy,r=t.v3},function(t){e=t.default},function(t){a=t.unbiasedTimer}],execute:function(){n._RF.push({},"04e7cAj+uxP4qRBOBHGmRXM","GameTool",void 0);t("GameTool",function(){function t(){}return t.keepDecimalPlaces=function(t,n){if(n>0){var r=Math.pow(n,10);t=t*r|0,t/=r}return t},t.getRandom=function(t,n){var r=0,e=0;return t>n?(r=t,e=n):(r=n,e=t),Math.random()*(r-e)+e},t.getRandomInt=function(t,n){var r=0,e=0;return t>n?(r=t,e=n):(r=n,e=t),Math.random()*(r-e+1)+e|0},t.randomSuccess=function(t){return 100==t||Math.random()<=t/100},t.mathBound=function(t,n,r){var e=t>n?t:n,a=e==t?n:t;return r<a?r=a:r>e&&(r=e),r},t.getFmtTime=function(t,n){if(t<=0)return"";var r=t|=0,e="",a="";if(t>=3600){var o=Math.floor(t/3600);t-=3600*o,a=o+":"}for(;t>=60;){var u=t%60;e=":"+(u<10?"0"+u:u)+e,t=t/60|0}switch(e=(t<10?"0"+t:t)+e,n){case"h":r<60?e="00:00:"+e:r<3600&&(e="00:"+e);break;case"m":default:r<60&&(e="00:"+e)}return a+e},t.splitNumberArray=function(t,n){if(!t)return[];for(var r=(t+="").split(n=n||"_"),e=[],a=0;a<r.length;a++)e.push(Number(r[a]));return e},t.getArrayRandomElementByWeight=function(t,n){void 0===n&&(n="Weight");var r=0;t.forEach((function(t){t[n]>0&&(r+=t[n])})),r=Math.random()*r;for(var a=0;a<t.length;a++)if(t[a]&&t[a][n]>0&&(r-=t[a][n])<=0)return t[a];return e.error("getMapRandomElementByWeight error"),null},t.getRandomWeightIndex=function(t){var n=0;t.forEach((function(t){n+=t}));for(var r=Math.random()*n,e=t.length-1;e>=0;e--)if(r>=(n-=t[e]))return e;return 0},t.dicDataIsNull=function(t){return""==t||"null"==t||"[]"==t||null==t||null==t||t.length<1},t.getManyElementInArray=function(t,n,r){if(void 0===r&&(r=!1),!Array.isArray(t))return null;if(t.length<=n)return t;for(var e=r?JSON.parse(JSON.stringify(t)):t,a=[];n-- >0;)a=a.concat(t.splice(~~(Math.random()*e.length),1));return a},t.getOneRandomElementInArray=function(t){return Array.isArray(t)?t[this.getRandomInt(0,t.length-1)]:null},t.dateFormat=function(t,n){null==t&&null==n?(t=a.now,n="yyyy-MM-dd HH:mm:ss"):"string"==typeof t?(n=t,t=a.now):void 0===n&&(n="yyyy-MM-dd HH:mm:ss");var r={y:t.getFullYear()+"",M:t.getMonth()+1+"",d:t.getDate()+"",H:t.getHours(),m:t.getMinutes()+"",s:t.getSeconds()+"",q:Math.floor((t.getMonth()+3)/3)+"",f:t.getMilliseconds()+""};r.H>12?r.h=r.H-12+"":r.h=r.H+"",r.H+="";for(var e="yMdHhmsqf",o="",u="",i=0,l=0;i<e.length;i++)if(!((l=n.indexOf(e[i]))<0)){for(o="";l<n.length&&n[l]==e[i];l++)o+=e[i];if(o.length>0){if(o.length==r[e[i]].length)u=r[e[i]];else if(o.length>r[e[i]].length)u="f"==e[i]?r[e[i]]+this.charString("0",o.length-r[e[i]].length):this.charString("0",o.length-r[e[i]].length)+r[e[i]];else switch(e[i]){case"y":u=r[e[i]].substr(r[e[i]].length-o.length);break;case"f":u=r[e[i]].substr(0,o.length);break;default:u=r[e[i]]}n=n.replace(o,u)}}return n},t.charString=function(t,n){for(var r="";n--;)r+=t;return r},t.CreateBezierPoints=function(t,n){function e(t,n){for(var e=t.length,a=0,o=0,u=function(t,n){for(var r=1,e=1;n>0;)r*=t,e*=n,t--,n--;return r/e},i=0;i<e;i++){var l=t[i];a+=l.x*Math.pow(1-n,e-1-i)*Math.pow(n,i)*u(e-1,i),o+=l.y*Math.pow(1-n,e-1-i)*Math.pow(n,i)*u(e-1,i)}return r(a,o,0)}for(var a=[],o=0;o<n-1;o++){var u=e(t,o/(n-1));a.push(u)}return a.push(t[t.length-1]),a},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameUnlockTool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./TaskConfig.ts","./DataTable.ts"],(function(n){"use strict";var t,e,a,o,c;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){a=n.dataTableManager},function(n){o=n.taskConfig},function(n){c=n.EDataTables}],execute:function(){e._RF.push({},"479393vkoZLMpeyYGTwiQar","GameUnlockTool",void 0),n("GameUnlockTool",function(){function n(){}return n.prototype.wareHouseIsUnlock=function(){var n=a.getDataTable(c.Constant);return o.curTaskId>=n[41].Value},t(n,null,[{key:"instance",get:function(){return n.m_Instance||(n.m_Instance=new n),this.m_Instance}}]),n}()).m_Instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/GameUtility.ts",["cc"],(function(e){"use strict";var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){var a;e("EGameBundles",void 0),i._RF.push({},"8397ei5PUJMwYBhRJvCVoqQ","GameUtility",void 0),function(e){e.Basic="Basic",e.LoadOnPlay="LoadOnPlay"}(a||(a=e("EGameBundles",{})));e("MLoadOnPlayRes",{LobbyNode:"Prefab/Lobby/LobbyNode",KitchenNode:"Prefab/Lobby/KitchenNode",PrivateRoomNode:"Prefab/Lobby/PrivateRoomNode",LobbyOutsideNode:"Prefab/Lobby/LobbyOutsideNode",AuditoriumNode:"Prefab/Lobby/AuditoriumNode",CustomerNode:"Prefab/Lobby/CustomerNode",GuestNode:"Prefab/Lobby/GuestNode",PersonalNode:"Prefab/Lobby/PersonalNode",StaffNode:"Prefab/Lobby/StaffNode",CommonTalkNode:"Prefab/Lobby/CommonTalkNode",CommonTalkNode2:"Prefab/Lobby/CommonTalkNode2",SlackNode:"Prefab/Lobby/SlackNode",StoryNode:"Prefab/Lobby/StoryNode",PersonalEventNode:"Prefab/Lobby/PersonalEventNode",NoviceNode:"Prefab/Lobby/NoviceNode",DropoutNode:"Prefab/Lobby/DropoutNode",EffectClearEatNode:"Prefab/Lobby/EffectClearEatNode",EffectWashNode:"Prefab/Lobby/EffectWashNode",EffectUnlockNode:"Prefab/Lobby/EffectUnlockNode",GuestFlyerNode:"Prefab/Lobby/GuestFlyerNode",BillingNode:"Prefab/Lobby/BillingNode"}),e("MViewPath",{DebugTestView:"Prefab/View/DebugTestView",SdkTestView:"Prefab/View/SdkTestView",CircleView:"Prefab/View/CircleView",ConfirmView:"Prefab/View/Public/ConfirmView",CongratulationView:"Prefab/View/Public/CongratulationView",TipView:"Prefab/View/Public/TipView",MiniGameMainView:"Prefab/View/MiniGame/MiniGameMainView",MiniGameExchangeView:"Prefab/View/MiniGame/MiniGameExchangeView",MiniGameDrawCardView:"Prefab/View/MiniGame/DrawCard/MiniGameDrawCardView",MiniGamePrizeClawView:"Prefab/View/MiniGame/PrizeClaw/MiniGamePrizeClawView",MiniGameOverView:"Prefab/View/MiniGame/MiniGameOverView",HomePageView:"Prefab/View/HomePageView",TaskPageView:"Prefab/View/TaskView",ShopView:"Prefab/View/Shop/ShopView",ShopConversionView:"Prefab/View/Shop/ShopConversionView",ShopDepotView:"Prefab/View/Shop/ShopDepotView",WarehouseView:"Prefab/View/Warehouse/WarehouseView",StarInfoView:"Prefab/View/StarInfoView",RenovationView:"Prefab/View/Renovation/RenovationView",RenovationConfigView:"Prefab/View/Renovation/RenovationConfigView",ResearchView:"Prefab/View/Research/ResearchView",ResearchResultView:"Prefab/View/Research/ResearchResultView",ResearchReadmeView:"Prefab/View/Research/ResearchReadmeView",ResearchExchangeView:"Prefab/View/Research/ResearchExchangeView",WarehouseReadmeView:"Prefab/View/Warehouse/WarehouseReadmeView",MenuView:"Prefab/View/Menu/MenuView",FoodInfoView:"Prefab/View/Menu/FoodInfoView",PhonographView:"Prefab/View/Phonograph/PhonographView",PhonographRewardView:"Prefab/View/Phonograph/PhonographRewardView",SignView:"Prefab/View/SignView",ExplainView:"Prefab/View/ExplainView",StaffView:"Prefab/View/Staff/StaffView",StaffInfoView:"Prefab/View/Staff/StaffInfoView",StaffPlanView:"Prefab/View/Staff/plan/StaffPlanView",StaffPlanView_exchange:"Prefab/View/Staff/plan/StaffPlanView_exchange",FoodillustrationView:"Prefab/View/Foodillustration/FoodillustrationView",FoodillustrationInfoView:"Prefab/View/Foodillustration/FoodillustrationInfoView",FoodRecipesView:"Prefab/View/Foodillustration/FoodRecipesView",GoldAdView:"Prefab/View/GoldAdView",ScoreUpTips:"Prefab/View/ScoreUpTips",BillingView:"Prefab/View/BillingView",StoryView:"Prefab/View/StoryView",PersonalEventView:"Prefab/View/PersonalEventView",PersonalEvent2View:"Prefab/View/PersonalEvent2View",SettingView:"Prefab/View/SettingView",NoviceGuideView:"Prefab/View/Novice/NoviceGuideView",NewFunctionOpenView:"Prefab/View/Public/NewFunctionOpenView",ChangeNameView:"Prefab/View/Novice/ChangeNameView",CongratulationMoreView:"Prefab/View/Novice/CongratulationMoreView",OfflineEarningsView:"Prefab/View/OfflineEarningsView",ChangeNameViewNew:"Prefab/View/ChangeNameViewNew",GetCurencyUIAni:"Prefab/View/Public/GetCurencyUIAni",ScreenTips:"Prefab/View/Public/SceneTipView",RenovationSchemeView:"Prefab/View/Renovation/RenovationScheme/RenovationSchemeView",SchemeReplaceView:"Prefab/View/Renovation/RenovationScheme/SchemeReplaceView",ReplaceNameView:"Prefab/View/Renovation/RenovationScheme/ReplaceNameView",RenovationSuitView:"Prefab/View/Renovation/RenovationSuitView/RenovationSuitView",GoodReputationView:"Prefab/View/GoodReputationView",PurchaseDiamondView:"Prefab/View/Shop/Gift/PurchaseDiamondView",PurchaseGiftView1003:"Prefab/View/Shop/Gift/PurchaseGiftView1003",PurchaseGiftView1004:"Prefab/View/Shop/Gift/PurchaseGiftView1004",PurchaseGiftView1005:"Prefab/View/Shop/Gift/PurchaseGiftView1005",FastBuildConfigView:"Prefab/View/Renovation/FastBuild/FastBuildConfigView",FastBuyView:"Prefab/View/Renovation/FastBuy/FastBuyView",FoodCarnivalView:"Prefab/View/HomePage/FoodCarnival/FoodCarnivalView",FoodCarnivalRewardView:"Prefab/View/HomePage/FoodCarnival/FoodCarnivalRewardView",LuckyTurntableView:"Prefab/View/HomePage/LuckyTurntableView",ContactAdView:"Prefab/View/HomePage/ContactAd/ContactAdView",TaskBuildConfigView:"Prefab/View/Renovation/FastBuild/TaskBuildConfigView",TaskStaffConfigView:"Prefab/View/Renovation/FastBuild/TaskStaffConfigView"});i._RF.pop()}}}));

System.register("chunks:///_virtual/GameVersion.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DefaultVersionHelper.ts"],(function(e){"use strict";var n,r,t,o;return{setters:[function(e){n=e.inheritsLoose,r=e.createClass},function(e){t=e.cclegacy},function(e){o=e.DefaultVersionHelper}],execute:function(){t._RF.push({},"8f3d9Y7zK1KuoD9vozNwoJg","GameVersion",void 0);var s=e("GameVersion",function(e){function t(){for(var n,r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return(n=e.call.apply(e,[this].concat(t))||this).m_AppVersion="1.0.0",n}return n(t,e),r(t,[{key:"appVersion",get:function(){return this.m_AppVersion}}]),t}(o));e("gameVersion",new s);t._RF.pop()}}}));

System.register("chunks:///_virtual/GetCurencyUIAni.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./UIView.ts","./ItemConfig.ts","./EventUtility.ts","./GameUtility.ts","./ResourceTool.ts","./UITool.ts"],(function(n){"use strict";var e,t,i,o,r,s,a,c,u,l,h,d,p,f,m,y,g,I,v;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,s=n._decorator,a=n.Node,c=n.Label,u=n.tween,l=n.Vec3,h=n.Sprite},function(n){d=n.eventDispatcher},function(n){p=n.uiManager},function(n){f=n.UIView},function(n){m=n.itemConfig},function(n){y=n.MEventNames},function(n){g=n.EGameBundles},function(n){I=n.ResourceTool},function(n){v=n.UITool}],execute:function(){var N,w,b,A,P,_,U,C,T;r._RF.push({},"cc7dfxUGXpMBKgnrmMqjTAg","GetCurencyUIAni",void 0);var G=s.ccclass,M=s.property;n("GetCurencyUIAni",(N=G("GetCurencyUIAni"),w=M(a),b=M(c),A=M(a),N((U=e((_=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=n.call.apply(n,[this].concat(r))||this,i(e,"num_Icon",U,o(e)),i(e,"num_Lab",C,o(e)),i(e,"aniNode",T,o(e)),e.targetPos=null,e.pos_v3=null,e.moneyNodeNum=0,e.moneyCount=0,e.nodeIndex=0,e.posArr=[],e}t(e,n);var r=e.prototype;return r.onInit=function(){for(var n=0;n<this.aniNode.children.length;n++){var e=this.aniNode.children[n].getWorldPosition();this.posArr.push(e.clone())}},r.onOpen=function(n){if(this.targetPos=v.instance.getCurrencyAniPos(n.itemId),this.targetPos){var e=m.getItemIconUrl(n.itemId);this.showAni(e),this.moneyCount=n.count,u(this.num_Icon).to(.3,{scale:new l(2,2,2)}).by(.5,{position:new l(1,200,1)}).start()}else this.node.active=!1},r.showAni=function(n){for(var e=this,t=0;t<this.aniNode.children.length;t++)I.setSpriteFrame(g.LoadOnPlay,n,this.aniNode.children[t].getComponent(h),this),this.aniNode.children[t].setPosition(0,0,0),this.aniNode.children[t].active=!0,this.setTweenAction(this.posArr[t],this.aniNode.children[t],t===this.aniNode.children.length-1,t);this.moneyNodeNum=this.aniNode.children.length,this.nodeIndex=0,u(this.num_Icon.position).by(.5,{y:30}).delay(.3).call((function(){e.num_Icon.active=!1})).start()},r.setTweenAction=function(n,e,t,i){var o=this,r=this,s=l.distance(n,this.targetPos)/1e3;u(e).to(.6,{worldPosition:n},{easing:"quadIn"}).to(s,{worldPosition:this.targetPos},{easing:"quadIn"}).call((function(n){d.event(y.RefreshTopMoneyNum,{total:o.moneyNodeNum,idx:o.nodeIndex++,count:o.moneyCount}),o.pos_v3||(o.pos_v3=n.getWorldPosition()),n.active=!1,t&&p.closeView(r)})).start()},e}(f)).prototype,"num_Icon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(_.prototype,"num_Lab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(_.prototype,"aniNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=_))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/GGuestState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts"],(function(t){"use strict";var n,e,s,o;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy},function(t){o=t.FsmState}],execute:function(){s._RF.push({},"02fb2kTDapMzZiVloerQ2Ir","GGuestState",void 0),t("GGuestState",function(t){function s(){return t.apply(this,arguments)||this}n(s,t);var o=s.prototype;return o.onEnter=function(t,n){t.startMove()},o.onExecute=function(t,n){},o.onExit=function(t){},o.onPathEnd=function(t){t.endMove()},e(s,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new s),this.m_Instance}}]),s}(o)).m_Instance=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/GoldAdView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./ItemConfig.ts","./ShopInfoMgr.ts","./DataTable.ts","./EventUtility.ts","./GoogleAdMob.ts","./GoogleFirebase.ts","./UITool.ts","./UIConfig.ts"],(function(t){"use strict";var e,i,n,o,a,s,c,l,r,u,h,f,d,p,g,w,b,m,v,y,_,N,V,I,L,M;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,c=t._decorator,l=t.Node,r=t.Label,u=t.tween,h=t.v3},function(t){f=t.eventDispatcher},function(t){d=t.dataTableManager},function(t){p=t.LocalizationHelper},function(t){g=t.uiManager},function(t){w=t.UIView},function(t){b=t.itemConfig,m=t.EItemEnum},function(t){v=t.ShopInfoMgr},function(t){y=t.EDataTables},function(t){_=t.MEventNames},function(t){N=t.googleAdMober},function(t){V=t.googleFirebaser,I=t.eAnalyticsEvent},function(t){L=t.UITool},function(t){M=t.MUIConfig}],execute:function(){var A,T,G,C,D,S,W,z,B,U,k,E,F;s._RF.push({},"24e9b49bPJL06t8qvwQUxlC","GoldAdView",void 0);var P=c.ccclass,R=c.property;t("GoldAdView",(A=P("GoldAdView"),T=R(l),G=R(r),C=R(l),D=R(l),S=R(r),A((B=e((z=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"talkNode",B,o(e)),n(e,"goldNumLab",U,o(e)),n(e,"watchButton",k,o(e)),n(e,"buyButton",E,o(e)),n(e,"priceLab",F,o(e)),e._showWatch=!1,e.getGold=0,e._costNum=10,e}i(e,t);var s=e.prototype;return s.onLoad=function(){this._costNum=d.getData(y.Constant,35).Value,this.priceLab.string="x"+this._costNum},s.onOpen=function(){var t=this;this.showWatch=!1,L.instance.haveNoAD=!1,this.node.setPosition(0,-500,0),u(this.node).to(.3,{position:h(0,0,0)}).call((function(){u(t.talkNode).by(.2,{position:h(0,20,0)}).by(.2,{position:h(0,-20,0)}).start()})).start(),this.getGold=v.instance.depotMgr.getRewardNumber(0),this.goldNumLab.string="x"+this.getGold,f.on(_.CloseGoldAdView,this,this.closeThis)},s.onClose=function(){f.offAllCaller(this)},s.refreshShowWatch=function(){this.buyButton.active=!this._showWatch,this.watchButton.active=this._showWatch},s.clickBuy=function(){var t=this;b.useItem(m.diamond,this._costNum)?this.watchSuccess():(g.openView(M.TipView,null,{content:p.getString("1_18")}),g.openView(M.PurchaseDiamondView,null,{needNum:this._costNum,callback:function(){t.showWatch=!0}}))},s.clickWatch=function(){var t=this;N.showRewardedAd((function(e){t.watchSuccess()}))},s.watchSuccess=function(){V.logEvent(I.event_ad,"ad_wool"),b.addMoney(this.getGold,!0),g.openView(M.TipView,null,{content:p.getString("1_22")}),f.event(_.FoodInfoRefresh),this.closeThis()},s.closeThis=function(){g.closeView(this)},a(e,[{key:"showWatch",set:function(t){this._showWatch=!0,this.refreshShowWatch()}}]),e}(w)).prototype,"talkNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(z.prototype,"goldNumLab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(z.prototype,"watchButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(z.prototype,"buyButton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(z.prototype,"priceLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=z))||W));s._RF.pop()}}}));

System.register("chunks:///_virtual/GoodReputationConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./EventBuiltin.ts","./EventUtility.ts","./UIConfig.ts"],(function(t){"use strict";var e,o,n,i,a,u,r;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.configName,i=t.default},function(t){a=t.eventDispatcher},function(t){u=t.MEventNames},function(t){r=t.MUIConfig}],execute:function(){var c,s;t("EGoodReputationEnum",void 0),o._RF.push({},"ed726fwIUNLYrjnOm66wcSY","GoodReputationConfig",void 0),function(t){t[t.canteenStar3=1]="canteenStar3",t[t.lobbyFlowerUnlock=2]="lobbyFlowerUnlock",t[t.queenAreaUnlock=3]="queenAreaUnlock",t[t.coldCupboardUnlock=4]="coldCupboardUnlock",t[t.food20=5]="food20",t[t.staff4=6]="staff4",t[t.canteenStar6=7]="canteenStar6",t[t.terraceUnlock=8]="terraceUnlock",t[t.minigameTimes1=9]="minigameTimes1",t[t.secondFloorUnlock=10]="secondFloorUnlock",t[t.staffStar3=11]="staffStar3",t[t.foodStar5=12]="foodStar5"}(s||(s=t("EGoodReputationEnum",{})));var f=[s.queenAreaUnlock,s.lobbyFlowerUnlock,s.coldCupboardUnlock],l=n("GoodReputationConfig")(c=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).refuseTimes=0,e.hasReputate=0,e.raputaionObj={},e}e(o,t);var n=o.prototype;return n.onInit=function(){},n.goReputation=function(){this.hasReputate=1},n.canReputate=function(t){return!!s[t]&&(-1==f.indexOf(t)?!this.hasReputate&&(!(this.refuseTimes>=3)&&(!this.raputaionObj[t]&&(a.event(u.AddView,{viewConfig:r.GoodReputationView,viewData:t}),!0))):void 0)},n.setRepurate=function(t){return!this.raputaionObj[t]&&(this.raputaionObj[t]=1,this.refuseTimes++,!0)},n.cleanData=function(){globalThis.debugtest&&globalThis.debugtest.goodReputaion&&(this.refuseTimes=0,this.hasReputate=0,this.raputaionObj={})},o}(i))||c;t("goodReputationConfig",new l);o._RF.pop()}}}));

System.register("chunks:///_virtual/GoodReputationView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./UIManager.ts","./UIView.ts","./GoodReputationConfig.ts","./GoogleFirebase.ts"],(function(o){"use strict";var t,e,n,i,u,c,r,a;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator},function(o){i=o.default},function(o){u=o.uiManager},function(o){c=o.UIView},function(o){r=o.goodReputationConfig},function(o){a=o.googleFirebaser}],execute:function(){var s;e._RF.push({},"4b61bZ6YuJDnpK+iP8Th2ri","GoodReputationView",void 0);var p=n.ccclass;n.property,o("GoodReputationView",p("GoodReputationView")(s=function(o){function e(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=o.call.apply(o,[this].concat(n))||this).m_Type=0,t}t(e,o);var n=e.prototype;return n.onOpen=function(o){this.m_Type=o,r.setRepurate(o)},n.clickGo=function(){i.debug("go reputation"),a.launchReviewFlow(),r.goReputation(),u.closeView(this)},n.clickNo=function(){u.closeView(this)},e}(c))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/GoogleAdMob.ts",["cc","./Log.ts","./AudioManager.ts","./SDKInfoMgr.ts"],(function(e){"use strict";var o,d,a,t,i;return{setters:[function(e){o=e.cclegacy,d=e.sys},function(e){a=e.default},function(e){t=e.audioManager},function(e){i=e.SDKInfoMgr}],execute:function(){var n;o._RF.push({},"aa9a2zebHNKlJYORe93c1na","GoogleAdMob",void 0),function(e){e[e.FailToLoad=1]="FailToLoad",e[e.FailToShow=2]="FailToShow",e[e.Reward=3]="Reward",e[e.Close=4]="Close",e[e.WithoutAd=5]="WithoutAd"}(n||(n={}));var l=e("googleAdMober",new(function(){function e(){this.mPlatform=d.platform,this.mIsNative=d.isNative,this.mBAdFailedHandler=void 0,this.mIAdFailedHandler=void 0,this.mRAdRewardHandler=void 0,this.mRAdFailedHandler=void 0}var o=e.prototype;return o.onBannerAd=function(e,o){e==n.FailToLoad&&this.mBAdFailedHandler&&this.mBAdFailedHandler(o)},o.showBannerAd=function(e){this.mBAdFailedHandler=e,this.mPlatform==d.Platform.ANDROID&&jsb.reflection.callStaticMethod("com/cocos/game/GoogleAdMob","showBannerAd","()V")},o.onInterstitialAd=function(e,o){e==n.FailToShow&&this.mIAdFailedHandler&&this.mIAdFailedHandler(o)},o.showInterstitialAd=function(e){this.mIAdFailedHandler=e,this.mPlatform==d.Platform.ANDROID&&jsb.reflection.callStaticMethod("com/cocos/game/GoogleAdMob","showInterstitialAd","()V")},o.onRewardedAd=function(e,o){i.SDKLoadClose(),t.resumeAll(),a.info("...ad onComplete..."+e),e==n.Reward?(this.mRAdRewardHandler&&this.mRAdRewardHandler(o),this.mRAdRewardHandler=null):(this.mRAdFailedHandler&&this.mRAdFailedHandler(o),i.showADFail())},o.showRewardedAd=function(e,o){var l=this;i.SDKLoadShow(),this.mRAdRewardHandler=e,this.mRAdFailedHandler=o,t.pauseAll(),globalThis.debugtest.isNoUseSDK?(a.info(".........no use......"),setTimeout((function(){l.onRewardedAd(n.Reward,"")}),1e3)):this.mPlatform==d.Platform.ANDROID?jsb.reflection.callStaticMethod("com/cocos/game/GoogleAdMob","showRewardedAd","()V"):this.mIsNative||setTimeout((function(){l.onRewardedAd(n.Reward,"")}),3e3)},e}()));window.googleAdMober=l,o._RF.pop()}}}));

System.register("chunks:///_virtual/GoogleBilling.ts",["cc","./Log.ts","./AudioManager.ts","./SDKInfoMgr.ts"],(function(e){"use strict";var t,i,a,s,o;return{setters:[function(e){t=e.cclegacy,i=e.sys},function(e){a=e.default},function(e){s=e.audioManager},function(e){o=e.SDKInfoMgr}],execute:function(){var r;t._RF.push({},"a01a7lwH+5GvKHeHDQcv0vt","GoogleBilling",void 0),function(e){e[e.SERVICE_TIMEOUT=-3]="SERVICE_TIMEOUT",e[e.FEATURE_NOT_SUPPORTED=-2]="FEATURE_NOT_SUPPORTED",e[e.SERVICE_DISCONNECTED=-1]="SERVICE_DISCONNECTED",e[e.Reward=0]="Reward",e[e.USER_CANCELED=1]="USER_CANCELED",e[e.SERVICE_UNAVAILABLE=2]="SERVICE_UNAVAILABLE",e[e.BILLING_UNAVAILABLE=3]="BILLING_UNAVAILABLE",e[e.ITEM_UNAVAILABLE=4]="ITEM_UNAVAILABLE",e[e.DEVELOPER_ERROR=5]="DEVELOPER_ERROR",e[e.ERROR=6]="ERROR",e[e.ITEM_ALREADY_OWNED=7]="ITEM_ALREADY_OWNED",e[e.ITEM_NOT_OWNED=8]="ITEM_NOT_OWNED"}(r||(r={}));var n=e("googleBillinger",new(function(){function e(){this.mPlatform=i.platform,this.mIsNative=i.isNative,this.mSkuDetailsHandler=void 0,this.mRewardHandler=void 0,this.mRewardFailHandler=void 0,this.mPayId=void 0,this.mPurchasesHandler=void 0}var t=e.prototype;return t.onSkuDetails=function(e){for(var t=0;t<e.length;t++){var i=e[t];e[t]=JSON.parse(i)}this.mSkuDetailsHandler&&this.mSkuDetailsHandler(e),this.mSkuDetailsHandler=null},t.querySkuDetails=function(e,t){(this.mSkuDetailsHandler=t,"string"==typeof e)&&(e=[e]);var s=e;e=JSON.stringify(e);var o=this,r=function(){for(var e=[],t=0;t<s.length;t++){var i={};i.productId=s[t],i.type="inapp",i.title=i.productId+"_title",i.name=i.productId+"_name",i.description=i.productId+"_des";var a="0"+(t+1);t>=9&&(a=t+1+""),i.price="HK$78."+a,i.price_amount_micros=78e6,i.price_currency_code="HKD",i.skuDetailsToken="skuDetailsToken",e.push(i)}o.mSkuDetailsHandler(e)};globalThis.debugtest.isNoUseSDK?(a.info(".........no use......"),r()):this.mPlatform==i.Platform.ANDROID?jsb.reflection.callStaticMethod("com/cocos/game/GoogleBilling","querySkuDetailsAsync","(Ljava/lang/String;)V",e):this.mIsNative||r()},t.onPay=function(e,t){if(o.SDKLoadClose(),s.resumeAll(),e==r.Reward){var i=t;o.rechargeSuccess(i.productId),globalThis.debugtest.isNoUseSDK||this.consumeAsync(i.orderId)}else o.rechargeFail()},t.consumeAsync=function(e){(a.info("......consumeAsync.........."),"string"==typeof e)&&(e=[e]);e=JSON.stringify(e),this.mPlatform==i.Platform.ANDROID&&jsb.reflection.callStaticMethod("com/cocos/game/GoogleBilling","consumeAsync","(Ljava/lang/String;)V",e)},t.pay=function(e,t,n){var l=this;o.SDKLoadShow(),s.pauseAll(),globalThis.debugtest.isNoUseSDK?(a.info(".........no use......"),setTimeout((function(){var t={};t.productId=e,l.onPay(r.Reward,t)}),1e3)):this.mPlatform==i.Platform.ANDROID?jsb.reflection.callStaticMethod("com/cocos/game/GoogleBilling","launchBillingFlow","(Ljava/lang/String;)V",e):this.mIsNative||setTimeout((function(){var t={};t.productId=e,l.onPay(r.Reward,t)}),3e3)},t.onQueryPurchases=function(e){for(var t=0;t<e.length;t++){var i=e[t];e[t]=JSON.parse(i)}this.mPurchasesHandler&&this.mPurchasesHandler(e),this.mPurchasesHandler=null},t.queryPurchases=function(e){if(this.mPurchasesHandler=e,this.mPlatform==i.Platform.ANDROID)jsb.reflection.callStaticMethod("com/cocos/game/GoogleBilling","queryPurchases","()V");else if(!this.mIsNative){for(var t=[],a=[],s=0;s<a.length;s++){var o={};o.productId=a[s],o.orderId="123",t.push(o)}this.mPurchasesHandler&&this.mPurchasesHandler(t)}},e}()));window.googleBillinger=n,t._RF.pop()}}}));

System.register("chunks:///_virtual/GoogleFirebase.ts",["cc","./Log.ts"],(function(e){"use strict";var t,i,a;return{setters:[function(e){t=e.cclegacy,i=e.sys},function(e){a=e.default}],execute:function(){var n,l;e("eAnalyticsEvent",void 0),t._RF.push({},"581c9AmDvVAmI5EhAO+u0VI","GoogleFirebase",void 0),function(e){e.event_guide="event_guide",e.staff_hire="staff_hire",e.develop_ingredients="other_develop",e.develop_main="develop_main",e.event_ad="event_ad",e.event_outside="event_outside",e.event_lobby="event_lobby",e.event_kitchen="event_kitchen",e.event_terrace1="event_terrace1",e.event_terrace2="event_terrace2",e.event_terrace3="event_terrace3",e.event_theater="event_theater",e.other_build="other_build",e.other_washdishes="other_washdishes",e.build_table1="build_table1",e.build_table2="build_table2",e.build_table3="build_table3",e.build_table4="build_table4",e.build_bar="build_bar",e.build_gatehouse="build_gatehouse",e.build_sidedish="build_sidedish",e.build_cutting="build_cutting",e.build_sink="build_sink",e.other_task="other_task",e.other_star="other_star",e.other_gamestart="other_gamestart",e.event_purchase="event_purchase",e.build_table5="build_table5",e.build_table6="build_table6",e.build_table7="build_table7",e.build_table8="build_table8"}(l||(l=e("eAnalyticsEvent",{})));var _=((n={})[l.event_guide]="guide_num",n[l.staff_hire]="hire_id",n[l.develop_ingredients]="ingredients_num",n[l.develop_main]="main_num",n[l.event_ad]="ad_id",n[l.event_outside]="outside_num",n[l.event_lobby]="lobby_num",n[l.event_kitchen]="kitchen_num",n[l.event_terrace1]="terrace_num",n[l.event_terrace2]="terrace2_num",n[l.event_terrace3]="terrace3_num",n[l.event_theater]="theater_num",n[l.build_table1]="table1_num",n[l.build_table2]="table2_num",n[l.build_table3]="table3_num",n[l.build_table4]="table4_num",n[l.build_bar]="bar_num",n[l.build_gatehouse]="gatehouse_num",n[l.build_sidedish]="sidedish_num",n[l.build_cutting]="cutting_num",n[l.build_sink]="sink_num",n[l.other_washdishes]="washdishes_num",n[l.other_task]="task_num",n[l.other_star]="star_lv",n[l.other_gamestart]="gamestart",n[l.event_purchase]="purchase_id",n[l.build_table5]="table5_num",n[l.build_table6]="table6_num",n[l.build_table7]="table7_num",n[l.build_table8]="table8_num",n),u=e("googleFirebaser",new(function(){function e(){this.platform=i.platform,this.mIsNative=i.isNative,this.mReviewHandler=void 0}var t=e.prototype;return t.logEvent=function(e,t){var n,l=JSON.stringify(((n={})[_[e]]=t,n));if(this.platform==i.Platform.ANDROID){if(globalThis.debugtest.noLogSend)return;jsb.reflection.callStaticMethod("com/cocos/game/GoogleFirebase","logEvent","(Ljava/lang/String;Ljava/lang/String;)V",e,l)}else this.mIsNative||a.info("......log..event:"+e+".........value:"+l)},t.onReviewComplete=function(){this.mReviewHandler&&this.mReviewHandler(),this.mReviewHandler=null},t.launchReviewFlow=function(e){this.mReviewHandler=e,this.platform==i.Platform.ANDROID?jsb.reflection.callStaticMethod("com/cocos/game/GoogleFirebase","launchReviewFlow","()V"):a.info("goto launchReviewFlow")},e}()));window.googleFirebaser=u,t._RF.pop()}}}));

System.register("chunks:///_virtual/GuestFlyerNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtils.ts"],(function(e){"use strict";var t,i,n,r,a,o,l,s,c,u,y,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Animation,s=e.Node,c=e.Tween,u=e.tween,y=e.v3,d=e.Component},function(e){f=e.default}],execute:function(){var p,g,h,v,m,N,b,A,w;a._RF.push({},"971c8mwW7xC0rgSPsvKSaiL","GuestFlyerNode",void 0);var F=o.ccclass,z=o.property;e("GuestFlyerNode",(p=F("GuestFlyerNode"),g=z(l),h=z(s),v=z(s),p((b=t((N=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"flyerAnim",b,r(t)),n(t,"laughNode",A,r(t)),n(t,"angryNode",w,r(t)),t}i(t,e);var a=t.prototype;return a.onEnable=function(){this.flyerAnim.node.active=this.laughNode.active=this.angryNode.active=!1},a.onDisable=function(){this.flyerAnim.stop(),c.stopAllByTarget(this.laughNode),c.stopAllByTarget(this.angryNode)},a.initFlyer=function(){var e=this;return new Promise((function(t,i){var n=e.flyerAnim;n.node.active=!0,n.play(),e.scheduleOnce((function(){f.remove(e.node),t()}),.5)}))},a.initLaugh=function(){var e=this,t=this.laughNode;t.active=!0,t.setScale(0,0),u(t).to(.5,{scale:y(1,1)},{easing:"backOut"}).delay(1).call((function(){f.remove(e.node)})).start()},a.initAngry=function(e){var t=this,i=this.angryNode;i.active=!0,i.setScale(0,0),e?u(i).to(.5,{scale:y(1,1)},{easing:"backOut"}).start():u(i).to(.5,{scale:y(1,1)},{easing:"backOut"}).delay(1).call((function(){f.remove(t.node)})).start()},t}(d)).prototype,"flyerAnim",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(N.prototype,"laughNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(N.prototype,"angryNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=N))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/GuestNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./Fsm.ts","./AssetHelper.ts","./AssetLoader.ts","./LocalizationHelper.ts","./UIManager.ts","./NodeUtils.ts","./BillingConfig.ts","./TaskConfig.ts","./GameUtility.ts","./UIConfig.ts","./CustomerAnimAgent.ts","./CustomerNode.ts","./LobbyUtility.ts","./EntityBase.ts","./GGuestState.ts","./GuestFlyerNode.ts"],(function(t){"use strict";var e,n,i,o,s,a,r,c,l,u,f,d,m,h,p,g,y,v,_,N,A,S,b,C,G,L,P,E,T,V;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Node,c=t.v3,l=t.Tween,u=t.tween,f=t.Prefab},function(t){d=t.eventDispatcher},function(t){m=t.Fsm},function(t){h=t.AssetHelper},function(t){p=t.assetLoader},function(t){g=t.LocalizationHelper},function(t){y=t.uiManager},function(t){v=t.default},function(t){_=t.billingConfig},function(t){N=t.taskConfig,A=t.ETaskType},function(t){S=t.EGameBundles,b=t.MLoadOnPlayRes},function(t){C=t.MUIConfig},function(t){G=t.CustomerAnimAgent},function(t){L=t.CustomerNode},function(t){P=t.MLobbyEvent},function(t){E=t.EntityBase},function(t){T=t.GGuestState},function(t){V=t.GuestFlyerNode}],execute:function(){var F,R,k,M,B,I,w;s._RF.push({},"a102bHxm9JCnKBfKMEi503j","GuestNode",void 0);var D=a.ccclass,H=a.property;t("GuestNode",(F=D("GuestNode"),R=H(r),k=H(r),F((I=e((B=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"transformNode",I,o(e)),i(e,"talkNode",w,o(e)),e.m_SpineNode=void 0,e.m_ResId=-1,e.fsm=void 0,e.animAgent=void 0,e.step=0,e.config=void 0,e.m_Vec2=c(),e.m_Vec6=c(),e.m_Vec7=c(),e.m_Vec8=c(),e}n(e,t);var s=e.prototype;return s.onLoad=function(){t.prototype.onLoad.call(this),this.fsm=m.get(this),this.animAgent=this.getComponent(G),this.m_SpineNode=this.animAgent.m_Spine.node},s.onEnable=function(){var t=this,e=this.transformNode;e.targetOff(this);var n=!1;e.on(r.EventType.TOUCH_START,(function(){if(_.flyerCount<=0)y.openView(C.TipView,null,{content:g.getString("77_2")});else if(!n){n=!0,_.useFlyerCount(),N.addTaskPro(A.Leaflet),t.stop();var e=t.m_SpineNode;l.stopAllByTarget(e);var i=t.m_Vec6,o=t.m_Vec7;e.getScale(i),i.x*=1.1,i.y*=1.1,e.getScale(o),u(e).to(.1,{scale:i}).to(.2,{scale:o},{easing:"elasticOut"}).start();var s=b.GuestFlyerNode,a=t.m_Vec8;p.load(S.LoadOnPlay,s,f,(function(e,n){var i=v.instantiate(s,n);a.set();var o=t.config.talkPos[-1];o&&a.set(o[0],o[1]+50),i.setPosition(a),t.talkNode.addChild(i),i.getComponent(V).initFlyer().then((function(){t.endMove(),t.node.getPosition(a),d.event(P.AddGuestCustomer,[t.m_ResId,a.x,a.y])}))}))}}),this)},s.onDisable=function(){t.prototype.onDisable.call(this),this.config=null,this.step=0,this.fsm.changeState(null),this.animAgent.stop(),d.offAllCaller(this),this.transformNode.targetOff(this)},s.update=function(t){this.fsm.update(t)},s.initGuest=function(t,e,n,i){this.dynLayer=t+"",this.config=n,this.m_RoadAgent.speed=L.baseSpeed,this.setFace(1),this.m_ResId<0&&(this.m_ResId=e,this.animAgent.m_Spine.skeletonData=h.assign(i,this.node,!0))},s.setFace=function(t){var e=this.m_Vec0,n=L.baseScale,i=this.m_SpineNode;e.set(t*n,n,n),i.setScale(e)},s.startGuest=function(t,e){this.m_Vec2.set(t,e),this.fsm.changeState(T.instance)},s.startMove=function(){this.movePath(this.m_Vec2,!0),this.animAgent.move()},s.endMove=function(){v.remove(this.node)},s.stop=function(){t.prototype.stop.call(this),this.animAgent.idle()},s.onRotate=function(e,n,i){t.prototype.onRotate.call(this,e,n,this.m_SpineNode)},s.onPathEnd=function(){var t=this.fsm.currentState;t.onPathEnd&&t.onPathEnd(this)},e}(E)).prototype,"transformNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(B.prototype,"talkNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=B))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/Handler.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,s;return{setters:[function(t){i=t.createClass},function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"dfd07ofPI1KzoQlf4UC/hlS","Handler",void 0);var l=t("Handler",function(){function t(t,i,s,l){void 0===t&&(t=null),void 0===i&&(i=null),void 0===s&&(s=null),void 0===l&&(l=!0),this.m_Id=void 0,this.m_Caller=void 0,this.m_Method=void 0,this.m_Args=void 0,this.m_Once=void 0,this.m_Id=0,this.init(t,i,s,l)}t.create=function(i,s,l,e){return void 0===l&&(l=null),void 0===e&&(e=!0),t.s_Pool.length?t.s_Pool.pop().init(i,s,l,e):new t(i,s,l,e)};var s=t.prototype;return s.init=function(i,s,l,e){return this.m_Id=++t.s_Gid,this.m_Caller=i,this.m_Method=s,this.m_Args=l,this.m_Once=e,this},s.run=function(){if(null==this.m_Method)return null;var t=this.m_Id,i="call";null!=this.m_Args&&this.m_Args.unshift&&(i="apply");var s=this.m_Method[i](this.m_Caller,this.m_Args);return this.m_Id===t&&this.m_Once&&this.recover(),s},s.runWith=function(t){var i=null;if(null==this.m_Method)return i;var s=this.m_Id,l="call";if(null==t)null!=this.m_Args&&this.m_Args.unshift&&(l="apply"),i=this.m_Method[l](this.m_Caller,this.m_Args);else if(t.unshift||null!=this.m_Args)if(null!=this.m_Args){var e=this.m_Args;e.unshift||(e=[e]),i=this.m_Method.apply(this.m_Caller,e.concat(t))}else i=this.m_Method.apply(this.m_Caller,t);else i=this.m_Method.call(this.m_Caller,t);return this.m_Id===s&&this.m_Once&&this.recover(),i},s.clear=function(){return this.m_Caller=null,this.m_Method=null,this.m_Args=null,this},s.recover=function(){this.m_Id>0&&(this.m_Id=0,t.s_Pool.push(this.clear()))},i(t,[{key:"once",get:function(){return this.m_Once}},{key:"caller",get:function(){return this.m_Caller}},{key:"method",get:function(){return this.m_Method}}]),t}());l.s_Gid=0,l.s_Pool=[],s._RF.pop()}}}));

System.register("chunks:///_virtual/HomePageBuffNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UnbiasedTime.ts","./AssetKeeper.ts","./NodeUtils.ts","./BuffConfig.ts","./BuffTimelinessConfig.ts","./EventUtility.ts","./GameUtility.ts","./GameTool.ts","./ResourceTool.ts"],(function(e){"use strict";var t,n,o,i,r,f,s,u,a,c,l,p,d,h,m,y,v,g,b,_,B,T,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,f=e._decorator,s=e.Node,u=e.Vec3,a=e.macro,c=e.Label,l=e.UITransform,p=e.tween,d=e.Component},function(e){h=e.eventDispatcher},function(e){m=e.unbiasedTimer},function(e){y=e.AssetKeeper},function(e){v=e.default},function(e){g=e.EBuffType},function(e){b=e.buffTimelinessConfig},function(e){_=e.MEventNames},function(e){B=e.EGameBundles},function(e){T=e.GameTool},function(e){A=e.ResourceTool}],execute:function(){var C,N,R,E,P;r._RF.push({},"389893PaEdDf6yq98pxOTNh","HomePageBuffNode",void 0);var U=f.ccclass,D=f.property;e("HomePageBuffNode",(C=U("HomePageBuffNode"),N=D(s),C((P=t((E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),f=0;f<n;f++)r[f]=arguments[f];return t=e.call.apply(e,[this].concat(r))||this,o(t,"buffNode",P,i(t)),t._buffArray=[],t._pos_v3=new u,t}n(t,e);var r=t.prototype;return r.onDestroy=function(){h.offAllCaller(this)},r.onLoad=function(){h.on(_.homepageBuffRefresh,this,this.homepageBuffRefresh),this.node.children[0].active=!1,this.schedule(this.updateUI.bind(this),.5,a.REPEAT_FOREVER)},r.homepageBuffRefresh=function(e){var t=this.node.getComponent(y),n=this.getBuffData(e.type,e.source,e.value)||{type:e.type,source:e.source,value:e.value},o=n.node;if(!o){(o=v.instantiate(this.buffNode)).active=!0,this.node.addChild(o),n.node=o;var i="Res/Texture/UI/HomePage/ContactAd/";e.type==g.MoneyUp?i+="money_up1":e.type==g.HalveTime?i+="clock1":e.type==g.CustomerSpAdd&&(i="Res/Buff/buff_8"),A.setNodeSpriteFrame(B.LoadOnPlay,i,o.children[0],t),o.children[2].getComponent(c).string=this.fmtBuffValue(n.value),this._buffArray.push(n);var r=o.getComponent(l);this._pos_v3.set(r.width,0,0),p(o).delay(.1).by(.6,{position:this._pos_v3},{easing:"Elastic-Out"}).start()}this.updateUI()},r.fmtBuffValue=function(e){return e>=100?"x"+(e+100)/100:"+"+e+"%"},r.getBuffData=function(e,t,n){for(var o=0;o<this._buffArray.length;o++){var i=this._buffArray[o];if(e==i.type&&t==i.source&&n==i.value)return i}return null},r.updateUI=function(e){for(var t=m.now,n=0;n<this._buffArray.length;n++){var o=this._buffArray[n],i=b.getBuffTime(o.type,o.source);i>t?o.node.children[1].getComponent(c).string=T.getFmtTime((i-t)/1e3):(v.remove(o.node,!0),this._buffArray.splice(n,1),n--)}},t}(d)).prototype,"buffNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=E))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/HomePageContactAdView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./ContactAdConfig.ts","./EventUtility.ts","./GameTool.ts","./UIConfig.ts"],(function(t){"use strict";var i,e,n,o,s,a,c,r,u,h,d,f,l,g,v,p,b,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,c=t.Node,r=t.Vec3,u=t.UITransform,h=t.Label,d=t.tween,f=t.Component},function(t){l=t.eventDispatcher},function(t){g=t.uiManager},function(t){v=t.contactAdConfig},function(t){p=t.MEventNames},function(t){b=t.GameTool},function(t){m=t.MUIConfig}],execute:function(){var I,A,C,U,w;s._RF.push({},"46a45HmqjxDWpI+ZDXMzu6M","HomePageContactAdView",void 0);var y=a.ccclass,D=a.property;t("HomePageContactAdView",(I=y("HomePageContactAdView"),A=D(c),I((w=i((U=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,n(i,"bg",w,o(i)),i.timeLab=null,i.bgUITrans=null,i.curConfig=null,i.pos_v3=new r,i}e(i,t);var s=i.prototype;return s.onDestroy=function(){this.removeEvent()},s.addEvent=function(){l.on(p.contactAdRefresh,this,this.refreshUI),l.on(p.contactAdOver,this,this.contactAdOver)},s.removeEvent=function(){l.off(p.contactAdRefresh,this,this.refreshUI),l.off(p.contactAdOver,this,this.contactAdOver)},s.onLoad=function(){v.onInit(),this.bgUITrans=this.bg.getComponent(u),this.node.active=!1,this.addEvent(),this.updateUI(),this.schedule(this.updateUI.bind(this),.5)},s.refreshUI=function(){var t=v.configID,i=this.bg.children[t-1];this.bg.children.forEach((function(i,e){i.active=e==t-1})),this.timeLab=i.children[0].getComponent(h),v.duration>0&&(this.pos_v3.set(-this.bgUITrans.width,this.bg.position.y,this.bg.position.z),this.bg.setPosition(this.pos_v3),this.node.active=!0,this.pos_v3.set(0,0,0),d(this.bg).to(.6,{position:this.pos_v3},{easing:"Elastic-Out"}).start())},s.contactAdOver=function(){this.node.active=!1},s.clickNode=function(){var t=null;if(v.duration>0)switch(v.configID){case 1:case 2:t=m.ContactAdView;break;default:t=null}t&&(v.isPause=!0,g.openView(t))},s.updateUI=function(){this.node.active&&this.timeLab&&(v.duration>0?this.timeLab.string="("+b.getFmtTime(v.duration)+")":this.node.active=!1)},i}(f)).prototype,"bg",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=U))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/HomePageFoodCarnivalView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./FoodCarnivalMgr.ts","./EventUtility.ts","./GameUtility.ts","./GameTool.ts","./ResourceTool.ts","./UIConfig.ts"],(function(e){"use strict";var t,i,n,o,a,r,s,l,c,u,f,v,h,g,d,p,b,m,C,w,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Node,l=e.Label,c=e.Vec3,u=e.UITransform,f=e.tween,v=e.Component},function(e){h=e.eventDispatcher},function(e){g=e.LocalizationHelper},function(e){d=e.uiManager},function(e){p=e.foodCarnivalMgr},function(e){b=e.MEventNames},function(e){m=e.EGameBundles},function(e){C=e.GameTool},function(e){w=e.ResourceTool},function(e){I=e.MUIConfig}],execute:function(){var _,y,L,T,U,F,E,P,z,D,H;a._RF.push({},"ded54vrY6tOjLn4XH/0X9YX","HomePageFoodCarnivalView",void 0);var V=r.ccclass,O=r.property;e("HomePageFoodCarnivalView",(_=V("HomePageFoodCarnivalView"),y=O(s),L=O(s),T=O(l),U=O(l),_((P=t((E=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"bg",P,o(t)),n(t,"icon",z,o(t)),n(t,"name_Lab",D,o(t)),n(t,"time_Lab",H,o(t)),t.bgUITrans=null,t.curConfig=null,t.pos_v3=new c,t}i(t,e);var a=t.prototype;return a.onEnable=function(){},a.onDisable=function(){},a.onDestroy=function(){this.removeEvent()},a.addEvent=function(){h.on(b.foodCarnivalRefresh,this,this.refreshUI),h.on(b.foodCarnivalOver,this,this.foodCarnivalOver)},a.removeEvent=function(){h.off(b.foodCarnivalRefresh,this,this.refreshUI),h.off(b.foodCarnivalOver,this,this.foodCarnivalOver)},a.onLoad=function(){p.onInit(),this.bgUITrans=this.bg.getComponent(u)},a.start=function(){this.addEvent(),this.updateUI(),this.schedule(this.updateUI.bind(this),.5)},a.refreshUI=function(){var e=this;this.name_Lab.string=g.getString(p.config.Name),w.setNodeSpriteFrame(m.LoadOnPlay,"Res/Texture/UI/HomePage/FoodCarnival/event_icon"+p.configID,this.icon,this.node),(p.duration>0||p.eventTime>0)&&(this.pos_v3.set(-this.bgUITrans.width,this.bg.position.y,this.bg.position.z),this.bg.setPosition(this.pos_v3),this.bg.active=!0,f(this.bg).call((function(){e.pos_v3.set(0,0,0)})).to(.6,{position:this.pos_v3},{easing:"Elastic-Out"}).start())},a.foodCarnivalOver=function(){this.bg.active=!1},a.clickNode=function(){var e=null;if(p.duration>0||p.eventTime>0)switch(p.configID){case 1:e=I.FoodCarnivalView;break;case 2:e=I.LuckyTurntableView}else if(p.isCompeletStatus)switch(p.configID){case 1:e=I.FoodCarnivalRewardView}e&&(p.isPause=!0,d.openView(e))},a.updateUI=function(){this.bg.active&&(p.duration>0?this.time_Lab.string="("+C.getFmtTime(p.duration)+")":p.eventTime>0?this.time_Lab.string="("+C.getFmtTime(p.eventTime)+")":p.isCompeletStatus?this.time_Lab.string=g.getString("71_12"):this.bg.active=!1)},t}(v)).prototype,"bg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(E.prototype,"icon",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(E.prototype,"name_Lab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(E.prototype,"time_Lab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=E))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/HomePageView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UnbiasedTime.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./FacilityConfig.ts","./FoodConfig.ts","./ItemConfig.ts","./PurchaseGiftConfig.ts","./SignConfig.ts","./StaffConfig.ts","./StarConfig.ts","./TaskConfig.ts","./NoviceGuideMgr.ts","./AreaTool.ts","./FacilityTool.ts","./ShopInfoMgr.ts","./Lobby.ts","./LobbyCameraControl.ts","./LobbyRoomData.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./GoogleBilling.ts","./SDKInfoMgr.ts","./AudioTool.ts","./GameTool.ts","./ResourceTool.ts","./UITool.ts","./UIConfig.ts","./TopItemPrefab.ts"],(function(e){"use strict";var i,t,n,o,r,a,s,c,u,l,h,f,g,m,p,d,b,S,w,B,k,y,v,I,_,V,T,A,C,R,N,P,M,z,x,D,L,G,H,F,E,O,U,W,j,K,Q,q;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,c=e.Label,u=e.Sprite,l=e.sp,h=e.UITransform,f=e.tween,g=e.v3},function(e){m=e.eventDispatcher},function(e){p=e.unbiasedTimer},function(e){d=e.dataTableManager},function(e){b=e.LocalizationHelper},function(e){S=e.uiManager},function(e){w=e.UIView},function(e){B=e.facilityConfig},function(e){k=e.foodConfig},function(e){y=e.EItemEnum},function(e){v=e.purchaseGiftConfig},function(e){I=e.signConfig},function(e){_=e.staffConfig},function(e){V=e.starConfig},function(e){T=e.taskConfig},function(e){A=e.NoviceGuideMgr,C=e.EGuideStep,R=e.EGuideClickEnum},function(e){N=e.AreaTool},function(e){P=e.FacilityTool},function(e){M=e.ShopInfoMgr},function(e){z=e.Lobby},function(e){x=e.LobbyCameraControl},function(e){D=e.ELobbyRoomId},function(e){L=e.EDataTables},function(e){G=e.MEventNames},function(e){H=e.EGameBundles},function(e){F=e.googleBillinger},function(e){E=e.SDKInfoMgr},function(e){O=e.AudioTool,U=e.ESoundType},function(e){W=e.GameTool},function(e){j=e.ResourceTool},function(e){K=e.UITool},function(e){Q=e.MUIConfig},function(e){q=e.TopItemPrefab}],execute:function(){var J,Y,X,Z,$,ee,ie,te,ne,oe,re,ae,se,ce,ue,le,he,fe,ge,me,pe,de,be,Se,we,Be,ke,ye,ve,Ie,_e,Ve,Te,Ae,Ce,Re,Ne,Pe,Me,ze,xe,De,Le,Ge,He,Fe,Ee,Oe,Ue,We,je,Ke,Qe,qe,Je,Ye,Xe,Ze,$e,ei,ii,ti,ni;r._RF.push({},"96104AF0YlJ/5xg3b2b1DCI","HomePageView",void 0);var oi=a.ccclass,ri=a.property,ai=["0,0","-1,0","0,-1","0,1","1,0"];e("HomePageView",(J=oi("HomePageView"),Y=ri(s),X=ri(s),Z=ri([s]),$=ri([s]),ee=ri([s]),ie=ri([s]),te=ri(c),ne=ri(u),oe=ri(u),re=ri([s]),ae=ri(s),se=ri(s),ce=ri(l.Skeleton),ue=ri(l.Skeleton),le=ri(l.Skeleton),he=ri(s),fe=ri(c),ge=ri(c),me=ri(c),pe=ri(s),de=ri(s),be=ri(s),Se=ri(s),we=ri(s),Be=ri(s),ke=ri(s),ye=ri(c),ve=ri(s),Ie=ri(s),_e=ri(s),J((Ae=i((Te=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,n(i,"sceneMenu",Ae,o(i)),n(i,"sceneMenuBtn",Ce,o(i)),n(i,"sceneNodeArr",Re,o(i)),n(i,"menuBtnArr",Ne,o(i)),n(i,"funBtnArr",Pe,o(i)),n(i,"funPosArr",Me,o(i)),n(i,"curSceneName",ze,o(i)),n(i,"curSceneIcon",xe,o(i)),n(i,"duanwei",De,o(i)),n(i,"starArr",Le,o(i)),n(i,"taskNode",Ge,o(i)),n(i,"taskOkAnim",He,o(i)),n(i,"taskSpine",Fe,o(i)),n(i,"roomSpine",Ee,o(i)),n(i,"shopSpine",Oe,o(i)),n(i,"topBg",Ue,o(i)),n(i,"facilityScore",We,o(i)),n(i,"serveScore",je,o(i)),n(i,"menuScore",Ke,o(i)),n(i,"btnNode1",Qe,o(i)),n(i,"btnNode2",qe,o(i)),n(i,"btnNode3",Je,o(i)),n(i,"showBtn",Ye,o(i)),n(i,"helpBtn",Xe,o(i)),n(i,"signRed",Ze,o(i)),n(i,"rightBtnLayout",$e,o(i)),n(i,"giftTimeLab",ei,o(i)),n(i,"debugBtn",ii,o(i)),n(i,"giftNode",ti,o(i)),n(i,"homeRed",ni,o(i)),i.m_curSMenuOpen=!1,i.m_actionList=[],i.m_isDoing=!1,i.m_curSceneIndex=0,i.m_CameraCtr=void 0,i.m_RoomIndex=void 0,i}t(i,e);var r=i.prototype;return r.onLoad=function(){this.m_CameraCtr=x.instance,this.m_RoomIndex=z.RoomIndex,z.instance.initHouseOffset(this.menuBtnArr[1]),this.debugBtn.active=!1,globalThis.debugtest.showDebugBtn&&(this.debugBtn.active=!0)},r.onOpen=function(){this.showBtn.active=!1,this.sceneMenu.setScale(0,1,1),this.refreshSceneBtn(),this.refreshCurStar(),this.isShowTaskBtn(),this.roomBtnAnim(),this.shopBtnAnim(),j.addTopItemPrefab(this.topBg,(function(e,i){i.getComponent(q).setData({data:[y.diamond,y.money],dir:0,isHomePage:!0})})),this.refreshScore(1),this.refreshScore(2),this.refreshScore(3),this.updateSceneBtn(this.m_CameraCtr.m_RoomIndex),this.isShowSignRed(),this.refreshGift(),m.on(G.HomeTaskBtnShow,this,this.isShowTaskBtn),m.on(G.HomeRefreshScore,this,this.refreshScore),m.on(G.ChangeRoom,this,this.updateSceneBtn),m.on(G.GameChangeStar,this,this.refreshCurStar),m.on(G.guideClick,this,this.guideClick),m.on(G.refreshGuildPos,this,this.refreshGuildPos),m.on(G.openRenovation,this,this.openRenovation),m.on(G.RefreshRed,this,this.isShowSignRed),m.on(G.RefreshRoomAnim,this,this.roomBtnAnim),m.on(G.RefreshShopAnim,this,this.shopBtnAnim),m.on(G.homePageFunctionBtn,this,this.refreshFunctionBtn),m.on(G.RefreshHomeRed,this,this.refreshBuildRed),m.on(G.RefreshItemNumber,this,this.refreshBuildRed),m.on(G.GameChangeStar,this,this.refreshBuildRed),this.schedule(this.updateUI.bind(this),.5),F.queryPurchases((function(e){for(var i=[],t=0;t<e.length;t++)E.rechargeSuccess(e[t].productId,!0),i.push(e[t].orderId);i.length>0&&F.consumeAsync(i)}))},r.updateUI=function(){A.instance.checkNoviceGuide(C.Guide_Phonograph),v.triggerData[v.timeTriggerID].endTime-p.now>0&&!v.triggerData[v.timeTriggerID].hasBuy?(this.giftTimeLab.node.parent.active=!0,this.giftTimeLab.string=W.getFmtTime((v.triggerData[v.timeTriggerID].endTime-p.now)/1e3,"h")):this.giftTimeLab.node.parent.active=!1},r.onClose=function(){m.offAllCaller(this)},r.refreshBuildRed=function(){1==this.m_curSceneIndex?this.homeRed.active=N.instance.getIsBuyVec(5):3==this.m_curSceneIndex?this.homeRed.active=N.instance.getIsBuyVec(1):this.homeRed.active=!1},r.refreshScore=function(e){switch(e){case 1:this.facilityScore.string=B.getFacilityScore()+"";break;case 2:this.serveScore.string=_.get_all_person_score()+"";break;case 3:this.menuScore.string=k.getFoodScore()+""}},r.updateSceneBtn=function(e){var i=ai.indexOf(e.x+","+e.y);this.m_curSceneIndex=i,this.refreshSceneBtn(),z.instance.getViewRoom()==D.LobbyOutside?this.giftNode.setPosition(430,490,0):this.giftNode.setPosition(430,300,0)},r.refreshCurStar=function(){var e=V.getCurStarDic();j.setSpriteFrame(H.LoadOnPlay,"Res/Texture/UI/HomePage/duanwei_"+e.Icon,this.duanwei,this);var i=e.Star%3;0==i&&0!=e.Star&&(i=3);for(var t=0;t<this.starArr.length;t++)this.starArr[t].active=t<i},r.refreshSceneBtn=function(){if(this.curSceneName.string=b.getString(["3_2","3_3","3_5","3_1","3_4"][this.m_curSceneIndex]),j.setSpriteFrame(H.LoadOnPlay,"Res/Texture/UI/HomePage/scene_icon_1_"+this.m_curSceneIndex,this.curSceneIcon,this),0==this.m_curSceneIndex){this.sceneMenu.getComponent(h).setContentSize(600,115);for(var e=0;e<this.sceneNodeArr.length;e++)e==this.m_curSceneIndex?this.sceneNodeArr[e].active=!1:this.sceneNodeArr[e].active=!0}else{this.sceneMenu.getComponent(h).setContentSize(300,115);for(var i=0;i<this.sceneNodeArr.length;i++)this.sceneNodeArr[i].active=!1;this.sceneNodeArr[0].active=!0}this.refreshFunctionBtn(),this.refreshBuildRed()},r.isShowSignRed=function(){this.signRed.active=I.canGetReward()},r.refreshGift=function(){var e=this.rightBtnLayout;[1004].forEach((function(i){e.getChildByName(i+"")&&(e.getChildByName(i+"").active=v.canGetReward(1001)>0)}));[].forEach((function(i){e.getChildByName(i+"")&&(e.getChildByName(i+"").active=v.canGetReward(1001)>0)}))},r.roomBtnAnim=function(){},r.shopBtnAnim=function(){M.instance.currencyMgr.checkHasReward(!0)?(this.shopSpine.clearTracks(),this.shopSpine.setAnimation(0,"animation",!0)):this.shopSpine.clearTracks()},r.refreshFunctionBtn=function(e){if(1!=this.m_curSceneIndex&&3!=this.m_curSceneIndex)for(var i=0;i<this.funBtnArr.length;i++)this.funBtnArr[i].active=!0;for(var t=[39,40,41],n=d.getDataTable(L.Constant),o=0;o<t.length;o++)T.curTaskId>=n[t[o]].Value?this.funBtnArr[o].active=!0:this.funBtnArr[o].active=!1;if(1==this.m_curSceneIndex||3==this.m_curSceneIndex)for(var r=0;r<this.funBtnArr.length;r++)this.funBtnArr[r].active=!1;e&&(this.funBtnArr[e].active=!0)},r.isShowTaskBtn=function(){if(T.getCurTaskDic()){this.taskNode.active=!0;var e=T.getProData();e[0]>=e[1]?(this.taskOkAnim.active=!0,this.taskSpine.clearTracks(),this.taskSpine.setAnimation(0,"liuguang",!0)):(this.taskOkAnim.active=!1,this.taskSpine.clearTracks(),this.taskSpine.setAnimation(0,"loop",!0))}else this.taskNode.active=!1},r.sceneMenuAction=function(){var e=this;this.m_isDoing||this.m_actionList.length>0&&(this.m_isDoing=!0,this.m_actionList.shift()?f(this.sceneMenu).to(.15,{scale:g(0,1,1)}).call((function(){e.m_isDoing=!1,e.sceneMenuAction()})).start():f(this.sceneMenu).to(.15,{scale:g(1,1,1)}).call((function(){e.m_isDoing=!1,e.sceneMenuAction(),A.instance.isNeedShowNoviceView(C.Guide_GameBegin)})).start())},r.refreshGuildPos=function(e){if(e.click==R.homePage)switch(e.itemIndex){case-2:this.sceneMenuBtn.getWorldPosition(K.instance.guideHandWorldPos);break;case 3:this.sceneNodeArr[0].getWorldPosition(K.instance.guideHandWorldPos);break;case-8:this.taskNode.getWorldPosition(K.instance.guideHandWorldPos);break;case-9:this.menuBtnArr[4].getWorldPosition(K.instance.guideHandWorldPos);break;case-10:this.menuBtnArr[3].getWorldPosition(K.instance.guideHandWorldPos)}else e.click==R.functionBtn&&this.funPosArr[e.itemIndex].getWorldPosition(K.instance.guideHandWorldPos)},r.guideClick=function(e){if(e.click==R.homePage)switch(e.itemIndex){case-2:this.clickSceneMenuBtn();break;case 3:this.clickSceneBtn(null,"2");break;case-8:this.clickTaskBtn();break;case-9:S.openView(Q.ResearchView,null,0);break;case-10:S.openView(Q.StaffView)}},r.clickSceneMenuBtn=function(){this.m_actionList.push(this.m_curSMenuOpen),this.m_curSMenuOpen=!this.m_curSMenuOpen,this.sceneMenuAction()},r.clickSceneBtn=function(e,i){O.play(U.ui_click);var t=parseInt(i)-1;this.m_curSceneIndex=t,this.refreshSceneBtn(),this.m_actionList.push(!0),this.m_curSMenuOpen=!1,this.sceneMenuAction();var n=this.m_RoomIndex[t];this.m_CameraCtr.jumpToRoom(n.x,n.y)},r.openRenovation=function(){S.openView(Q.RenovationView,null,[1,2,4,0,3][this.m_curSceneIndex])},r.clickBottomMenuBtn=function(e,i){switch(parseInt(i)){case 1:if(1==this.m_curSceneIndex){var t=N.instance.QuickBuy[4];S.openView(Q.FastBuyView,null,4,P.instance.getNextLockId(t[0]))}else if(3==this.m_curSceneIndex){var n=N.instance.QuickBuy[1];S.openView(Q.FastBuyView,null,1,P.instance.getNextLockId(n[0]))}else this.openRenovation();break;case 2:S.openView(Q.WarehouseView);break;case 3:S.openView(Q.MenuView);break;case 4:S.openView(Q.StaffView);break;case 5:S.openView(Q.ResearchView,null,0);break;case 6:S.openView(Q.ShopView)}},r.clickTaskBtn=function(){S.openView(Q.TaskPageView)},r.clickDuanweiBtn=function(){S.openView(Q.StarInfoView)},r.clickStoreBtn=function(){S.openView(Q.TipView,null,{content:b.getString("13_10")}),S.openView(Q.RenovationView)},r.clickEmployBtn=function(){S.openView(Q.TipView,null,{content:b.getString("13_11")}),S.openView(Q.StaffView)},r.clickMenuBtn=function(){S.openView(Q.TipView,null,{content:b.getString("13_12")}),S.openView(Q.MenuView)},r.clickGemBtn=function(){S.openView(Q.ShopDepotView)},r.clickGoldBtn=function(){S.openView(Q.ShopDepotView)},r.clickHideBtn=function(){this.showBtn.active=!0,this.btnNode1.active=!1,this.btnNode2.active=!1,this.btnNode3.active=!1},r.clickShowBtn=function(){O.play(U.ui_click),this.showBtn.active=!1,this.btnNode1.active=!0,this.btnNode2.active=!0,this.btnNode3.active=!0},r.clickSettingBtn=function(){O.play(U.ui_click),S.openView(Q.SettingView)},r.clickHelpBtn=function(){O.play(U.ui_click),S.openView(Q.ExplainView)},r.clickCaptureBtn=function(){S.openView(Q.FoodillustrationView)},r.clickSignBtn=function(){S.openView(Q.SignView)},r.clickTestBtn=function(){S.openView(Q.DebugTestView)},r.clickGift=function(e){var i=null;switch(Number(e.target.name)){case 1005:i=Q.PurchaseGiftView1005}i&&S.openView(i)},i}(w)).prototype,"sceneMenu",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=i(Te.prototype,"sceneMenuBtn",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=i(Te.prototype,"sceneNodeArr",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=i(Te.prototype,"menuBtnArr",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=i(Te.prototype,"funBtnArr",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=i(Te.prototype,"funPosArr",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=i(Te.prototype,"curSceneName",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=i(Te.prototype,"curSceneIcon",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=i(Te.prototype,"duanwei",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=i(Te.prototype,"starArr",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=i(Te.prototype,"taskNode",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=i(Te.prototype,"taskOkAnim",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=i(Te.prototype,"taskSpine",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=i(Te.prototype,"roomSpine",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=i(Te.prototype,"shopSpine",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=i(Te.prototype,"topBg",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=i(Te.prototype,"facilityScore",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=i(Te.prototype,"serveScore",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=i(Te.prototype,"menuScore",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=i(Te.prototype,"btnNode1",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=i(Te.prototype,"btnNode2",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=i(Te.prototype,"btnNode3",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=i(Te.prototype,"showBtn",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=i(Te.prototype,"helpBtn",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=i(Te.prototype,"signRed",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=i(Te.prototype,"rightBtnLayout",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ei=i(Te.prototype,"giftTimeLab",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ii=i(Te.prototype,"debugBtn",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ti=i(Te.prototype,"giftNode",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ni=i(Te.prototype,"homeRed",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=Te))||Ve));r._RF.pop()}}}));

System.register("chunks:///_virtual/HomePageViewEventNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./LobbyUtility.ts","./GameTool.ts","./UIConfig.ts"],(function(t){"use strict";var e,i,n,o,r,s,a,m,c,l,u,h,f,g,d,p,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Node,m=t.Label,c=t.v3,l=t.UITransform,u=t.tween,h=t.Component},function(t){f=t.eventDispatcher},function(t){g=t.uiManager},function(t){d=t.MLobbyEvent},function(t){p=t.GameTool},function(t){v=t.MUIConfig}],execute:function(){var _,b,T,y,w,C,E,I;r._RF.push({},"c2a76OUReFK1549R6Tho+g9","HomePageViewEventNode",void 0);var L=s.ccclass,N=s.property;t("HomePageViewEventNode",(_=L("HomePageViewEventNode"),b=N(a),T=N(m),_((C=e((w=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"eventId",C,o(e)),n(e,"bgNode",E,o(e)),n(e,"timeLab",I,o(e)),e.m_BgWidth=0,e.m_Config=void 0,e.m_Time=0,e.m_Vec0=c(),e.m_Timer0=0,e}i(e,t);var r=e.prototype;return r.onLoad=function(){var t=this;this.node.active=!1,this.m_BgWidth=this.bgNode.getComponent(l).width,f.on(d.EventStart,this,(function(e){e.Id==t.eventId&&(t.m_Config=e,t.init())})),f.on(d.EventComplete,this,(function(e){e==t.eventId&&(t.node.active=!1)}))},r.onDestroy=function(){f.offAllCaller(this)},r.onDisable=function(){this.m_Config=null,this.m_Time=0},r.update=function(t){this.m_Timer0+=t,this.m_Timer0>=1&&(this.m_Timer0=0,this.longUpdate())},r.longUpdate=function(){this.m_Time>1?(this.m_Time--,this.timeLab.string=p.getFmtTime(this.m_Time)):this.node.active=!1},r.init=function(){var t=this.bgNode,e=this.m_Vec0;e.set(),this.m_Timer0=0,t.setPosition(-this.m_BgWidth,0,0),this.m_Time=this.m_Config.Duration-3,this.timeLab.string=p.getFmtTime(this.m_Time),this.node.active=!0,u(t).to(.6,{position:e},{easing:"elasticOut"}).start()},r.onEventClick=function(){g.openView(v.PersonalEventView,null,this.m_Config)},e}(h)).prototype,"eventId",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),E=e(w.prototype,"bgNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(w.prototype,"timeLab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=w))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/HomePageViewFlyerNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./BillingConfig.ts","./Lobby.ts","./LobbyRoomData.ts","./DataTable.ts","./EventUtility.ts","./GoogleAdMob.ts"],(function(e){"use strict";var t,i,n,l,o,a,r,u,s,b,c,f,y,g,d,p,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,r=e.Node,u=e.Label,s=e.Component},function(e){b=e.eventDispatcher},function(e){c=e.dataTableManager},function(e){f=e.billingConfig},function(e){y=e.Lobby},function(e){g=e.ELobbyRoomId},function(e){d=e.EDataTables},function(e){p=e.MEventNames},function(e){v=e.googleAdMober}],execute:function(){var h,L,m,A,w,B,C,D,V,_,F,H,z;o._RF.push({},"e639akf8lpIup93VgcEauyl","HomePageViewFlyerNode",void 0);var R=a.ccclass,T=a.property;e("HomePageViewFlyerNode",(h=R("HomePageViewFlyerNode"),L=T(r),m=T(r),A=T(u),w=T(u),B=T(u),h((V=t((D=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"flyerBtn",V,l(t)),n(t,"flyerAdBtn",_,l(t)),n(t,"flyerHaveLab",F,l(t)),n(t,"flyerAllLab",H,l(t)),n(t,"flyerAdLab",z,l(t)),t.m_Lobby=void 0,t}i(t,e);var o=t.prototype;return o.start=function(){this.m_Lobby=y.instance,this.initBtnActive(),b.on("billingConfig._flyerCount",this,this.initBtnActive),b.on(p.ChangeRoom,this,this.initBtnActive)},o.onDestroy=function(){this.m_Lobby=null,b.offAllCaller(this)},o.initBtnActive=function(){var e,t,i=f.flyerCount,n=this.m_Lobby.getViewRoom()==g.LobbyOutside;this.flyerBtn.active=n&&i>0,this.flyerAdBtn.active=n&&i<=0;var l=c.getDataTable(d.Constant),o=(null==(e=l[42])?void 0:e.Value)||10,a=(null==(t=l[44])?void 0:t.Value)||15;this.flyerAllLab.string="/"+o,this.flyerHaveLab.string=i+"",this.flyerAdLab.string="+"+a},o.onFlyerAdClick=function(){v.showRewardedAd((function(e){var t,i=(null==(t=c.getDataTable(d.Constant)[44])?void 0:t.Value)||15;f.addFlyerCount(i)}))},t}(s)).prototype,"flyerBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(D.prototype,"flyerAdBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(D.prototype,"flyerHaveLab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(D.prototype,"flyerAllLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(D.prototype,"flyerAdLab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=D))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/IMapRoad.ts",["cc"],(function(){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"dcf2cGy8JVGiqaHg5i8wrnA","IMapRoad",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/InitialUnlockNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./StarConfig.ts","./RegionTool.ts","./EventUtility.ts","./UIConfig.ts","./ConstructBase.ts"],(function(t){"use strict";var n,i,e,o,a,r,s,l,c,u,f,p,h,g,m,d,b;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Label,l=t.Node,c=t.Component},function(t){u=t.eventDispatcher},function(t){f=t.LocalizationHelper},function(t){p=t.uiManager},function(t){h=t.starConfig},function(t){g=t.RegionTool},function(t){m=t.MEventNames},function(t){d=t.MUIConfig},function(t){b=t.EConstructName}],execute:function(){var v,_,S,I,k,y,N,C,T;a._RF.push({},"923eeHWN1FAtZVOFcz2TlQn","InitialUnlockNode",void 0);var U=r.ccclass,L=r.property;t("InitialUnlockNode",(v=U("InitialUnlockNode"),_=L(s),S=L(s),I=L(l),v((N=n((y=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,e(n,"statTips",N,o(n)),e(n,"msTips",C,o(n)),e(n,"btnNode",T,o(n)),n.m_id=null,n.m_tipsId=0,n.m_unlockStat=0,n.Path="",n}i(n,t);var a=n.prototype;return a.onEnable=function(){u.on(m.GameChangeStar,this,this.setMsLabel)},a.onDisable=function(){u.off(m.GameChangeStar,this,this.setMsLabel)},a.initUnlockNode=function(t,n){this.m_id=t,this.m_tipsId=n>0?n-1:n;var i=g.instance.getRegionData(t);if(i){var e=i.Star;this.m_unlockStat=e,this.statTips.string=h.getStarNameByStar(e),this.setMsLabel()}},a.onUnlockCallback=function(){if(h.getStar()>=this.m_unlockStat){var t=this.m_id==b.Auditorium?4:3;p.openView(d.RenovationView,null,t,this.m_tipsId)}else p.openView(d.StarInfoView,null,this.m_unlockStat)},a.setMsLabel=function(){var t="1_25",n=h.getStar()>=this.m_unlockStat;n&&(t="38_5"),this.setBtnIcon(n),this.msTips.string=f.getString(t)},a.setBtnIcon=function(t){for(var n=t?0:1,i=this.btnNode.children,e=0;e<2;e++)i[e].active=e===n},n}(c)).prototype,"statTips",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(y.prototype,"msTips",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(y.prototype,"btnNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=y))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/IRoadSeeker.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1c7eawzmIhMA73Dr65X2h4v","IRoadSeeker",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ItemConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./Configable.ts","./EventBuiltin.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./UITool.ts","./UIConfig.ts","./OfflineEarningsConfig.ts","./WarehouseConfig.ts"],(function(e){"use strict";var t,n,o,i,r,a,u,m,s,f,c,l,g,I,d,h,v;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator},function(e){i=e.default},function(e){r=e.configName,a=e.default},function(e){u=e.eventDispatcher},function(e){m=e.dataTableManager},function(e){s=e.LocalizationHelper},function(e){f=e.uiManager},function(e){c=e.EDataTables},function(e){l=e.MEventNames},function(e){g=e.EGameBundles},function(e){I=e.UITool},function(e){d=e.MUIConfig},function(e){h=e.offlineEarningsConfig},function(e){v=e.warehouseConfig}],execute:function(){var y;e("EItemEnum",void 0),n._RF.push({},"c8aadhskb1JUYGyAGuykObE","ItemConfig",void 0);var p;o.ccclass,o.property;!function(e){e[e.money=30]="money",e[e.diamond=31]="diamond",e[e.worker_book=33]="worker_book",e[e.clover=34]="clover",e[e.game_ticket=57]="game_ticket",e[e.cake=58]="cake",e[e.power=59]="power",e[e.shop_score=60]="shop_score",e[e.money_up=61]="money_up",e[e.money_offline=62]="money_offline",e[e.money_event=63]="money_event",e[e.sour=106]="sour",e[e.sweet=206]="sweet",e[e.bitter=306]="bitter",e[e.spicy=406]="spicy",e[e.salty=506]="salty",e[e.food0=600]="food0",e[e.food1=601]="food1",e[e.food2=602]="food2"}(p||(p=e("EItemEnum",{})));var _=r("itemConfig")(y=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).m_ItemNumData={30:1e3},t.m_warehouseArr=new Array(48).fill(0),t}t(n,e);var o=n.prototype;return o.addItem=function(e,t,n){if(void 0===n&&(n=!1),!this.getDic(e))return!1;var o=m.getData(c.Item,e);if(this.m_ItemNumData[e]||(this.m_ItemNumData[e]=0),e==p.money_up);else if(e==p.money_offline){var r=Math.floor(t*h.minuteEarning);this.addItem(p.money,r)}else if(0==o.Sale){if(!(t>0))return i.error("add item value <= 0!"),!1;this.m_ItemNumData[e]+=t;var a=m.getData(c.Item,e),g=s.getString(a.Name);n&&f.openView(d.TipView,null,{content:g+"+"+t}),e==p.power&&u.event(l.RefreshRoomAnim)}else for(var I=0;I<t;I++){if(!v.getNewItem(e))return f.openView(d.TipView,null,{content:s.getString("17_4")}),!1}return u.event(l.RefreshItemNumber),!0},o.useItem=function(e,t,n){if(void 0===n&&(n=0),0==m.getData(c.Item,e).Sale){if(!this.getDic(e))return!1;if(!this.itemEnough(e,t)){if(n){var o="";e==p.money?o=s.getString("1_17"):e==p.diamond&&(o=s.getString("1_18"),f.openView(d.PurchaseDiamondView)),o&&f.openView(d.TipView,null,{content:o})}return!1}return this.m_ItemNumData[e]-=t,u.event(l.RefreshItemNumber),!0}return v.clearItems(e,t),!0},o.addMoney=function(e,t){void 0===t&&(t=!1),t&&(I.instance.showItemGetAni({itemId:p.money,count:e}),u.event(l.RefreshItemNumber,{count:e})),this.addItem(p.money,e)},o.getDic=function(e){return m.getData(c.Item,e)},o.getWarehouseArr=function(){return this.m_warehouseArr},o.getItemNum=function(e,t){void 0===t&&(t=0);var n=this.m_ItemNumData[e]||0;return e==p.money_offline&&(n=Math.floor(t*h.minuteEarning)),n},o.itemEnough=function(e,t){return 0==m.getData(c.Item,e).Sale?this.getItemNum(e)>=t:v.getItemNum(e)>=t},o.getItemName=function(e){return s.getString(this.getDic(e).Name)},o.getIconBundleName=function(){return g.LoadOnPlay},o.getItemIconUrl=function(e){var t=this.getDic(e);return t?"Res/Texture/UI/Public/Item/item_"+t.Id:""},o.onInit=function(e){null==this.m_ItemNumData[p.power]&&this.addItem(p.power,30)},o.updateEventMenory=function(e){this.m_ItemNumData[p.money_event]=e},o.emitCensus=function(e){u.event(l.updateMoneryCensus,{count:e,source:"money_offline"})},n}(a))||y;e("itemConfig",new _);n._RF.pop()}}}));

System.register("chunks:///_virtual/ItemData.ts",["cc","./DataTableManager.ts","./LocalizationHelper.ts","./FoodConfig.ts","./ItemConfig.ts","./DataTable.ts"],(function(t){"use strict";var i,e,n,a,o,s;return{setters:[function(t){i=t.cclegacy},function(t){e=t.dataTableManager},function(t){n=t.LocalizationHelper},function(t){a=t.foodConfig},function(t){o=t.itemConfig},function(t){s=t.EDataTables}],execute:function(){var c;t("EItemType",void 0),i._RF.push({},"a1911V9ZVZGm59SXyNp9qKE","ItemData",void 0),function(t){t[t.item=0]="item",t[t.food=1]="food",t[t.skin=2]="skin"}(c||(c=t("EItemType",{})));t("ItemData",function(){function t(t,i,e){void 0===i&&(i=0),void 0===e&&(e=c.item),this.id=0,this.num=0,this.type=c.item,this.config=null,this.id=t,this.num=i,this.type=e}var i=t.prototype;return i.set=function(t,i){void 0===i&&(i=0),this.id=t,this.num=i},i.setType=function(t){this.type=t},i.getItemName=function(){var t="";switch(this.type){case c.food:var i=a.getFoodDic(this.id);t=n.getString(i.Name);break;case c.skin:var r=e.getData(s.Skin,this.id);t=n.getString(r.Des);break;default:var u=o.getDic(this.id);t=n.getString(u.Name)}return t},i.getSpriteUrl=function(){var t="";switch(this.type){case c.food:t=a.getUIIcon(this.id);break;case c.skin:t="Res/Texture/UI/SkinIcon/"+e.getData(s.Skin,this.id).Icon;break;default:t=o.getItemIconUrl(this.id)}return t},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/ItemMgr.ts",["cc"],(function(t){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"173ccCP4D9O5qBriGp+78BI","ItemMgr",void 0);t("ItemMgr",(function(){}));c._RF.pop()}}}));

System.register("chunks:///_virtual/ItemPrefab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationHelper.ts","./ItemConfig.ts","./ItemData.ts","./GameUtility.ts","./ResourceTool.ts"],(function(t){"use strict";var e,i,n,a,r,o,s,u,c,l,m,p,h,f,b,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.Sprite,u=t.Label,c=t.v3,l=t.Component},function(t){m=t.LocalizationHelper},function(t){p=t.EItemEnum},function(t){h=t.ItemData,f=t.EItemType},function(t){b=t.EGameBundles},function(t){D=t.ResourceTool}],execute:function(){var d,y,I,L,g,S,v,P,z;r._RF.push({},"dbc76DjYsxCVZdEqP0TULfr","ItemPrefab",void 0);var U=o.ccclass,_=o.property;t("ItemPrefab",(d=U("ItemPrefab"),y=_(s),I=_(u),L=_(u),d((v=e((S=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"iconSprite",v,a(e)),n(e,"nameLab",P,a(e)),n(e,"numLab",z,a(e)),e.itemData=null,e}i(e,t);var r=e.prototype;return r.setID=function(t){this.itemData=new h(t),this.refreshUI()},r.setData=function(t){this.itemData=t,this.refreshUI()},r.resetData=function(t,e,i){void 0===i&&(i=f.item),this.itemData.id=t,this.itemData.num=e,this.itemData.type=i,this.refreshUI()},r.setNum=function(t){void 0===t&&(t=0),this.numLab&&(this.itemData.id==p.money_up?this.numLab.string=m.getString("72_3",[this.itemData.num]):this.numLab.string="x"+(t||this.itemData.num))},r.refreshUI=function(){this.iconSprite&&(D.setSpriteFrame(b.LoadOnPlay,this.itemData.getSpriteUrl(),this.iconSprite,this.node),this.itemData.type==f.food?this.iconSprite.node.scale=c(.6,.6,.6):this.iconSprite.node.scale=c(1,1,1)),this.nameLab&&(this.nameLab.string=this.itemData.getItemName()),this.setNum()},e}(l)).prototype,"iconSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(S.prototype,"nameLab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(S.prototype,"numLab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=S))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemTool.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"5d75fBKzDpN1ZPHWfQgVWiy","ItemTool",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/JsbTool.ts",["cc"],(function(t){"use strict";var o,e;return{setters:[function(t){o=t.cclegacy,e=t.sys}],execute:function(){o._RF.push({},"9afacerK1lP3JCXOi60dQZh","JsbTool",void 0);var c=t("JsbTool",function(){function t(){}return t.onGameInited=function(){this.m_GameInited||(this.m_GameInited=!0,this.m_Platform==e.Platform.ANDROID&&(this.countryStr=jsb.reflection.callStaticMethod("com/cocos/game/AppActivity","onGameInited","()Ljava/lang/String;")))},t.buglyTest=function(){this.m_Platform==e.Platform.ANDROID&&jsb.reflection.callStaticMethod("com/cocos/game/BuglySDK","testBugly","()V")},t}());c.m_Platform=e.platform,c.m_GameInited=!1,c.countryStr="",o._RF.pop()}}}));

System.register("chunks:///_virtual/JSUtils.ts",["cc","./Log.ts"],(function(r){"use strict";var t,n;return{setters:[function(r){t=r.cclegacy},function(r){n=r.default}],execute:function(){t._RF.push({},"b8cabeJxvJLAYkHuXPr0NEd","JSUtils",void 0);r("default",function(){function r(){}return r.clearMap=function(r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&delete r[t]},r.lerp=function(r,t,n){return r+(t-r)*n},r.zeroFill=function(r){return r<10?"0"+r:r+""},r.probRandom=function(r,t){if(r.length!=t.length)return n.error("Prob random error, src != dst."),null;for(var e=Math.random(),o=0,u=0;u<t.length;u++)o+=t[u];e*=o;for(var c=0,i=0;i<t.length;i++)if(e<(c+=t[i]))return r[i]},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/KitchenConstruct.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./AreaTool.ts","./EventUtility.ts","./Lobby.ts","./EffectCutNode.ts","./EffectWashTipNode.ts","./LobbyNode.ts","./LobbyUtility.ts","./StaffTaskQueue.ts","./ConstructBase.ts","./ConstructCookLocal.ts","./ConstructMgr.ts","./ConstructSideTable.ts","./FoodEnumConfig.ts","./KitchenCookMgr.ts","./SceneMemuMgr.ts"],(function(t){"use strict";var e,n,i,o,s,a,h,r,c,d,f,u,C,l,k,p,g,m,S,D,v,E,O,y,U,T,b,I,P;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.find,s=t.UITransform,a=t.Vec3},function(t){h=t.eventDispatcher},function(t){r=t.AreaTool},function(t){c=t.MEventNames},function(t){d=t.Lobby},function(t){f=t.EffectCutNode},function(t){u=t.EffectWashTipNode},function(t){C=t.LobbyNode},function(t){l=t.ELobbyLayer,k=t.MLobbyEvent,p=t.ELobbyServeDishes},function(t){g=t.EStaffTaskType},function(t){m=t.EConstructName,S=t.EStaffNameVec,D=t.ConstructBase},function(t){v=t.ConstructCookLocal},function(t){E=t.ConstructMgr},function(t){O=t.ConstructSideTable},function(t){y=t.ECookRect,U=t.EKitchenConstructName,T=t.ELocalConstruct},function(t){b=t.KitchenCookMgr},function(t){I=t.SceneMemuMgr,P=t.ESceneMenuData}],execute:function(){var N;n._RF.push({},"47c51h8mrJAwZx/trpqipxJ","KitchenConstruct",void 0);var A=i.ccclass;i.property,t("KitchenConstruct",A("KitchenConstruct")(N=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_IsWashShow=!1,e.m_tipsNode=null,e.m_CutEffect=[],e.m_restoreVec=["Caikuang","LeftCorner","CookBench"],e}e(n,t);var i=n.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this),E.instance.registerConstruct(m.Kitchen,this),this.registerUpdateConstruct("SideTable",this.UpdateSideTable),this.registerUpdateConstruct("Wash",this.UpdateAnyConstruct);var e=o("GameCanvas/SceneTip");this.m_tipsNode=e.getComponent(s)},i.start=function(){var t=this.m_ConstructMap.Initial;this.setScaleNode(t)},i.instartChild=function(t){l.Kitchen},i.AllRoomLoaded=function(){this.getStaffConfig(),this.registerConstruct(),this.registerCutEffect(),this.registerWashTipEffect(),this.registerLocalPos(),this.UpdateAreaUnlock(m.Kitchen)},i.registerConstruct=function(){var t=d.instance.getDynNode(l.Lobby);this.m_SortNode=t,this.registerCookFood(t,"CookFood")},i.registerCutEffect=function(){var t=this.m_ConstructMap.Effect;this.m_CutEffect=t.getComponentsInChildren(f);for(var e=0;e<this.m_CutEffect.length;e++)this.m_CutEffect[e].node.active=!1},i.registerWashTipEffect=function(){var t=this.m_ConstructMap.WashTip.getComponentInChildren(u);I.instance.registWashTipNode(t)},i.registerLocalPos=function(){var t=T.STREET;if(!r.instance.getUnlockSubId(t.Id)){var e=this.m_ConstructMap[t.Name];if(e)e.getComponent(v).registerLocalPos(t.ECook)}},i.initEvent=function(){h.on(k.InitDynamicNode,this,this.instartChild),h.on(k.AllRoomLoaded,this,this.AllRoomLoaded),h.on(k.OrderDished,this,this.OnOrderDished),h.on(k.ServeDishes,this,this.OnServeDishes),h.on(k.ServeDished,this,this.OnServeDishes),h.on(k.ClearEatTable,this,this.OnClearEatTable),h.on(k.CookingEnd,this,this.onCookingEnd),h.on(k.WashDishing,this,this.OnWashDishing),h.on(k.WashDished,this,this.OnWashDished),h.on(c.UpdateAreaUnlock,this,this.UpdateAreaUnlock),h.on(c.UpdateAllAreaUnlock,this,this.UpdateAllAreaUnlock),h.on(k.CutDishSpeedChange,this,this.CutDishSpeedChange),h.on(k.CookDishing,this,this.OnCookDishing),h.on(k.CookDished,this,this.OnCookDished),h.on(k.UpdateKithenCookCut,this,this.OnUpdateCutPos),h.on(k.QuickenCooking,this,this.OnQuickenCooking),h.on(k.ImmediatelyCookEnd,this,this.OnImmediatelyCookEnd),h.on(k.ImmediatelyDrinkId,this,this.OnCookDished)},i.removeEvent=function(){h.off(k.InitDynamicNode,this,this.instartChild),h.off(k.AllRoomLoaded,this,this.AllRoomLoaded),h.off(k.OrderDished,this,this.OnOrderDished),h.off(k.ServeDishes,this,this.OnServeDishes),h.off(k.ServeDished,this,this.OnServeDishes),h.off(k.ClearEatTable,this,this.OnClearEatTable),h.off(k.CookingEnd,this,this.onCookingEnd),h.off(k.WashDishing,this,this.OnWashDishing),h.off(k.WashDished,this,this.OnWashDished),h.off(c.UpdateAreaUnlock,this,this.UpdateAreaUnlock),h.off(c.UpdateAllAreaUnlock,this,this.UpdateAllAreaUnlock),h.off(k.CutDishSpeedChange,this,this.CutDishSpeedChange),h.off(k.CookDishing,this,this.OnCookDishing),h.off(k.CookDished,this,this.OnCookDished),h.off(k.UpdateKithenCookCut,this,this.OnUpdateCutPos),h.off(k.QuickenCooking,this,this.OnQuickenCooking),h.off(k.ImmediatelyCookEnd,this,this.OnImmediatelyCookEnd),h.off(k.ImmediatelyDrinkId,this,this.OnCookDished)},i.OnOrderDished=function(t){t.NdeskId;b.instance.registerCookTask(t)},i.OnServeDishes=function(t,e){b.instance.removeCookTask(t,e)},i.OnClearEatTable=function(t,e){if(void 0===e&&(e=!0),b.instance.addDirtyDiskCount(),b.instance.IsDirtyDishMax()&&!b.instance.IsWashShow){b.instance.IsWashShow=!0;var n={eMenuStart:P.Washing,task:{taskHandler:g.Wash,taskData:0},data:{handler:k.WashDishing,hanlderData:e}};this.setWashSceneMenuState(n)}},i.OnWashDished=function(){b.instance.removeDisrtyDiskCount(),b.instance.IsWashShow=!1},i.OnWashDishing=function(){I.instance.hideWashTipNode()},i.onCookingEnd=function(t,e,n){var i={eMenuStart:n==p.HotPot?P.OrderBowl:P.ServerTDishes,task:n==p.HotPot?{taskHandler:g.ServeHotPot,taskData:t}:{taskHandler:g.ServeDishes,taskData:t},data:{handler:k.ServeDished,hanlderData:[t,n],subHandle:k.ServeDishes},isKit:!0};this.setKichenSceneMenuState(e,n,i)},i.CutDishSpeedChange=function(t,e){b.instance.DistOrdersSpeed(t,e)},i.getStaffConfig=function(){var t=C.instance,e=t.staffConfig;if(null!=e){var n=this.m_ConstructMap[S.UpPot];e.hotPotPos=this.restoreNodePostion(n);var i=this.m_ConstructMap[S.UpSeat];e.dishPos=this.restoreNodePostion(i);var o=e.idlePos;o=null==o?{}:o;var s=this.m_ConstructMap[S.Idle];this.registerAllPos(s,o,l.Lobby,this.restoreNodePostion.bind(this)),e.idlePos=o,t.onStaffConfigInited()}},i.update=function(t){b.instance.cookServce(t)},i.setKichenSceneMenuState=function(t,e,n){var i=e==p.HotPot?y.POTTIPS:y.DISHTIPS,o=this.m_StayInstant[U.CookingBenc][0].getComponent(O).getTipsPostion(i,t);n.worldPosition=E.instance.getSceneTipsPos(o),n.scale=new a(.8,.8,1),I.instance.showTips(n)},i.setWashSceneMenuState=function(t){var e=null;if(e=this.m_StayInstant[U.Wash]){var n=(e=e[0]).worldPosition.clone(),i=e.getChildByName("tips");i&&(n=i.worldPosition),n=E.instance.getSceneTipsPos(n),t.worldPosition=n,I.instance.showWashTips(t)}},i.UpdateAreaUnlock=function(t){t==m.Kitchen&&(this.checkInitial("Initial",m.Kitchen),this.updateAllConstruct(t))},i.UpdateAllAreaUnlock=function(){this.UpdateAreaUnlock(m.Kitchen)},i.UpdateSideTable=function(t,e,n,i,o){e.updateNode(n,i),e.registerNodeToSortNode(e.m_SortNode,U.CookingBenc)},i.registerCookFood=function(t,e){this.removeSortLst(e);var n=this.m_ConstructMap[e];this.switchNode(t,n),this.m_StayInstant[e]=[n]},i.OnCookDishing=function(t){var e=this.m_CutEffect[t];e&&e.play()},i.OnCookDished=function(t){var e=this.m_CutEffect[t];e&&e.stop()},i.OnUpdateCutPos=function(t){if(0!=t.length)for(var e=t.length,n=0;n<e;n++){var i=t[n];i=this.node.getComponent(s).convertToNodeSpaceAR(i);var o=this.m_CutEffect[n];null!=o&&o.initEffectCutPos(i)}},i.OnQuickenCooking=function(t){b.instance.OnQuickenCooking()},i.OnImmediatelyCookEnd=function(t){b.instance.ImmediatelyCookEnd(t)},n}(D))||N);n._RF.pop()}}}));

System.register("chunks:///_virtual/KitchenCookBowing.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FoodEnumConfig.ts","./KitchenCooking.ts"],(function(t){"use strict";var i,o,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){n=t.ECookState},function(t){s=t.KitchenCooking}],execute:function(){var r;o._RF.push({},"af444xwUF9M8ZJ2yaH01lqQ","KitchenCookBowing",void 0);var a=e.ccclass;e.property,t("KitchenCookBowing",a("KitchenCookBowing")(r=function(t){function o(){return t.apply(this,arguments)||this}i(o,t);var e=o.prototype;return e.cooking=function(t){if(this.State!=n.COOKEND)if(this.m_Index>=this.getFoodLength())this.m_State=n.COOKEND;else{var i=this.getTotalTime();this.m_DetailTime<i?(this.m_DetailTime+=t,this.m_TotalTime+=t):(this.m_Index++,this.m_DetailTime=0)}},e.getTotalProgress=function(){return this.m_TotalTime/this.getTotalTime()},e.getTotalCountDown=function(){return this.getTotalTime()-this.m_TotalTime},e.getTotalTime=function(){for(var t=0,i=0,o=0;o<this.m_FoodDatas.length;o++){var e=this.m_FoodDatas[o];t<(i=this.getOutTime(e))&&(t=i)}return t},e.getFoodLength=function(){return 1},o}(s))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/KitchenCooking.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuffConfig.ts","./BuffTimelinessConfig.ts","./FoodConfig.ts","./FoodEnumConfig.ts"],(function(t){"use strict";var i,e,o,n,s,a,r;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.EBuffType},function(t){s=t.buffTimelinessConfig},function(t){a=t.foodConfig},function(t){r=t.ECookState}],execute:function(){var u;e._RF.push({},"a41bdNdm4pCDaEZ4nSf5kuo","KitchenCooking",void 0);var m=o.ccclass;o.property,t("KitchenCooking",m("KitchenCooking")(u=function(){function t(t,i){this.m_FoodDatas=[],this.m_Index=0,this.m_DetailTime=0,this.m_TotalTime=0,this.m_State=r.COOKNULL,this.m_Attribute=void 0,this.m_Speed=1,this.m_FoodDatas=t,this.m_Attribute=i}var e=t.prototype;return e.cooking=function(t){if(this.State!=r.COOKEND)if(this.m_Index>=this.m_FoodDatas.length)this.m_State=r.COOKEND;else{var i=this.currentCookingFood(),e=this.getOutTime(i);this.m_DetailTime<e?(this.m_DetailTime+=t,this.m_TotalTime+=t):(this.m_Index++,this.m_DetailTime=0)}},e.currentCookingFood=function(){var t=this.m_FoodDatas[this.m_Index];return this.m_Index>=this.m_FoodDatas.length&&(t=null),t},e.getCookingFood=function(){var t=this.currentCookingFood();return null==t&&(t=this.m_FoodDatas[this.m_Index-1]),t},e.currentCookingProgress=function(){var t=this.currentCookingFood();if(!t)return 0;var i=this.getOutTime(t);return this.m_DetailTime/i},e.getOutTime=function(t){var i=a.foodConfigList[t].getFoodMaskTime();return i-=i*this.getHalveTime(),(i/=this.m_Speed)/1},e.getTotalTime=function(){for(var t=0,i=0;i<this.m_FoodDatas.length;i++){var e=this.m_FoodDatas[i];t+=this.getOutTime(e)}return t},e.getTotalProgress=function(){return this.m_TotalTime/this.getTotalTime()},e.getTotalCountDown=function(){return this.getTotalTime()-this.m_TotalTime},e.getRemainingNumber=function(){var t=1;return this.m_Index<this.m_FoodDatas.length&&(t=this.m_FoodDatas.length-(this.m_Index+1)),t},e.getHalveTime=function(){var t=s.getBuffNum(n.HalveTime);return t=t<=0?0:t},e.QuickenCooking=function(){this.m_DetailTime+=1},i(t,[{key:"Speed",set:function(t){this.m_Speed=t}},{key:"FoodDatas",get:function(){return this.m_FoodDatas}},{key:"State",get:function(){return this.m_State},set:function(t){this.m_State=t}}]),t}())||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/KitchenCookMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./DataTableManager.ts","./DataTable.ts","./LobbyUtility.ts","./StaffTaskQueue.ts","./FoodEnumConfig.ts","./KitchenOrderForm.ts"],(function(t){"use strict";var e,i,s,o,n,r,h,a,k,D,c,d,C,S,u,m;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,s=t._decorator},function(t){o=t.default},function(t){n=t.eventDispatcher},function(t){r=t.dataTableManager},function(t){h=t.EDataTables},function(t){a=t.EKitchenArea,k=t.ELobbyServeDishes,D=t.MLobbyEvent},function(t){c=t.EStaffTaskType,d=t.StaffTaskQueue},function(t){C=t.ECookState,S=t.ECookRect,u=t.ESceneFoodType},function(t){m=t.KitchenOrderForm}],execute:function(){var f,_;i._RF.push({},"49b1580Q0lN4Y8LXy4DcIxh","KitchenCookMgr",void 0);var g=s.ccclass,O=(s.property,[a.CutDish1,a.CutDish2,a.Snack1]),v=-1,I=1;t("KitchenCookMgr",g("KitchenCookMgr")(((_=function(){function t(){this.m_CookVec={},this.m_CookTask=[],this.m_CookState={},this.m_CookOrder=[],this.m_PotCook=new Map,this.m_PotCache=new Map,this.m_DishCook=new Map,this.m_DishCache=new Map,this.m_StreetCook=new Map,this.m_DrinkCook=new Map,this.m_DirtyDishCount=0,this.m_DishingMax=0,this.m_DishCacheMax=0,this.m_PotingMax=0,this.m_StreetingMax=0,this.m_DrinkingMax=0,this.m_DishState=[-1,-1],this.m_DishDesk=[-1,-1,-1,-1],this.m_PotDesk=[-1,-1,-1,-1],this.m_DrinkState=[-1],this.m_StreetState=[-1],this.m_IsWashShow=!1,this.m_DirtyDishMax=0,this.m_SigName="kitchenCook"}var i=t.prototype;return i.initDishMax=function(){this.m_DirtyDishMax=r.getData(h.Constant,38).Value,this.m_DirtyDishMax=null==this.m_DirtyDishMax?5:this.m_DirtyDishMax},i.getCookOrderId=function(t,e){var i=this.m_CookOrder[t],s=i.NdeskId,o=i.NbowlId,n=i.AseatVec;return e==k.HotPot?{NdeskId:s,NbowlId:o,AseatVec:n}:i},i.registerFoodHud=function(t,e){this.m_CookVec[t]=e},i.getCookState=function(t,e){return this.m_CookVec[t][e]},i.registerCookTask=function(t){var e=t.NdeskId;this.m_CookOrder[e]=t;var i=new m(t);this.m_CookTask.push(i)},i.registerDistState=function(t){if(this.m_DishState.length<t)for(var e=t-this.m_DishState.length+this.m_DishState.length,i=this.m_DishState.length;i<e;i++)this.m_DishState.push(v)},i.findFreeKithenState=function(t){var e=t.indexOf(-1);return e},i.resetKithenState=function(t,e,i){void 0===i&&(i=v),t[e]=i},i.IsDirtyDishMax=function(){return this.m_DirtyDishCount>=this.m_DirtyDishMax},i.addDirtyDiskCount=function(){this.m_DirtyDishCount++},i.removeDisrtyDiskCount=function(){this.m_DirtyDishCount=0},i.removePotOrder=function(t,e){this.m_PotCook.delete(t),this.m_PotCache.set(t,1),n.event(D.CookingEnd,[t,e,k.HotPot])},i.removeDistOrder=function(t,e){this.m_DishCook.delete(t),this.m_DishCache.set(t,1),n.event(D.CookingEnd,[t,e,k.Dish])},i.removeStreetOrder=function(t,e){this.m_StreetCook.delete(t)},i.removeDrinkOrder=function(t,e){this.m_DrinkCook.delete(t)},i.checkPotOrders=function(){for(var t=this.m_CookTask,e=-1,i=0;i<t.length;i++){var s=t[i];if(this.m_PotCook.size<this.m_PotingMax&&this.m_PotCache.size<this.m_PotingMax&&s.PotCookingState==C.COOKNULL){if(-1==(e=this.findFreeKithenState(this.m_PotDesk)))return;s.PotDeskId=e,this.resetKithenState(this.m_PotDesk,e,I),s.PotCookingState=C.COOKING,this.m_PotCook.set(s.OrderDeskId,s),this.setPotHudToOrder(s),n.event(D.CookDishing,0)}}},i.checkDistOrders=function(){for(var t=this.m_CookTask,e=-1,i=0;i<t.length;i++){var s=t[i];if(this.m_DishCook.size<this.m_DishingMax&&this.m_DishCache.size<this.m_DishCacheMax&&s.DistCookingState==C.COOKNULL){if(-1==(e=this.findFreeKithenState(this.m_DishState)))return;s.DistStateId=e,this.resetKithenState(this.m_DishState,e,I),s.DistCookingState=C.COOKING,this.m_DishCook.set(s.OrderDeskId,s),this.setDiseToOrder(s),n.event(D.CookDishing,1)}}},i.checkDrinkOrders=function(){for(var t=this.m_CookTask,e=-1,i=0;i<t.length;i++){var s=t[i];if(this.m_DrinkCook.size<this.m_DrinkingMax&&s.DrinkCookingState==C.COOKNULL){if(-1==(e=this.findFreeKithenState(this.m_DrinkState)))return;s.DrinkStateId=0,this.resetKithenState(this.m_DrinkState,e,I),s.DrinkCookingState=C.COOKING,this.m_DrinkCook.set(s.OrderDeskId,s),this.setDrinkToOrder(s)}}},i.checkSteetOrders=function(){for(var t=this.m_CookTask,e=-1,i=0;i<t.length;i++){var s=t[i];if(this.m_StreetCook.size<this.m_StreetingMax&&s.StreetCookingState==C.COOKNULL){if(-1===(e=this.findFreeKithenState(this.m_StreetState)))return;s.StreetStateId=e,this.resetKithenState(this.m_StreetState,e,I),s.StreetCookingState=C.COOKING,this.m_StreetCook.set(s.OrderDeskId,s),this.setStreetToOrder(s),n.event(D.CookDishing,O[a.Snack1])}}},i.cookingPotOrders=function(t){var e=this;this.m_PotCook.forEach((function(i){if(i.cookingPot(t),i.PotCookingState==C.COOKEND){var s=i.OrderDeskId,o=i.PotDeskId;i.PotHud.resetBowl(),e.removePotOrder(s,o),n.event(D.CookDished,0)}}))},i.cookingDistOrders=function(t){var e=this;this.m_DishCook.forEach((function(i){if(i.cookingDist(t),i.DistCookingState==C.COOKEND){var s=i.OrderDeskId,o=e.findFreeKithenState(e.m_DishDesk);if(-1==o)return;i.DistDeskId=o,e.resetKithenState(e.m_DishDesk,o,I),e.updatePltheState(o,i.OrderDist),e.removeDistOrder(s,o);var r=i.DistStateId;e.resetKithenState(e.m_DishState,r,v),e.resetCookHubState(r,S.Dish),n.event(D.CookDished,1)}}))},i.cookingDrinkOrders=function(t){var e=this;this.m_DrinkCook.forEach((function(i){if(i.cookingDrink(t),i.DrinkCookingState==C.COOKEND){var s=i.OrderDeskId,o=i.DrinkStateId;e.removeDrinkOrder(s,o),e.resetKithenState(e.m_DrinkState,o,v),e.resetCookHubState(0,S.DRINK)}}))},i.cookingStreetOrders=function(t){var e=this;this.m_StreetCook.forEach((function(i){if(i.cookingStreet(t),i.StreetCookingState==C.COOKEND){var s=i.OrderDeskId,o=i.StreetStateId;e.removeStreetOrder(s,o),e.resetKithenState(e.m_StreetState,o,v),e.resetCookHubState(0,S.STREET),n.event(D.CookDished,O[a.Snack1])}}))},i.updatePltheState=function(t,e){var i=this.getCookState(S.PLATHE,t);i?i.updateSceneFood(e):o.info(t)},i.resetPotState=function(t){this.getCookState(S.POT,t).resetNode()},i.resetDisttate=function(t){this.getCookState(S.Dish,t).resetNode()},i.resetCookHubState=function(t,e){this.getCookState(e,t).resetNode()},i.setPotHudToOrder=function(t){var e=t.PotDeskId,i=this.getCookState(S.POT,e);i.setOrderData(u.bowl),t.PotHud=i},i.setDiseToOrder=function(t){var e=t.DistStateId,i=this.getCookState(S.Dish,e);i.setOrderData(u.seat),t.DistHud=i},i.setDrinkToOrder=function(t){var e=t.DrinkStateId,i=this.getCookState(S.DRINK,e);i.setOrderData(u.seat),t.DrinkHud=i},i.setStreetToOrder=function(t){var e=t.StreetStateId,i=this.getCookState(S.STREET,e);i.setOrderData(u.seat),t.StreetHud=i},i.checkOrders=function(){this.IsDirtyDishMax()||(this.checkPotOrders(),this.checkDistOrders(),this.checkDrinkOrders(),this.checkSteetOrders())},i.CookingOrders=function(t){this.cookingPotOrders(t),this.cookingDistOrders(t),this.cookingStreetOrders(t),this.cookingDrinkOrders(t)},i.cookServce=function(t){this.checkOrders(),this.CookingOrders(t)},i.removeCookTask=function(t,e){for(var i=this.m_CookTask.length-1;i>=0;i--){var s=this.m_CookTask[i];if(s.OrderDeskId==t){if(e==k.Dish){var o=s.DistDeskId;this.resetKithenState(this.m_DishDesk,o),this.updatePltheState(o,[]),this.m_DishCache.delete(t),s.DistCookingState=C.RECEIVE}if(e==k.HotPot){var n=s.PotDeskId;this.resetKithenState(this.m_PotDesk,n),this.resetCookHubState(n,S.POT),this.m_PotCache.delete(t),s.PotCookingState=C.RECEIVE}s.PotCookingState==C.RECEIVE&&s.DistCookingState==C.RECEIVE&&this.m_CookTask.splice(i,1)}}},i.isKithenState=function(){return 0==this.m_CookTask.length},i.DistOrdersSpeed=function(t,e){this.m_DishCook.forEach((function(i){i.DistStateId==t&&i.setDistCookingSpeed(e)}))},i.OnQuickenCooking=function(){this.m_DishCook.forEach((function(t){t.QuickenCooking()})),this.m_PotCook.forEach((function(t){t.QuickenCooking()})),this.m_StreetCook.forEach((function(t){t.QuickenCooking()})),this.m_DrinkCook.forEach((function(t){t.QuickenCooking()}))},i.ImmediatelyCookEnd=function(t){for(var e=!1,i=!1,s=this.m_CookTask.length-1;s>=0;s--){var o=this.m_CookTask[s];if(o.OrderDeskId==t){var r=o.StreetStateId;-1!=r&&(this.removeStreetOrder(t,r),this.resetKithenState(this.m_StreetState,r,v),this.resetCookHubState(0,S.STREET)),-1!=(r=o.DrinkStateId)&&(this.removeDrinkOrder(t,r),this.resetKithenState(this.m_DrinkState,r,v),this.resetCookHubState(0,S.DRINK)),r=o.DistStateId,e=o.DistCookingState==C.RECEIVE,-1!=r&&(this.m_DishCook.delete(t),this.resetKithenState(this.m_DishState,r,v),this.resetCookHubState(r,S.Dish),this.m_DishCache.delete(t),n.event(D.ImmediatelyDrinkId,1));var h=o.DistDeskId;-1!=h&&(this.resetKithenState(this.m_DishDesk,h),this.updatePltheState(h,[]));var a=o.PotDeskId;i=o.PotCookingState==C.RECEIVE,-1!=a&&(o.PotHud.resetBowl(),this.m_PotCook.delete(t),this.resetKithenState(this.m_PotDesk,a),this.resetCookHubState(a,S.POT),this.m_PotCache.delete(t),n.event(D.ImmediatelyDrinkId,0)),this.m_CookTask.splice(s,1),i||(this.isRunTask(k.HotPot,t),n.event(D.ServeDished,[t,k.HotPot])),e||(this.isRunTask(k.Dish,t),n.event(D.ServeDished,[t,k.Dish]))}}},i.getDeskToDrinkStateId=function(t){return this.m_DishCook.forEach((function(e){if(e.OrderDeskId==t)return e.DistStateId})),-1},i.isRunTask=function(t,e){var i=t==k.HotPot?{taskHandler:c.ServeHotPot,taskData:e}:{taskHandler:c.ServeDishes,taskData:e},s=d.instance.checkTasks(i.taskHandler,i.taskData);return!!s&&(d.instance.receive(s),d.instance.finish(s),!0)},i.findCookTask=function(t){for(var e=this.m_CookTask.length-1;e>=0;e--){var i=this.m_CookTask[e];if(i.OrderDeskId==t)return i.DistCookingState==C.RECEIVE&&i.PotCookingState==C.RECEIVE}return!0},e(t,[{key:"CookOrder",get:function(){return this.m_CookOrder}},{key:"DishingMax",set:function(t){this.m_DishingMax=t}},{key:"DishCacheMax",set:function(t){this.m_DishCacheMax=t}},{key:"PotingMax",set:function(t){this.m_PotingMax=t}},{key:"StreetingMax",get:function(){return this.m_StreetingMax},set:function(t){this.m_StreetingMax=t}},{key:"DrinkingMax",get:function(){return this.m_DrinkingMax},set:function(t){this.m_DrinkingMax=t}},{key:"IsWashShow",get:function(){return this.m_IsWashShow},set:function(t){this.m_IsWashShow=t}}],[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new t,this.m_Instance.initDishMax()),this.m_Instance}}]),t}()).m_Instance=void 0,f=_))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/KitchenNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./AssetLoader.ts","./NodeUtils.ts","./GameUtility.ts","./StaffTable.ts","./Lobby.ts","./EffectClearEatNode.ts","./LobbyUtility.ts","./StaffTaskQueue.ts"],(function(t){"use strict";var e,n,o,i,s,a,f,c,r,h,u,l,d,v,p,y,E,m;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.v3,s=t.assetManager,a=t.Prefab,f=t.Component},function(t){c=t.eventDispatcher},function(t){r=t.assetLoader},function(t){h=t.default},function(t){u=t.EGameBundles,l=t.MLoadOnPlayRes},function(t){d=t.StaffTable},function(t){v=t.Lobby},function(t){p=t.EffectClearEatNode},function(t){y=t.MLobbyEvent},function(t){E=t.EStaffTaskType,m=t.StaffTaskQueue}],execute:function(){var g,N;n._RF.push({},"8154eoSh2NK2J94k+LhhoiZ","KitchenNode",void 0);var W=o.ccclass;o.property,t("KitchenNode",W("KitchenNode")(((N=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).step=0,e.washPoolNode=void 0,e.m_WashEffect=[],e.m_Vec0=i(),e}e(n,t);var o=n.prototype;return o.onLoad=function(){n.instance=this},o.start=function(){var t=this;this.initPreload();var e=m.instance;c.on(y.CookDishing,this,(function(t){e.add(E.CutDish,t)})),c.on(y.WashDishing,this,this.getWashEffect),c.on(y.WashDished,this,(function(){t.step=0,t.removeWashEffect()}))},o.onDestroy=function(){n.instance=null,c.offAllCaller(this)},o.update=function(t){},o.initWashPoolNode=function(t){this.washPoolNode=t},o.removeWashEffect=function(){var t=this.m_WashEffect;if(t&&t.length){for(var e=0;e<t.length;e++){var n=t[e];h.remove(n)}t.length=0}},o.initPreload=function(){s.getBundle(u.LoadOnPlay).preload(l.EffectWashNode,a)},o.getWashEffect=function(t){var e=this;void 0===t&&(t=!1),this.step=30,t&&setTimeout((function(){c.event(y.WashDished)}),1e3*d.baseWashTime),this.removeWashEffect();var n=l.EffectWashNode;r.load(u.LoadOnPlay,n,a,(function(t,o){if(0!=e.step)for(var i=v.instance.tipNode,s=e.washPoolNode,a=e.m_WashEffect,f=e.m_Vec0,c=0;c<s.length;c++){var r=s[c],u=h.instantiate(n,o);u.getComponent(p).play("wash",!0),i.inverseTransformPoint(f,r.worldPosition),u.setPosition(f),i.addChild(u),a.push(u)}}))},n}(f)).instance=void 0,g=N))||g);n._RF.pop()}}}));

System.register("chunks:///_virtual/KitchenOrderForm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FoodEnumConfig.ts","./KitchenCookBowing.ts","./KitchenCooking.ts"],(function(t){"use strict";var i,o,e,n,s,a,r;return{setters:[function(t){i=t.createClass},function(t){o=t.cclegacy,e=t._decorator},function(t){n=t.ECookState,s=t.ESceneFoodType},function(t){a=t.KitchenCookBowing},function(t){r=t.KitchenCooking}],execute:function(){var u;o._RF.push({},"b9dbd1871VLbI1LjBE55Niu","KitchenOrderForm",void 0);var k=e.ccclass;e.property,t("KitchenOrderForm",k("KitchenOrderForm")(u=function(){function t(t){this.m_DeskStart=null,this.m_PotCookingData=null,this.m_DistCookingData=null,this.m_StreetCookingData=null,this.m_DrinkCookingData=null,this.m_PotHud=null,this.m_DistHud=null,this.m_StreetHud=null,this.m_DrinkHud=null,this.DistStateId=-1,this.DistDeskId=-1,this.PotDeskId=-1,this.DrinkStateId=-1,this.StreetStateId=-1,this.m_DeskStart=t;var i=t.NbowlId,o=t.AdishVec,e=t.AdrinkVec,n=t.AstreetVec;this.m_PotCookingData=new a(i,s.bowl),this.m_DistCookingData=new r(o,s.seat),this.m_StreetCookingData=new r(n,s.seat),this.m_DrinkCookingData=new r(e,s.seat)}var o=t.prototype;return o.setDistCookingSpeed=function(t){this.m_DistCookingData&&(this.m_DistCookingData.Speed=t)},o.cookingPot=function(t){this.m_PotCookingData.cooking(t),this.updatePotHud()},o.cookingDist=function(t){this.m_DistCookingData.cooking(t),this.updateDistHud()},o.cookingStreet=function(t){this.m_StreetCookingData.cooking(t),this.updateStreetHud()},o.cookingDrink=function(t){this.m_DrinkCookingData.cooking(t),this.updateDrinkHud()},o.updatePotHud=function(){if(this.m_PotHud&&this.PotCookingState!=n.COOKEND){var t=this.m_PotCookingData.getTotalProgress(),i=this.m_PotCookingData.getTotalCountDown();i=parseInt(i+""),this.m_PotHud.updateProgess(t,i);var o=this.m_PotCookingData.FoodDatas;this.m_PotHud.updateSceneFood(o)}},o.updateDistHud=function(){if(this.m_DistHud&&this.DistCookingState!=n.COOKEND){var t=this.m_DistCookingData.currentCookingProgress(),i=this.m_DistCookingData.getRemainingNumber();this.m_DistHud.updateProgess(t,i);var o=this.m_DistCookingData.getCookingFood();this.m_DistHud.updateSceneFood([o])}},o.updateStreetHud=function(){if(this.m_StreetHud&&this.StreetCookingState!=n.COOKEND){var t=this.m_StreetCookingData.currentCookingProgress(),i=this.m_StreetCookingData.getRemainingNumber();this.m_StreetHud.updateProgess(t,i);var o=this.m_StreetCookingData.getCookingFood();this.m_StreetHud.updateSceneFood([o])}},o.updateDrinkHud=function(){if(this.m_DrinkHud&&this.DistCookingState!=n.COOKEND){var t=this.m_DrinkCookingData.currentCookingProgress(),i=this.m_DrinkCookingData.getRemainingNumber();this.m_DrinkHud.updateProgess(t,i);var o=this.m_DrinkCookingData.getCookingFood();this.m_DrinkHud.updateSceneFood([o])}},o.QuickenCooking=function(){this.m_PotCookingData.QuickenCooking(),this.m_DistCookingData.QuickenCooking(),this.m_StreetCookingData.QuickenCooking(),this.m_DrinkCookingData.QuickenCooking()},i(t,[{key:"PotCookingState",get:function(){return this.m_PotCookingData.State},set:function(t){this.m_PotCookingData.State=t}},{key:"DistCookingState",get:function(){return this.m_DistCookingData.State},set:function(t){this.m_DistCookingData.State=t}},{key:"DrinkCookingState",get:function(){return this.m_DrinkCookingData.State},set:function(t){this.m_DrinkCookingData.State=t}},{key:"StreetCookingState",get:function(){return this.m_StreetCookingData.State},set:function(t){this.m_StreetCookingData.State=t}},{key:"OrderDeskId",get:function(){return this.m_DeskStart.NdeskId}},{key:"OrderDist",get:function(){return this.m_DeskStart.AdishVec}},{key:"OrderStreet",get:function(){return this.m_DeskStart.AstreetVec}},{key:"OrderDrink",get:function(){return this.m_DeskStart.AdrinkVec}},{key:"OrderPot",get:function(){return this.m_DeskStart.NbowlId}},{key:"PotHud",get:function(){return this.m_PotHud},set:function(t){this.m_PotHud=t}},{key:"DistHud",set:function(t){this.m_DistHud=null,this.m_DistHud=t}},{key:"StreetHud",set:function(t){this.m_StreetHud=null,this.m_StreetHud=t}},{key:"DrinkHud",set:function(t){this.m_DrinkHud=null,this.m_DrinkHud=t}}]),t}())||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/List.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./Log.ts","./ListItem.ts"],(function(t){"use strict";var e,i,s,o,n,a,l,r,c,h,_,d,u,m,p,g,f,v,I,y,T,S,w,z,D,N,b,E,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){a=t.cclegacy,l=t._decorator,r=t.Vec2,c=t.ScrollView,h=t.Enum,_=t.Node,d=t.Prefab,u=t.CCFloat,m=t.EventHandler,p=t.CCBoolean,g=t.CCInteger,f=t.isValid,v=t.UITransform,I=t.Layout,y=t.instantiate,T=t.NodePool,S=t.Vec3,w=t.Size,z=t.Widget,D=t.tween,N=t.Component},function(t){b=t.DEV},function(t){E=t.default},function(t){P=t.default}],execute:function(){var L,G,C,O,R,A,U,B,k,M,x,V,H,F,X,Z,Y,W,j,K,q,J,Q,$,tt,et,it,st,ot,nt,at,lt,rt,ct,ht,_t,dt,ut,mt,pt,gt,ft,vt;a._RF.push({},"f0aedKZJ+9HxLzKT4Ki31Cg","List",void 0);var It,yt,Tt,St=l.ccclass,wt=l.property,zt=l.disallowMultiple,Dt=l.menu,Nt=l.executionOrder,bt=l.requireComponent;!function(t){t[t.NODE=1]="NODE",t[t.PREFAB=2]="PREFAB"}(It||(It={})),function(t){t[t.NORMAL=1]="NORMAL",t[t.ADHERING=2]="ADHERING",t[t.PAGE=3]="PAGE"}(yt||(yt={})),function(t){t[t.NONE=0]="NONE",t[t.SINGLE=1]="SINGLE",t[t.MULT=2]="MULT"}(Tt||(Tt={}));new r,new r,t("default",(L=zt(),G=Dt("List"),C=bt(c),O=Nt(-5e3),R=wt({type:h(It),tooltip:b}),A=wt({type:_,tooltip:b,visible:function(){return this.templateType==It.NODE}}),U=wt({type:d,tooltip:b,visible:function(){return this.templateType==It.PREFAB}}),B=wt({}),k=wt({type:h(yt),tooltip:b}),M=wt({type:u,range:[0,1,.1],tooltip:b,slide:!0,visible:function(){return this._slideMode==yt.PAGE}}),x=wt({type:m,tooltip:b,visible:function(){return this._slideMode==yt.PAGE}}),V=wt({}),H=wt({type:p,tooltip:b}),F=wt({tooltip:b,visible:function(){var t=this.slideMode==yt.NORMAL;return t||(this.cyclic=!1),t}}),X=wt({tooltip:b,visible:function(){return this.virtual}}),Z=wt({tooltip:b,visible:function(){var t=this.virtual&&!this.lackCenter;return t||(this.lackSlide=!1),t}}),Y=wt({type:g}),W=wt({type:g,range:[0,6,1],tooltip:b,slide:!0}),j=wt({type:g,range:[0,12,1],tooltip:b,slide:!0}),K=wt({type:m,tooltip:b}),q=wt({type:h(Tt),tooltip:b}),J=wt({type:m,tooltip:b,visible:function(){return this.selectedMode>Tt.NONE}}),Q=wt({tooltip:b,visible:function(){return this.selectedMode==Tt.SINGLE}}),$=wt({serializable:!1}),St(tt=L(tt=G(tt=C(tt=O((it=e((et=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,s(e,"templateType",it,o(e)),s(e,"tmpNode",st,o(e)),s(e,"tmpPrefab",ot,o(e)),s(e,"_slideMode",nt,o(e)),s(e,"pageDistance",at,o(e)),s(e,"pageChangeEvent",lt,o(e)),s(e,"_virtual",rt,o(e)),s(e,"cyclic",ct,o(e)),s(e,"lackCenter",ht,o(e)),s(e,"lackSlide",_t,o(e)),s(e,"_updateRate",dt,o(e)),s(e,"frameByFrameRenderNum",ut,o(e)),s(e,"renderEvent",mt,o(e)),s(e,"selectedMode",pt,o(e)),s(e,"selectedEvent",gt,o(e)),s(e,"repeatEventSingle",ft,o(e)),e._selectedId=-1,e._lastSelectedId=void 0,e.multSelected=void 0,e._forceUpdate=!1,e._align=void 0,e._horizontalDir=void 0,e._verticalDir=void 0,e._startAxis=void 0,e._alignCalcType=void 0,e.content=void 0,e._contentUt=void 0,e.firstListId=void 0,e.displayItemNum=void 0,e._updateDone=!0,e._updateCounter=void 0,e._actualNumItems=void 0,e._cyclicNum=void 0,e._cyclicPos1=void 0,e._cyclicPos2=void 0,s(e,"_numItems",vt,o(e)),e._inited=!1,e._scrollView=void 0,e._layout=void 0,e._resizeMode=void 0,e._topGap=void 0,e._rightGap=void 0,e._bottomGap=void 0,e._leftGap=void 0,e._columnGap=void 0,e._lineGap=void 0,e._colLineNum=void 0,e._lastDisplayData=void 0,e.displayData=void 0,e._pool=void 0,e._itemTmp=void 0,e._itemTmpUt=void 0,e._needUpdateWidget=!1,e._itemSize=void 0,e._sizeType=void 0,e._customSize=void 0,e.frameCount=void 0,e._aniDelRuning=!1,e._aniDelCB=void 0,e._aniDelItem=void 0,e._aniDelBeforePos=void 0,e._aniDelBeforeScale=void 0,e.viewTop=void 0,e.viewRight=void 0,e.viewBottom=void 0,e.viewLeft=void 0,e._doneAfterUpdate=!1,e.elasticTop=void 0,e.elasticRight=void 0,e.elasticBottom=void 0,e.elasticLeft=void 0,e.scrollToListId=void 0,e.adhering=!1,e._adheringBarrier=!1,e.nearestListId=void 0,e.curPageNum=0,e._beganPos=void 0,e._scrollPos=void 0,e._curScrollIsTouch=void 0,e._scrollToListId=void 0,e._scrollToEndTime=void 0,e._scrollToSo=void 0,e._lack=void 0,e._allItemSize=void 0,e._allItemSizeNoEdge=void 0,e._scrollItem=void 0,e._thisNodeUt=void 0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this._init()},a.onDestroy=function(){var t=this;f(t._itemTmp)&&t._itemTmp.destroy(),f(t.tmpNode)&&t.tmpNode.destroy(),t._pool&&t._pool.clear()},a.onEnable=function(){this._registerEvent(),this._init(),this._aniDelRuning&&(this._aniDelRuning=!1,this._aniDelItem&&(this._aniDelBeforePos&&(this._aniDelItem.position=this._aniDelBeforePos,delete this._aniDelBeforePos),this._aniDelBeforeScale&&(this._aniDelItem.scale=this._aniDelBeforeScale,delete this._aniDelBeforeScale),delete this._aniDelItem),this._aniDelCB&&(this._aniDelCB(),delete this._aniDelCB))},a.onDisable=function(){this._unregisterEvent()},a._registerEvent=function(){var t=this;t.node.on(_.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.on("touch-up",t._onTouchUp,t),t.node.on(_.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.on("scroll-began",t._onScrollBegan,t),t.node.on("scroll-ended",t._onScrollEnded,t),t.node.on("scrolling",t._onScrolling,t),t.node.on(_.EventType.SIZE_CHANGED,t._onSizeChanged,t)},a._unregisterEvent=function(){var t=this;t.node.off(_.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.off("touch-up",t._onTouchUp,t),t.node.off(_.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.off("scroll-began",t._onScrollBegan,t),t.node.off("scroll-ended",t._onScrollEnded,t),t.node.off("scrolling",t._onScrolling,t),t.node.off(_.EventType.SIZE_CHANGED,t._onSizeChanged,t)},a._init=function(){var t=this;if(!t._inited)if(t._thisNodeUt=t.node.getComponent(v),t._scrollView=t.node.getComponent(c),t.content=t._scrollView.content,t._contentUt=t.content.getComponent(v),t.content){switch(t._layout=t.content.getComponent(I),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(y(t.templateType==It.PREFAB?t.tmpPrefab:t.tmpNode)),t._slideMode!=yt.ADHERING&&t._slideMode!=yt.PAGE||(t._scrollView.inertia=!1,t._scrollView._onMouseWheel=function(){}),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new T,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t.curPageNum=0,t.cyclic&&(t._scrollView._processAutoScrolling=this._processAutoScrolling.bind(t),t._scrollView._startBounceBackIfNeeded=function(){return!1}),t._align){case I.Type.HORIZONTAL:switch(t._horizontalDir){case I.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case I.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case I.Type.VERTICAL:switch(t._verticalDir){case I.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case I.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case I.Type.GRID:switch(t._startAxis){case I.AxisDirection.HORIZONTAL:switch(t._verticalDir){case I.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case I.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case I.AxisDirection.VERTICAL:switch(t._horizontalDir){case I.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case I.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.removeAllChildren(),t._inited=!0}else E.error(t.node.name+"'s ScrollView unset content!")},a._processAutoScrolling=function(t){var e=1e-4,i=new S,s=this._scrollView,o=s._isNecessaryAutoScrollBrake(),n=o?.05:1;s._autoScrollAccumulatedTime+=t*(1/n);var a,l=Math.min(1,s._autoScrollAccumulatedTime/s._autoScrollTotalTime);s._autoScrollAttenuate&&(a=l,l=(a-=1)*a*a*a*a+1);var r=s._autoScrollTargetDelta.clone();r.multiplyScalar(l);var h=s._autoScrollStartPosition.clone();h.add(r);var _=Math.abs(l-1)<=e;if(Math.abs(l-1)<=s.getScrollEndedEventTiming()&&!s._isScrollEndedWithThresholdEventFired&&(s._dispatchEvent(c.EventType.SCROLL_ENG_WITH_THRESHOLD),s._isScrollEndedWithThresholdEventFired=!0),s.elastic){var d=h.clone();d.subtract(s._autoScrollBrakingStartPosition),o&&d.multiplyScalar(n),h.set(s._autoScrollBrakingStartPosition),h.add(d)}else{var u=h.clone();u.subtract(s._getContentPosition());var m=s._getHowMuchOutOfBoundary(u);m.equals(i,e)||(h.add(m),_=!0)}_&&(s._autoScrolling=!1);var p=new S(h);p.subtract(s._getContentPosition()),s._clampDelta(p),s._moveContent(p,_),s._dispatchEvent(c.EventType.SCROLLING),s._autoScrolling||(s._isBouncing=!1,s._scrolling=!1,s._dispatchEvent(c.EventType.SCROLL_ENDED))},a.setTemplateItem=function(t){if(t){var e=this;if(e._itemTmp=t,e._itemTmpUt=t.getComponent(v),e._resizeMode==I.ResizeMode.CHILDREN)e._itemSize=e._layout.cellSize;else{var i=t.getComponent(v);e._itemSize=new w(i.width,i.height)}var s=t.getComponent(P),o=!1;switch(s||(o=!0),o&&(e.selectedMode=Tt.NONE),(s=t.getComponent(z))&&s.enabled&&(e._needUpdateWidget=!0),e.selectedMode==Tt.MULT&&(e.multSelected=[]),e._align){case I.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case I.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case I.Type.GRID:switch(e._startAxis){case I.AxisDirection.HORIZONTAL:var n=e._contentUt.width-e._leftGap-e._rightGap;e._colLineNum=Math.floor((n+e._columnGap)/(e._itemSize.width+e._columnGap)),e._sizeType=!0;break;case I.AxisDirection.VERTICAL:var a=e._contentUt.height-e._topGap-e._bottomGap;e._colLineNum=Math.floor((a+e._lineGap)/(e._itemSize.height+e._lineGap)),e._sizeType=!1}}}},a.checkInited=function(t){return void 0===t&&(t=!0),!!this._inited||(t&&E.error("List initialization not completed!"),!1)},a._resizeContent=function(){var t,e=this;switch(e._align){case I.Type.HORIZONTAL:if(e._customSize){var i=e._getFixedSize(null);t=e._leftGap+i.val+e._itemSize.width*(e._numItems-i.count)+e._columnGap*(e._numItems-1)+e._rightGap}else t=e._leftGap+e._itemSize.width*e._numItems+e._columnGap*(e._numItems-1)+e._rightGap;break;case I.Type.VERTICAL:if(e._customSize){var s=e._getFixedSize(null);t=e._topGap+s.val+e._itemSize.height*(e._numItems-s.count)+e._lineGap*(e._numItems-1)+e._bottomGap}else t=e._topGap+e._itemSize.height*e._numItems+e._lineGap*(e._numItems-1)+e._bottomGap;break;case I.Type.GRID:switch(e.lackCenter&&(e.lackCenter=!1),e._startAxis){case I.AxisDirection.HORIZONTAL:var o=Math.ceil(e._numItems/e._colLineNum);t=e._topGap+e._itemSize.height*o+e._lineGap*(o-1)+e._bottomGap;break;case I.AxisDirection.VERTICAL:var n=Math.ceil(e._numItems/e._colLineNum);t=e._leftGap+e._itemSize.width*n+e._columnGap*(n-1)+e._rightGap}}var a=e.content.getComponent(I);if(a&&(a.enabled=!1),e._allItemSize=t,e._allItemSizeNoEdge=e._allItemSize-(e._sizeType?e._topGap+e._bottomGap:e._leftGap+e._rightGap),e.cyclic){var l=e._sizeType?e._thisNodeUt.height:e._thisNodeUt.width;e._cyclicPos1=0,l-=e._cyclicPos1,e._cyclicNum=Math.ceil(l/e._allItemSizeNoEdge)+1;var r=e._sizeType?e._lineGap:e._columnGap;e._cyclicPos2=e._cyclicPos1+e._allItemSizeNoEdge+r,e._cyclicAllItemSize=e._allItemSize+e._allItemSizeNoEdge*(e._cyclicNum-1)+r*(e._cyclicNum-1),e._cycilcAllItemSizeNoEdge=e._allItemSizeNoEdge*e._cyclicNum,e._cycilcAllItemSizeNoEdge+=r*(e._cyclicNum-1)}e._lack=!e.cyclic&&e._allItemSize<(e._sizeType?e._thisNodeUt.height:e._thisNodeUt.width);var c=e._lack&&e.lackCenter||!e.lackSlide?.1:0,h=e._lack?(e._sizeType?e._thisNodeUt.height:e._thisNodeUt.width)-c:e.cyclic?e._cyclicAllItemSize:e._allItemSize;h<0&&(h=0),e._sizeType?e._contentUt.height=h:e._contentUt.width=h},a._onScrolling=function(t){if(void 0===t&&(t=null),null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){if(this.cyclic){var e=this.content.getPosition();e=this._sizeType?e.y:e.x;var i=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),s=this._sizeType?new S(0,i,0):new S(i,0,0),o=this.content.getPosition();switch(this._alignCalcType){case 1:e>-this._cyclicPos1?(o.set(-this._cyclicPos2,o.y,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.subtract(s))):e<-this._cyclicPos2&&(o.set(-this._cyclicPos1,o.y,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(s)));break;case 2:e<this._cyclicPos1?(o.set(this._cyclicPos2,o.y,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(s))):e>this._cyclicPos2&&(o.set(this._cyclicPos1,o.y,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.subtract(s)));break;case 3:e<this._cyclicPos1?(o.set(o.x,this._cyclicPos2,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(s))):e>this._cyclicPos2&&(o.set(o.x,this._cyclicPos1,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.subtract(s)));break;case 4:e>-this._cyclicPos1?(o.set(o.x,-this._cyclicPos2,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.subtract(s))):e<-this._cyclicPos2&&(o.set(o.x,-this._cyclicPos1,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(s)))}}var n,a,l,r;if(this._calcViewPos(),this._sizeType?(n=this.viewTop,l=this.viewBottom):(a=this.viewRight,r=this.viewLeft),this._virtual){var c;this.displayData=[];var h=0,_=this._numItems-1;if(this._customSize)for(var d=!1;h<=_&&!d;h++)switch(c=this._calcItemPos(h),this._align){case I.Type.HORIZONTAL:c.right>=r&&c.left<=a?this.displayData.push(c):0!=h&&this.displayData.length>0&&(d=!0);break;case I.Type.VERTICAL:c.bottom<=n&&c.top>=l?this.displayData.push(c):0!=h&&this.displayData.length>0&&(d=!0);break;case I.Type.GRID:switch(this._startAxis){case I.AxisDirection.HORIZONTAL:c.bottom<=n&&c.top>=l?this.displayData.push(c):0!=h&&this.displayData.length>0&&(d=!0);break;case I.AxisDirection.VERTICAL:c.right>=r&&c.left<=a?this.displayData.push(c):0!=h&&this.displayData.length>0&&(d=!0)}}else{var u=this._itemSize.width+this._columnGap,m=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:h=(r-this._leftGap)/u,_=(a-this._leftGap)/u;break;case 2:h=(-a-this._rightGap)/u,_=(-r-this._rightGap)/u;break;case 3:h=(-n-this._topGap)/m,_=(-l-this._topGap)/m;break;case 4:h=(l-this._bottomGap)/m,_=(n-this._bottomGap)/m}for(h=Math.floor(h)*this._colLineNum,_=Math.ceil(_)*this._colLineNum,h<0&&(h=0),--_>=this._numItems&&(_=this._numItems-1);h<=_;h++)this.displayData.push(this._calcItemPos(h))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var p=this._lastDisplayData.length,g=this.displayItemNum!=p;if(g&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort((function(t,e){return t-e})),g=this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[p-1]),this._forceUpdate||g)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(var f=0;f<this.displayItemNum;f++)this._createOrUpdateItem(this.displayData[f]);this._forceUpdate=!1}this._calcNearestItem()}}},a._calcViewPos=function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this._thisNodeUt.width,this.elasticRight=this.viewRight>this._contentUt.width?Math.abs(this.viewRight-this._contentUt.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this._thisNodeUt.width,this.elasticLeft=this.viewLeft<-this._contentUt.width?Math.abs(this.viewLeft+this._contentUt.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this._thisNodeUt.height,this.elasticBottom=this.viewBottom<-this._contentUt.height?Math.abs(this.viewBottom+this._contentUt.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this._thisNodeUt.height,this.elasticTop=this.viewTop>this._contentUt.height?Math.abs(this.viewTop-this._contentUt.height):0,this.viewTop-=this.elasticTop}},a._calcItemPos=function(t){var e,i,s,o,n,a,l,r;switch(this._align){case I.Type.HORIZONTAL:switch(this._horizontalDir){case I.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var c=this._getFixedSize(t);n=this._leftGap+(this._itemSize.width+this._columnGap)*(t-c.count)+(c.val+this._columnGap*c.count);var h=this._customSize[t];e=h>0?h:this._itemSize.width}else n=this._leftGap+(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;if(this.lackCenter)n-=this._leftGap,n+=this._contentUt.width/2-this._allItemSizeNoEdge/2;return{id:t,left:n,right:a=n+e,x:n+this._itemTmpUt.anchorX*e,y:this._itemTmp.y};case I.HorizontalDirection.RIGHT_TO_LEFT:if(this._customSize){var _=this._getFixedSize(t);a=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-_.count)-(_.val+this._columnGap*_.count);var d=this._customSize[t];e=d>0?d:this._itemSize.width}else a=-this._rightGap-(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;if(this.lackCenter)a+=this._rightGap,a-=this._contentUt.width/2-this._allItemSizeNoEdge/2;return{id:t,right:a,left:n=a-e,x:n+this._itemTmpUt.anchorX*e,y:this._itemTmp.y}}break;case I.Type.VERTICAL:switch(this._verticalDir){case I.VerticalDirection.TOP_TO_BOTTOM:if(this._customSize){var u=this._getFixedSize(t);s=-this._topGap-(this._itemSize.height+this._lineGap)*(t-u.count)-(u.val+this._lineGap*u.count);var m=this._customSize[t];i=m>0?m:this._itemSize.height}else s=-this._topGap-(this._itemSize.height+this._lineGap)*t,i=this._itemSize.height;if(this.lackCenter)s+=this._topGap,s-=this._contentUt.height/2-this._allItemSizeNoEdge/2;return{id:t,top:s,bottom:o=s-i,x:this._itemTmp.x,y:o+this._itemTmpUt.anchorY*i};case I.VerticalDirection.BOTTOM_TO_TOP:if(this._customSize){var p=this._getFixedSize(t);o=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-p.count)+(p.val+this._lineGap*p.count);var g=this._customSize[t];i=g>0?g:this._itemSize.height}else o=this._bottomGap+(this._itemSize.height+this._lineGap)*t,i=this._itemSize.height;if(this.lackCenter)o-=this._bottomGap,o+=this._contentUt.height/2-this._allItemSizeNoEdge/2;return{id:t,top:s=o+i,bottom:o,x:this._itemTmp.x,y:o+this._itemTmpUt.anchorY*i}}case I.Type.GRID:var f=Math.floor(t/this._colLineNum);switch(this._startAxis){case I.AxisDirection.HORIZONTAL:switch(this._verticalDir){case I.VerticalDirection.TOP_TO_BOTTOM:r=(o=(s=-this._topGap-(this._itemSize.height+this._lineGap)*f)-this._itemSize.height)+this._itemTmpUt.anchorY*this._itemSize.height;break;case I.VerticalDirection.BOTTOM_TO_TOP:s=(o=this._bottomGap+(this._itemSize.height+this._lineGap)*f)+this._itemSize.height,r=o+this._itemTmpUt.anchorY*this._itemSize.height}switch(l=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case I.HorizontalDirection.LEFT_TO_RIGHT:l+=this._itemTmpUt.anchorX*this._itemSize.width,l-=this._contentUt.anchorX*this._contentUt.width;break;case I.HorizontalDirection.RIGHT_TO_LEFT:l+=(1-this._itemTmpUt.anchorX)*this._itemSize.width,l-=(1-this._contentUt.anchorX)*this._contentUt.width,l*=-1}return{id:t,top:s,bottom:o,x:l,y:r};case I.AxisDirection.VERTICAL:switch(this._horizontalDir){case I.HorizontalDirection.LEFT_TO_RIGHT:a=(n=this._leftGap+(this._itemSize.width+this._columnGap)*f)+this._itemSize.width,l=n+this._itemTmpUt.anchorX*this._itemSize.width,l-=this._contentUt.anchorX*this._contentUt.width;break;case I.HorizontalDirection.RIGHT_TO_LEFT:l=(n=(a=-this._rightGap-(this._itemSize.width+this._columnGap)*f)-this._itemSize.width)+this._itemTmpUt.anchorX*this._itemSize.width,l+=(1-this._contentUt.anchorX)*this._contentUt.width}switch(r=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case I.VerticalDirection.TOP_TO_BOTTOM:r-=(1-this._itemTmpUt.anchorY)*this._itemSize.height,r+=(1-this._contentUt.anchorY)*this._contentUt.height;break;case I.VerticalDirection.BOTTOM_TO_TOP:r-=this._itemTmpUt.anchorY*this._itemSize.height,r+=this._contentUt.anchorY*this._contentUt.height,r*=-1}return{id:t,left:n,right:a,x:l,y:r}}}},a._calcExistItemPos=function(t){var e=this.getItemByListId(t);if(!e)return null;var i=e.getComponent(v),s=e.getPosition(),o={id:t,x:s.x,y:s.y};return this._sizeType?(o.top=s.y+i.height*(1-i.anchorY),o.bottom=s.y-i.height*i.anchorY):(o.left=s.x-i.width*i.anchorX,o.right=s.x+i.width*(1-i.anchorX)),o},a.getItemPos=function(t){return this._virtual||this.frameByFrameRenderNum?this._calcItemPos(t):this._calcExistItemPos(t)},a._getFixedSize=function(t){if(!this._customSize)return null;null==t&&(t=this._numItems);var e=0,i=0;for(var s in this._customSize)parseInt(s)<t&&(e+=this._customSize[s],i++);return{val:e,count:i}},a._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},a._onScrollEnded=function(){var t=this;if(t._curScrollIsTouch=!1,null!=t.scrollToListId){var e=t.getItemByListId(t.scrollToListId);t.scrollToListId=null,e&&D(e).to(.1,{scale:1.06}).to(.1,{scale:1}).start()}t._onScrolling(),t._slideMode!=yt.ADHERING||t.adhering?t._slideMode==yt.PAGE&&(null!=t._beganPos&&t._curScrollIsTouch?this._pageAdhere():t.adhere()):t.adhere()},a._onTouchStart=function(t,e){if(!this._scrollView._hasNestedViewGroup(t,e)&&(this._curScrollIsTouch=!0,!(t.eventPhase===Event.AT_TARGET&&t.target===this.node))){for(var i=t.target;null==i._listId&&i.parent;)i=i.parent;this._scrollItem=null!=i._listId?i:t.target}},a._onTouchUp=function(){var t=this;t._scrollPos=null,t._slideMode==yt.ADHERING?(this.adhering&&(this._adheringBarrier=!0),t.adhere()):t._slideMode==yt.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()),this._scrollItem=null},a._onTouchCancelled=function(t,e){var i=this;i._scrollView._hasNestedViewGroup(t,e)||t.simulate||(i._scrollPos=null,i._slideMode==yt.ADHERING?(i.adhering&&(i._adheringBarrier=!0),i.adhere()):i._slideMode==yt.PAGE&&(null!=i._beganPos?i._pageAdhere():i.adhere()),this._scrollItem=null)},a._onSizeChanged=function(){this.checkInited(!1)&&this._onScrolling()},a._onItemAdaptive=function(t){var e=t.getComponent(v);if(!this._sizeType&&e.width!=this._itemSize.width||this._sizeType&&e.height!=this._itemSize.height){this._customSize||(this._customSize={});var i=this._sizeType?e.height:e.width;this._customSize[t._listId]!=i&&(this._customSize[t._listId]=i,this._resizeContent(),this.updateAll(),null!=this._scrollToListId&&(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}},a._pageAdhere=function(){var t=this;if(t.cyclic||!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){var e=t._sizeType?t.viewTop:t.viewLeft,i=(t._sizeType?t._thisNodeUt.height:t._thisNodeUt.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>i){var s=.5;switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(s):t.nextPage(s);break;case 2:case 3:t._beganPos<e?t.prePage(s):t.nextPage(s)}}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}},a.adhere=function(){var t=this;if(t.checkInited()&&!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){t.adhering=!0,t._calcNearestItem();var e=(t._sizeType?t._topGap:t._leftGap)/(t._sizeType?t._thisNodeUt.height:t._thisNodeUt.width);t.scrollTo(t.nearestListId,.7,e)}},a.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var t=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++){var i=this.displayData[e];i&&this._createOrUpdateItem(i)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==yt.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(var s=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,o=this._updateCounter;o<s;o++)this._createOrUpdateItem2(o);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==yt.PAGE&&(this.curPageNum=this.nearestListId)},a._createOrUpdateItem=function(t){var e=this.getItemByListId(t.id);if(e)this._forceUpdate&&this.renderEvent&&(e.setPosition(new S(t.x,t.y,0)),this._resetItemSize(e),this.renderEvent&&m.emitEvents([this.renderEvent],e,t.id%this._actualNumItems));else{var i=this._pool.size()>0;if(e=i?this._pool.get():y(this._itemTmp),i&&f(e)||(e=y(this._itemTmp),i=!1),e._listId!=t.id)e._listId=t.id,e.getComponent(v).setContentSize(this._itemSize);if(e.setPosition(new S(t.x,t.y,0)),this._resetItemSize(e),this.content.addChild(e),i&&this._needUpdateWidget){var s=e.getComponent(z);s&&s.updateAlignment()}e.setSiblingIndex(this.content.children.length-1);var o=e.getComponent(P);e.listItem=o,o&&(o.listId=t.id,o.list=this,o._registerEvent()),this.renderEvent&&m.emitEvents([this.renderEvent],e,t.id%this._actualNumItems)}this._resetItemSize(e),this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},a._createOrUpdateItem2=function(t){var e,i=this.content.children[t];i?this._forceUpdate&&this.renderEvent&&(i._listId=t,e&&(e.listId=t),this.renderEvent&&m.emitEvents([this.renderEvent],i,t%this._actualNumItems)):((i=y(this._itemTmp))._listId=t,this.content.addChild(i),e=i.getComponent(P),i.listItem=e,e&&(e.listId=t,e.list=this,e._registerEvent()),this.renderEvent&&m.emitEvents([this.renderEvent],i,t%this._actualNumItems)),this._updateListItem(e),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},a._updateListItem=function(t){if(t&&this.selectedMode>Tt.NONE){var e=t.node;switch(this.selectedMode){case Tt.SINGLE:t.selected=this.selectedId==e._listId;break;case Tt.MULT:t.selected=this.multSelected.indexOf(e._listId)>=0}}},a._resetItemSize=function(t){},a._updateItemPos=function(t){var e=isNaN(t)?t:this.getItemByListId(t),i=this.getItemPos(e._listId);e.setPosition(i.x,i.y)},a.setMultSelected=function(t,e){var i=this;if(i.checkInited()){var s,o;if(Array.isArray(t)||(t=[t]),null==e)i.multSelected=t;else if(e)for(var n=t.length-1;n>=0;n--)s=t[n],(o=i.multSelected.indexOf(s))<0&&i.multSelected.push(s);else for(var a=t.length-1;a>=0;a--)s=t[a],(o=i.multSelected.indexOf(s))>=0&&i.multSelected.splice(o,1);i._forceUpdate=!0,i._onScrolling()}},a.getMultSelected=function(){return this.multSelected},a.hasMultSelected=function(t){return this.multSelected&&this.multSelected.indexOf(t)>=0},a.updateItem=function(t){if(this.checkInited()){Array.isArray(t)||(t=[t]);for(var e=0,i=t.length;e<i;e++){var s=t[e],o=this.getItemByListId(s);o&&m.emitEvents([this.renderEvent],o,s%this._actualNumItems)}}},a.updateAll=function(){this.checkInited()&&(this.numItems=this.numItems)},a.getItemByListId=function(t){if(this.content)for(var e=this.content.children.length-1;e>=0;e--){var i=this.content.children[e];if(i._listId==t)return i}},a._getOutsideItem=function(){for(var t,e=[],i=this.content.children.length-1;i>=0;i--)t=this.content.children[i],this.displayData.find((function(e){return e.id==t._listId}))||e.push(t);return e},a._delRedundantItem=function(){if(this._virtual)for(var t=this._getOutsideItem(),e=t.length-1;e>=0;e--){var i=t[e];if(!this._scrollItem||i._listId!=this._scrollItem._listId){i.isCached=!0,this._pool.put(i);for(var s=this._lastDisplayData.length-1;s>=0;s--)if(this._lastDisplayData[s]==i._listId){this._lastDisplayData.splice(s,1);break}}}else for(;this.content.children.length>this._numItems;)this._delSingleItem(this.content.children[this.content.children.length-1])},a._delSingleItem=function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},a.aniDelItem=function(t,e,i){var s=this;if(!s.checkInited()||s.cyclic||!s._virtual)return E.error("This function is not allowed to be called!");if(!e)return E.error("CallFunc are not allowed to be NULL, You need to delete the corresponding index in the data array in the CallFunc!");if(s._aniDelRuning)return E.warn("Please wait for the current deletion to finish!");var o,n=s.getItemByListId(t);if(n){o=n.getComponent(P),s._aniDelRuning=!0,s._aniDelCB=e,s._aniDelItem=n,s._aniDelBeforePos=n.position,s._aniDelBeforeScale=n.scale;var a=s.displayData[s.displayData.length-1].id,l=o.selected;o.showAni(i,(function(){var i;if(a<s._numItems-2&&(i=a+1),null!=i){var o=s._calcItemPos(i);s.displayData.push(o),s._virtual?s._createOrUpdateItem(o):s._createOrUpdateItem2(i)}else s._numItems--;if(s.selectedMode==Tt.SINGLE)l?s._selectedId=-1:s._selectedId-1>=0&&s._selectedId--;else if(s.selectedMode==Tt.MULT&&s.multSelected.length){var r=s.multSelected.indexOf(t);r>=0&&s.multSelected.splice(r,1);for(var c=s.multSelected.length-1;c>=0;c--){s.multSelected[c]>=t&&s.multSelected[c]--}}if(s._customSize){s._customSize[t]&&delete s._customSize[t];var h,_={};for(var d in s._customSize){h=s._customSize[d];var u=parseInt(d);_[u-(u>=t?1:0)]=h}s._customSize=_}for(var m,p,g=null!=i?i:a;g>=t+1;g--)if(n=s.getItemByListId(g)){var f=s._calcItemPos(g-1);m=D(n).to(.2333,{position:new S(f.x,f.y,0)}),g<=t+1&&(p=!0,m.call((function(){s._aniDelRuning=!1,e(t),delete s._aniDelCB}))),m.start()}p||(s._aniDelRuning=!1,e(t),s._aniDelCB=null)}),!0)}else e(t)},a.scrollTo=function(t,e,i,s){void 0===e&&(e=.5),void 0===i&&(i=null),void 0===s&&(s=!1);var o=this;if(o.checkInited(!1)){null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=o._numItems&&(t=o._numItems-1),!o._virtual&&o._layout&&o._layout.enabled&&o._layout.updateLayout();var n,a,l=o.getItemPos(t);if(!l)return b;switch(o._alignCalcType){case 1:n=l.left,n-=null!=i?o._thisNodeUt.width*i:o._leftGap,l=new S(n,0,0);break;case 2:n=l.right-o._thisNodeUt.width,n+=null!=i?o._thisNodeUt.width*i:o._rightGap,l=new S(n+o._contentUt.width,0,0);break;case 3:a=l.top,a+=null!=i?o._thisNodeUt.height*i:o._topGap,l=new S(0,-a,0);break;case 4:a=l.bottom+o._thisNodeUt.height,a-=null!=i?o._thisNodeUt.height*i:o._bottomGap,l=new S(0,-a+o._contentUt.height,0)}var r=o.content.getPosition();r=Math.abs(o._sizeType?r.y:r.x);var c=o._sizeType?l.y:l.x;Math.abs((null!=o._scrollPos?o._scrollPos:r)-c)>.5&&(o._scrollView.scrollToOffset(l,e),o._scrollToListId=t,o._scrollToEndTime=(new Date).getTime()/1e3+e,o._scrollToSo=o.scheduleOnce((function(){if(o._adheringBarrier||(o.adhering=o._adheringBarrier=!1),o._scrollPos=o._scrollToListId=o._scrollToEndTime=o._scrollToSo=null,s){var e=o.getItemByListId(t);e&&D(e).to(.1,{scale:1.05}).to(.1,{scale:1}).start()}}),e+.1),e<=0&&o._onScrolling())}},a._calcNearestItem=function(){var t,e,i,s,o,n,a=this;a.nearestListId=null,a._virtual&&a._calcViewPos(),i=a.viewTop,s=a.viewRight,o=a.viewBottom,n=a.viewLeft;for(var l=!1,r=0;r<a.content.children.length&&!l;r+=a._colLineNum)if(t=a._virtual?a.displayData[r]:a._calcExistItemPos(r))switch(e=a._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,a._alignCalcType){case 1:t.right>=n&&(a.nearestListId=t.id,n>e&&(a.nearestListId+=a._colLineNum),l=!0);break;case 2:t.left<=s&&(a.nearestListId=t.id,s<e&&(a.nearestListId+=a._colLineNum),l=!0);break;case 3:t.bottom<=i&&(a.nearestListId=t.id,i<e&&(a.nearestListId+=a._colLineNum),l=!0);break;case 4:t.top>=o&&(a.nearestListId=t.id,o>e&&(a.nearestListId+=a._colLineNum),l=!0)}if((t=a._virtual?a.displayData[a.displayItemNum-1]:a._calcExistItemPos(a._numItems-1))&&t.id==a._numItems-1)switch(e=a._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,a._alignCalcType){case 1:s>e&&(a.nearestListId=t.id);break;case 2:n<e&&(a.nearestListId=t.id);break;case 3:o<e&&(a.nearestListId=t.id);break;case 4:i>e&&(a.nearestListId=t.id)}},a.prePage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum-1,t)},a.nextPage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum+1,t)},a.skipPage=function(t,e){var i=this;if(i.checkInited())return i._slideMode!=yt.PAGE?E.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(t<0||t>=i._numItems||i.curPageNum!=t&&(i.curPageNum=t,i.pageChangeEvent&&m.emitEvents([i.pageChangeEvent],t),i.scrollTo(t,e)))},a.calcCustomSize=function(t){var e=this;if(e.checkInited()){if(!e._itemTmp)return E.error("Unset template item!");if(!e.renderEvent)return E.error("Unset Render-Event!");e._customSize={};var i=y(e._itemTmp),s=i.getComponent(v);e.content.addChild(i);for(var o=0;o<t;o++)m.emitEvents([e.renderEvent],i,o),s.height==e._itemSize.height&&s.width==e._itemSize.width||(e._customSize[o]=e._sizeType?s.height:s.width);return Object.keys(e._customSize).length||(e._customSize=null),i.removeFromParent(),i.destroy&&i.destroy(),e._customSize}},n(e,[{key:"slideMode",get:function(){return this._slideMode},set:function(t){this._slideMode=t}},{key:"virtual",get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling()}},{key:"updateRate",get:function(){return this._updateRate},set:function(t){t>=0&&t<=6&&(this._updateRate=t)}},{key:"selectedId",get:function(){return this._selectedId},set:function(t){var e,i=this;switch(i.selectedMode){case Tt.SINGLE:if(!i.repeatEventSingle&&t==i._selectedId)return;if(e=i.getItemByListId(t),i._selectedId>=0?i._lastSelectedId=i._selectedId:i._lastSelectedId=null,i._selectedId=t,e&&(e.getComponent(P).selected=!0),i._lastSelectedId>=0&&i._lastSelectedId!=i._selectedId){var s=i.getItemByListId(i._lastSelectedId);s&&(s.getComponent(P).selected=!1)}i.selectedEvent&&m.emitEvents([i.selectedEvent],e,t%this._actualNumItems,null==i._lastSelectedId?null:i._lastSelectedId%this._actualNumItems);break;case Tt.MULT:if(!(e=i.getItemByListId(t)))return;var o=e.getComponent(P);i._selectedId>=0&&(i._lastSelectedId=i._selectedId),i._selectedId=t;var n=!o.selected;o.selected=n;var a=i.multSelected.indexOf(t);n&&a<0?i.multSelected.push(t):!n&&a>=0&&i.multSelected.splice(a,1),i.selectedEvent&&m.emitEvents([i.selectedEvent],e,t%this._actualNumItems,null==i._lastSelectedId?null:i._lastSelectedId%this._actualNumItems,n)}}},{key:"numItems",get:function(){return this._actualNumItems},set:function(t){var e=this;if(e.checkInited(!1))if(null==t||t<0)E.error("numItems set the wrong::",t);else if(e._actualNumItems=e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e.cyclic&&(e._numItems=e._cyclicNum*e._numItems),e._onScrolling(),e.frameByFrameRenderNum||e.slideMode!=yt.PAGE||(e.curPageNum=e.nearestListId);else{e.cyclic&&(e._resizeContent(),e._numItems=e._cyclicNum*e._numItems);var i=e.content.getComponent(I);if(i&&(i.enabled=!0),e._delRedundantItem(),e.firstListId=0,e.frameByFrameRenderNum>0){for(var s=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum,o=0;o<s;o++)e._createOrUpdateItem2(o);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(var n=0;n<e._numItems;n++)e._createOrUpdateItem2(n);e.displayItemNum=e._numItems}}}},{key:"scrollView",get:function(){return this._scrollView}},{key:"contentChild",get:function(){return this.content.children}}]),e}(N)).prototype,"templateType",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return It.NODE}}),st=e(et.prototype,"tmpNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(et.prototype,"tmpPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(et.prototype,"_slideMode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yt.NORMAL}}),e(et.prototype,"slideMode",[k],Object.getOwnPropertyDescriptor(et.prototype,"slideMode"),et.prototype),at=e(et.prototype,"pageDistance",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),lt=e(et.prototype,"pageChangeEvent",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m}}),rt=e(et.prototype,"_virtual",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e(et.prototype,"virtual",[H],Object.getOwnPropertyDescriptor(et.prototype,"virtual"),et.prototype),ct=e(et.prototype,"cyclic",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ht=e(et.prototype,"lackCenter",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_t=e(et.prototype,"lackSlide",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dt=e(et.prototype,"_updateRate",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(et.prototype,"updateRate",[W],Object.getOwnPropertyDescriptor(et.prototype,"updateRate"),et.prototype),ut=e(et.prototype,"frameByFrameRenderNum",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),mt=e(et.prototype,"renderEvent",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m}}),pt=e(et.prototype,"selectedMode",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.NONE}}),gt=e(et.prototype,"selectedEvent",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m}}),ft=e(et.prototype,"repeatEventSingle",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vt=e(et.prototype,"_numItems",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),tt=et))||tt)||tt)||tt)||tt)||tt));a._RF.pop()}}}));

System.register("chunks:///_virtual/ListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(e){"use strict";var t,i,n,o,s,r,l,a,c,d,u,p,h,f,m,g,v,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,l=e._decorator,a=e.Enum,c=e.Node,d=e.SpriteFrame,u=e.Sprite,p=e.EventHandler,h=e.UITransform,f=e.tween,m=e.Vec3,g=e.Button,v=e.Component},function(e){b=e.DEV}],execute:function(){var y,C,_,S,w,E,I,F,N,T,k,z,D;r._RF.push({},"e08b34SG0lKl53dUW6g28iC","ListItem",void 0);var G,H=l.ccclass,L=l.property,M=l.disallowMultiple,O=l.menu,W=l.executionOrder;!function(e){e[e.NONE=0]="NONE",e[e.TOGGLE=1]="TOGGLE",e[e.SWITCH=2]="SWITCH"}(G||(G={}));e("default",(y=M(),C=O("List Item"),_=W(-5001),S=L({type:a(G),tooltip:b}),w=L({type:c,tooltip:b,visible:function(){return this.selectedMode>G.NONE}}),E=L({type:d,tooltip:b,visible:function(){return this.selectedMode==G.SWITCH}}),I=L({tooltip:b}),H(F=y(F=C(F=_((T=t((N=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,n(t,"selectedMode",T,o(t)),n(t,"selectedFlag",k,o(t)),n(t,"selectedSpriteFrame",z,o(t)),t._unselectedSpriteFrame=null,n(t,"adaptiveSize",D,o(t)),t._selected=!1,t._btnCom=void 0,t.list=void 0,t._eventReg=!1,t.listId=void 0,t}i(t,e);var r=t.prototype;return r.onLoad=function(){if(this.selectedMode==G.SWITCH){var e=this.selectedFlag.getComponent(u);this._unselectedSpriteFrame=e.spriteFrame}},r.onDestroy=function(){this.node.off(c.EventType.SIZE_CHANGED,this._onSizeChange,this)},r._registerEvent=function(){this._eventReg||(this.btnCom&&this.list.selectedMode>0&&this.btnCom.clickEvents.unshift(this.createEvt(this,"onClickThis")),this.adaptiveSize&&this.node.on(c.EventType.SIZE_CHANGED,this._onSizeChange,this),this._eventReg=!0)},r._onSizeChange=function(){this.list._onItemAdaptive(this.node)},r.createEvt=function(e,t,i){if(void 0===i&&(i=null),e.isValid){e.comName=e.comName||e.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var n=new p;return n.target=i||e.node,n.component=e.comName,n.handler=t,n}},r.showAni=function(e,t,i){var n,o=this,s=o.node.getComponent(h);switch(e){case 0:n=f(o.node).to(.2,{scale:new m(.7,.7)}).by(.3,{position:new m(0,2*s.height)});break;case 1:n=f(o.node).to(.2,{scale:new m(.7,.7)}).by(.3,{position:new m(2*s.width,0)});break;case 2:n=f(o.node).to(.2,{scale:new m(.7,.7)}).by(.3,{position:new m(0,-2*s.height)});break;case 3:n=f(o.node).to(.2,{scale:new m(.7,.7)}).by(.3,{position:new m(-2*s.width,0)});break;default:n=f(o.node).to(.3,{scale:new m(.1,.1)})}(t||i)&&n.call((function(){if(i){o.list._delSingleItem(o.node);for(var e=o.list.displayData.length-1;e>=0;e--)if(o.list.displayData[e].id==o.listId){o.list.displayData.splice(e,1);break}}t()})),n.start()},r.onClickThis=function(){this.list.selectedId=this.listId},s(t,[{key:"selected",get:function(){return this._selected},set:function(e){if(this._selected=e,this.selectedFlag)switch(this.selectedMode){case G.TOGGLE:this.selectedFlag.active=e;break;case G.SWITCH:var t=this.selectedFlag.getComponent(u);t&&(t.spriteFrame=e?this.selectedSpriteFrame:this._unselectedSpriteFrame)}}},{key:"btnCom",get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(g)),this._btnCom}}]),t}(v)).prototype,"selectedMode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.NONE}}),k=t(N.prototype,"selectedFlag",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(N.prototype,"selectedSpriteFrame",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(N.prototype,"adaptiveSize",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=N))||F)||F)||F)||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/LoadView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AssetHelper.ts","./AssetLoader.ts","./DataTableManager.ts","./ConfigManager.ts","./SplashState.ts","./GameUtility.ts","./JsbTool.ts"],(function(e){"use strict";var r,s,t,o,a,n,i,c,p,u,l,g,d,f,b,h,L,y,P,m,v;return{setters:[function(e){r=e.applyDecoratedDescriptor,s=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){i=e.cclegacy,c=e._decorator,p=e.Label,u=e.ProgressBar,l=e.Node,g=e.Prefab,d=e.Component},function(e){f=e.AssetHelper},function(e){b=e.assetLoader},function(e){h=e.dataTableManager},function(e){L=e.ConfigManager},function(e){y=e.SplashState},function(e){P=e.EGameBundles,m=e.MLoadOnPlayRes},function(e){v=e.JsbTool}],execute:function(){var w,B,S,x,A,M,R,T,D;i._RF.push({},"039d0yvrp9Hg4MXSfLR3jK2","LoadView",void 0);var N=c.ccclass,_=c.property;e("LoadView",(w=N("LoadView"),B=_(p),S=_(u),x=_(l),w((R=r((M=function(e){function r(){for(var r,s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return r=e.call.apply(e,[this].concat(a))||this,t(r,"progressLab",R,o(r)),t(r,"progressBar",T,o(r)),t(r,"keeperNode",D,o(r)),r.baseProgress=0,r.maxProgress=0,r}s(r,e);var i=r.prototype;return i.start=function(){this.loginLoad()},i.loginLoad=function(){var e=this;this.baseProgress=this.maxProgress,this.maxProgress=100,this.progressLab.string="0%",this.progressBar.progress=0,setTimeout((function(){v.onGameInited(),e.loadJson()}),100)},i.loadJson=function(){var e=a(n().mark((function e(){var r,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.getAssetKeeper(this.keeperNode,!0),e.next=3,h.readData(P.LoadOnPlay,r);case 3:L.instance.getData(),this.updateProgress(10),s={prefabArr:[m.LobbyOutsideNode,m.LobbyNode],scene:"Lobby"},this.preLoadRes(s);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.preLoadRes=function(e){var r=this,s=P.LoadOnPlay;b.load(s,e.prefabArr,g,(function(e,s,t){r.updateProgress(e,s)}),(function(){y.instance.m_PreloadEnded=!0,b.loadScene(P.LoadOnPlay,e.scene,(function(e,s){y.instance.m_Scene=s,r.updateProgress(99)}))}))},i.updateProgress=function(e,r){void 0===r&&(r=100);var s=this.baseProgress+=~~(e/r*(this.maxProgress-this.baseProgress));s=s>=99?99:s,this.progressLab.string=~~(100*s)+"%",this.progressBar.progress=s/100},i.onComplete=function(){this.progressBar.progress=1,this.progressLab.string="100%"},r}(d)).prototype,"progressLab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=r(M.prototype,"progressBar",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=r(M.prototype,"keeperNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=M))||A));i._RF.pop()}}}));

System.register("chunks:///_virtual/Lobby.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./AssetLoader.ts","./AudioManager.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./NodeUtils.ts","./FacilityConfig.ts","./FoodConfig.ts","./OfflineEarningsConfig.ts","./PlayerBaseConfig.ts","./SettingConfig.ts","./StarConfig.ts","./NoviceGuideMgr.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./SDKInfoMgr.ts","./AudioTool.ts","./GameTool.ts","./JsbTool.ts","./UIConfig.ts","./CustomerGroupTable.ts","./CustomerTable.ts","./StaffTable.ts","./StoryTable.ts","./LobbyCameraControl.ts","./LobbyRoomData.ts","./LobbyUtility.ts","./MapManager.ts"],(function(e){"use strict";var t,o,i,n,a,s,r,u,c,l,f,d,b,m,g,y,p,h,v,D,N,C,L,M,_,R,T,w,G,I,A,E,P,S,V,O,U,z,H,k,x,B,F,K,J,j,W,q,Q,X,Y,Z,$,ee,te;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,r=e._decorator,u=e.Node,c=e.v2,l=e.v3,f=e.find,d=e.view,b=e.JsonAsset,m=e.UITransform,g=e.size,y=e.assetManager,p=e.instantiate,h=e.Component,v=e.Prefab},function(e){D=e.eventDispatcher},function(e){N=e.assetLoader},function(e){C=e.audioManager},function(e){L=e.dataTableManager},function(e){M=e.LocalizationHelper},function(e){_=e.uiManager},function(e){R=e.default},function(e){T=e.facilityConfig},function(e){w=e.foodConfig},function(e){G=e.offlineEarningsConfig},function(e){I=e.playerBaseConfig},function(e){A=e.settingConfig},function(e){E=e.starConfig},function(e){P=e.EGuideStep,S=e.NoviceGuideMgr},function(e){V=e.EDataTables},function(e){O=e.MEventNames},function(e){U=e.EGameBundles,z=e.MLoadOnPlayRes},function(e){H=e.SDKInfoMgr},function(e){k=e.EAudioGroup,x=e.AudioTool,B=e.EMusicType},function(e){F=e.GameTool},function(e){K=e.JsbTool},function(e){J=e.MUIConfig},function(e){j=e.CustomerGroupTable},function(e){W=e.CustomerTable},function(e){q=e.StaffTable},function(e){Q=e.StoryTable},function(e){X=e.LobbyCameraControl},function(e){Y=e.LobbyRoomData,Z=e.ELobbyRoomId},function(e){$=e.MLobbyEvent,ee=e.ELobbyLayer},function(e){te=e.MapManager}],execute:function(){var oe,ie,ne,ae,se,re,ue,ce,le,fe;s._RF.push({},"9800bo77DJCIoosUlhA+vw3","Lobby",void 0);var de=r.ccclass,be=r.property;e("Lobby",(oe=de("Lobby"),ie=be({type:u,displayName:"Debug Node"}),ne=be({type:u,displayName:"Debug Layer"}),ae=be(u),oe(((fe=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this).m_Rooms={},t.m_DynNodes={},t.m_HouseOffset=l(),t.m_Vec0=l(),i(t,"m_DebugNode",ue,n(t)),i(t,"m_DebugLayer",ce,n(t)),i(t,"cameraNode",le,n(t)),t.currentRoomIndex=c(),t.tipNode=void 0,t}o(t,e);var s=t.prototype;return s.getDynNode=function(e){return this.m_DynNodes[e+""]},s.getViewRoom=function(){return Y.getRoomId(this.currentRoomIndex)},s.addEvent=function(){D.on(O.AddView,this,this.addView)},s.removeEvent=function(){D.off(O.AddView,this,this.addView)},s.onDestory=function(){this.removeEvent()},s.onLoad=function(){var e=this;if(this.addEvent(),t.instance=this,Y.initRoomPos(),this.initDataTable(),this.tipNode=f("GameCanvas/SceneTip"),H.getAllRechargeOrder(),!globalThis.debugtest.onlyUI){var o=0;D.on($.InitDynamicNode,this,(function(){3==++o&&e.initRooms()}))}},s.onDestroy=function(){t.instance=null,D.offAllCaller(this)},s.start=function(){globalThis.debugtest.onlyUI||this.initMaps();var e=0;switch(K.countryStr){case"US":e=30;break;case"UK":e=31;break;case"PH":e=32;break;default:e=16}var t=L.getData(V.Constant,e).Value;if(F.splitNumberArray(t).forEach((function(e){w.addNewFood(e,!1)})),I.playerName&&""!=I.playerName||(I.playerName=M.getString("1_24")),globalThis.debugtest.closeNoviceGuide){if(1==E.curStarID){var o=L.getData(V.Constant,16).Value;F.splitNumberArray(o).forEach((function(e){w.addNewFood(e,!1)})),T.unlockFacilitySubId(5),T.setUnlockRegion(5)}I.noviceGuideData[P.Guide_GameBegin]=1,D.event(O.guideDone)}S.instance.checkNoviceGuide(P.Guide_GameBegin),X.instance.jumpToRoomId(Z.Lobby),G.money>=1e3&&_.openView(J.OfflineEarningsView);var i=C.getAudioGroup(k.Music);i&&(i.volume=A.music),(i=C.getAudioGroup(k.Sound))&&(i.volume=A.sound),x.play(B.bg),_.openView(J.HomePageView)},s.getHousePos=function(){var e=this.m_Vec0;return this.cameraNode.getWorldPosition(e),e.add(this.m_HouseOffset),e.z=0,e},s.initHouseOffset=function(e){var t=this.m_HouseOffset;e.getWorldPosition(t);var o=this.m_Vec0,i=d.getVisibleSize(),n=i.width,a=i.height;o.x=.5*n,o.y=.5*a,t.subtract(o)},s.initMaps=function(){var e=Y.getRoomLayerHeight(),t=this.m_DynNodes,o=ee.Lobby+"";t[o]=this.initMap("Kitchen_Lobby_PrivateRoom",0,0,o),t[o=ee.LobbyOutside+""]=this.initMap("LobbyOutside",0,e,o),t[o=ee.Auditorium+""]=this.initMap("Auditorium",0,-e,o)},s.initRooms=function(){for(var e=this,o=[z.LobbyNode,z.KitchenNode,z.AuditoriumNode,z.LobbyOutsideNode,z.PrivateRoomNode],i=t.RoomIndex,n=f("GameCanvas/Room"),a=U.LoadOnPlay,s=this.m_Vec0,r=o.length,u=0,c=function(t){var c=o[t],l=i[t];N.load(a,c,v,(function(t,o){var i=R.instantiate(c,o,!0);Y.getRoomPosByIndex(l,s),i.setPosition(s),n.addChild(i),e.m_Rooms[l.x+","+l.y]=i,++u==r&&e.scheduleOnce((function(){D.event($.AllRoomLoaded)}),.1)}))},l=0;l<r;l++)c(l)},s.initMap=function(e,t,o,i){var n=f("GameCanvas/"+e);return N.load(U.LoadOnPlay,"Res/Map/"+e,b,(function(e,a){var s=a.json,r=s.mapWidth,u=s.mapHeight;n.getComponent(m).setContentSize(g(r,u)),n.setPosition(l(.5*-r+t,.5*-u+o)),te.get(i).init(s,i),y.releaseAsset(a),Y.init(i),D.event($.InitDynamicNode,i)})),n},s.initDataTable=function(){W.init(),j.init(),Q.init(),q.init()},s.initDebugNode=function(e,t){this.m_DebugNode.getComponent(m).setContentSize(g(e-1,t-1))},s.getDebugNode=function(e,t){var o=p(this.m_DebugNode),i=l();return i.set(e,t),o.setPosition(i),o.setParent(this.m_DebugLayer),o},s.addView=function(e){e&&(_.getView(e.viewConfig)||_.openView(e.viewConfig,null,e.viewData))},a(t,[{key:"rooms",get:function(){return this.m_Rooms}}]),t}(h)).RoomIndex=[c(),c(-1,0),c(0,-1),c(0,1),c(1,0)],fe.instance=void 0,ue=t((re=fe).prototype,"m_DebugNode",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(re.prototype,"m_DebugLayer",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t(re.prototype,"cameraNode",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=re))||se));s._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyAdapterBottom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LobbyRoomData.ts"],(function(o){"use strict";var t,r,e,n,a,i,c,s,p,u;return{setters:[function(o){t=o.applyDecoratedDescriptor,r=o.inheritsLoose,e=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){a=o.cclegacy,i=o._decorator,c=o.UITransform,s=o.v3,p=o.Component},function(o){u=o.LobbyRoomData}],execute:function(){var l,d,y;a._RF.push({},"9c3efDad8xEvbnlKaTi6oTT","LobbyAdapterBottom",void 0);var b=i.ccclass,h=i.property;o("LobbyAdapterBottom",b("LobbyAdapterBottom")((y=t((d=function(o){function t(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=o.call.apply(o,[this].concat(a))||this,e(t,"roomId",y,n(t)),t}r(t,o);var a=t.prototype;return a.onLoad=function(){this.adapter()},a.adapter=function(){var o=this.roomId;if(o){var t=this.node,r=t.getComponent(c),e=s();t.getWorldPosition(e),1!=r.anchorY&&(r.anchorY=1,e.y=e.y+.5*r.height,t.setWorldPosition(e));var n=u.getRoomPos(o);r.height=Math.abs(e.y-n.y)}},t}(p)).prototype,"roomId",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=d))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyAdapterTop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LobbyRoomData.ts"],(function(o){"use strict";var t,e,r,i,n,a,c,s,p,u,l;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,r=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){n=o.cclegacy,a=o._decorator,c=o.view,s=o.UITransform,p=o.v3,u=o.Component},function(o){l=o.LobbyRoomData}],execute:function(){var h,d,y;n._RF.push({},"cc6da/owKJK0pB0BeEHxKh/","LobbyAdapterTop",void 0);var b=a.ccclass,f=a.property;o("LobbyAdapterTop",b("LobbyAdapterTop")((y=t((d=function(o){function t(){for(var t,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=o.call.apply(o,[this].concat(n))||this,r(t,"roomId",y,i(t)),t}e(t,o);var n=t.prototype;return n.onLoad=function(){this.adapter()},n.adapter=function(){var o=this.roomId;if(o){var t=c.getVisibleSize(),e=this.node,r=e.getComponent(s),i=p();e.getWorldPosition(i),0!=r.anchorY&&(r.anchorY=0,i.y=i.y+-.5*r.height,e.setWorldPosition(i));var n=l.getRoomPos(o);r.height=t.height-Math.abs(i.y-n.y)}},t}(u)).prototype,"roomId",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=d))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyCameraControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./EventUtility.ts","./Lobby.ts","./LobbyRoomData.ts","./LobbyRoomBase.ts"],(function(o){"use strict";var t,i,e,n,s,m,h,a,r,c,_,u,v,g,d,f,y,R,l,p;return{setters:[function(o){t=o.applyDecoratedDescriptor,i=o.inheritsLoose,e=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){s=o.cclegacy,m=o._decorator,h=o.v2,a=o.v3,r=o.input,c=o.Input,_=o.NodeEventType,u=o.tween,v=o.Vec3,g=o.Component},function(o){d=o.default},function(o){f=o.eventDispatcher},function(o){y=o.MEventNames},function(o){R=o.Lobby},function(o){l=o.LobbyRoomData},function(o){p=o.LobbyRoomBase}],execute:function(){var x,T,P,b,M,C,E,D;s._RF.push({},"6f5fbxCSFlBCokBnDLmXuLT","LobbyCameraControl",void 0);var I=m.ccclass,S=m.property;o("LobbyCameraControl",(x=I("LobbyCameraControl"),T=S({tooltip:"滑动速度"}),P=S({tooltip:"滑动切页距离"}),x(((D=function(o){function t(){for(var t,i=arguments.length,s=new Array(i),m=0;m<i;m++)s[m]=arguments[m];return t=o.call.apply(o,[this].concat(s))||this,e(t,"moveSpeed",C,n(t)),e(t,"moveDistance",E,n(t)),t.m_CameraNode=void 0,t.m_Rooms=void 0,t.m_RoomBases=void 0,t.m_RoomIndex=void 0,t.m_Moving=!1,t.m_MovingDis=h(),t.m_MovingPos=a(),t.m_EndPos=a(),t.m_Moved=!1,t.m_Tweening=!1,t.m_Pos0=a(),t.m_Pos1=a(),t.m_Index0=h(),t}i(t,o);var s=t.prototype;return s.onEnable=function(){var o=this;r.on(c.EventType.TOUCH_START,this.onTouchStart,this),r.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),r.on(c.EventType.TOUCH_END,this.onTouchEnd,this);var t=!1,i=0,e=0;this.node.on(_.TOUCH_START,(function(n){t=!1,i=e=0,o.onTouchStart(n)}),this,!0),this.node.on(_.TOUCH_MOVE,(function(n){i+=Math.abs(n.getDeltaX()),e+=Math.abs(n.getDeltaY()),i+e>=10&&(t=!0),o.onTouchMove(n)}),this,!0),this.node.on(_.TOUCH_END,(function(i){t&&(t=!1,i.propagationStopped=!0),o.onTouchEnd(i)}),this,!0),this.node.on(_.TOUCH_CANCEL,this.onTouchEnd,this,!0)},s.onDisable=function(){r.off(c.EventType.TOUCH_START,this.onTouchStart,this),r.off(c.EventType.TOUCH_MOVE,this.onTouchMove,this),r.off(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.targetOff(this)},s.onLoad=function(){t.instance=this;var o=R.instance;this.m_CameraNode=o.cameraNode,this.m_RoomIndex=o.currentRoomIndex,this.m_Rooms=o.rooms,this.m_RoomBases={}},s.onDestroy=function(){t.instance=null,this.m_CameraNode=this.m_Rooms=this.m_RoomBases=this.m_RoomIndex=null},s.jumpToRoom=function(o,t,i,e){if(void 0===i&&(i=!1),void 0===e&&(e=null),!this.m_Tweening){this.m_EndPos.set();var n=this.m_RoomIndex;if(n.x!=o||n.y!=t){n.y!=t&&(i=!0);var s=this.m_Index0;if(s.set(o,t),e)n.set(s.x,s.y),this.changeRoom(e,i);else if(this.getRoom(s)){n.set(s.x,s.y);var m=this.getRoomPos(s,this.m_Pos0);this.changeRoom(m,i)}}}},s.jumpToRoomId=function(o,t){void 0===t&&(t=!1);var i=l.getRoomIndex(o),e=l.getRoomPos(o,this.m_Pos0);e.z=1e3,this.jumpToRoom(i.x,i.y,t,e)},s.onTouchStart=function(o){this.m_Tweening||(this.m_Moving=!1,this.m_CameraNode.getPosition(this.m_MovingPos),this.m_MovingDis.set(),this.m_EndPos.set(),this.m_Moved=!1,d.debug("Start move game camera."))},s.onTouchMove=function(o){if(!this.m_Tweening){var t=this.moveSpeed,i=this.moveDistance,e=this.m_MovingDis,n=o.getDeltaX()*t.x,s=o.getDeltaY()*t.y;if(e.x+=n,e.y+=s,!this.m_Moving&&Math.abs(e.y)>=i.y&&Math.abs(e.y)/Math.abs(e.x)>2&&!this.m_Moved){this.m_Moved=!0;var m=this.m_RoomIndex,h=this.m_Index0;if(h.set(m.x,m.y),h.x=0,h.y+=e.y<0?1:-1,this.getRoom(h)){m.set(h.x,h.y);var a=this.getRoomPos(h,this.m_Pos0);this.changeRoom(a,!0)}}if(Math.abs(e.x)>=i.y){this.m_Moving=!0;var r=this.m_MovingPos,c=this.m_Pos1;c.set(r.x,r.y,0),c.x-=n,this.checkBound(c,n)?r.x-=n:c.z<0&&(r.x=c.x)}}},s.onTouchEnd=function(o){if(!this.m_Tweening){var t=this.moveDistance,i=this.m_MovingDis,e=this.m_RoomIndex;if(Math.abs(i.x)>=t.x){var n=this.m_Index0;if(n.set(e.x,e.y),n.x+=i.x<0?1:-1,this.getRoom(n)){e.set(n.x,n.y);var s=this.getRoomPos(n,this.m_Pos0);this.changeRoom(s)}this.checkSpringback()||this.m_EndPos.set(this.m_MovingPos)}else this.checkSpringback()?this.getRoomPos(e,this.m_EndPos):this.m_EndPos.set(this.m_MovingPos);this.m_Moving=!1,this.m_CameraNode.getPosition(this.m_MovingPos),i.set()}},s.getRoom=function(o){return!!this.m_Rooms[this.getKey(o)]},s.getRoomPos=function(o,t){var i=this.m_Rooms[this.getKey(o)];return i?(i.getPosition(t),t.z=1e3,t):null},s.changeRoom=function(o,t){var i=this;void 0===t&&(t=!1);var e=this.m_CameraNode;t?(e.setPosition(o),e.getPosition(this.m_MovingPos)):(this.m_Tweening=!0,u(e.position).to(.3,{x:o.x,y:o.y},{onUpdate:function(o){e.setPosition(o)}}).call((function(){i.m_Tweening=!1})).start()),f.event(y.ChangeRoom,this.m_RoomIndex)},s.checkBound=function(o,t){var i=this.m_RoomIndex,e=this.m_Index0;e.set(i.x,i.y);var n=t>0?-1:1;if(e.x+=n,this.getRoom(e)){var s=this.getRoomPos(e,this.m_Pos0);if(t>0?o.x>=s.x:o.x<=s.x)return!0}var m=this.getKey(i),h=this.getRoomBase(m);return!!h&&h.checkBound(o)},s.checkSpringback=function(){var o=this.m_RoomIndex,t=this.getKey(o),i=this.getRoomBase(t);return!!i&&i.checkSpringback()},s.getKey=function(o){return o.x+","+o.y},s.getRoomBase=function(o){var t=this.m_RoomBases[o];if(!t){var i=this.m_Rooms[o];i&&(t=i.getComponent(p),this.m_RoomBases[o]=t)}return t},s.update=function(o){var t=this.m_Pos0,i=this.m_EndPos,e=this.m_CameraNode;if(this.m_Moving||0!=i.z){var n=this.m_Moving?this.m_MovingPos:i;e.getPosition(t),v.lerp(t,t,n,.1),e.setPosition(t)}0!=i.z&&(e.getPosition(t),v.squaredDistance(i,t)<1&&(e.setPosition(i),i.set()))},t}(g)).instance=void 0,C=t((M=D).prototype,"moveSpeed",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h(2,2)}}),E=t(M.prototype,"moveDistance",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h(100,10)}}),b=M))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyConstruct.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LobbyNode.ts","./LobbyUtility.ts","./StaffTaskQueue.ts","./ConstructDesk.ts","./ConstructBase.ts","./ConstructMgr.ts","./SceneMemuMgr.ts","./KitchenCookMgr.ts","./FacilityConfig.ts","./FacilityTool.ts","./EventUtility.ts","./Lobby.ts","./AreaTool.ts","./ConstructCookLocal.ts","./FoodEnumConfig.ts"],(function(t){"use strict";var e,s,n,i,o,a,r,c,h,d,u,l,f,C,D,m,S,g,p,k,v,b,y,L,N,P;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,n=t._decorator,i=t.Vec3,o=t.randomRangeInt},function(t){a=t.eventDispatcher},function(t){r=t.LobbyNode},function(t){c=t.MLobbyEvent,h=t.ELobbyLayer,d=t.ELobbyServeDishes},function(t){u=t.EStaffTaskType},function(t){l=t.ConstructDesk},function(t){f=t.EStaffNameVec,C=t.ConstructBase,D=t.EConstructName},function(t){m=t.ConstructMgr},function(t){S=t.ESceneMenuData,g=t.SceneMemuMgr},function(t){p=t.KitchenCookMgr},function(t){k=t.facilityConfig},function(t){v=t.FacilityTool},function(t){b=t.MEventNames},function(t){y=t.Lobby},function(t){L=t.AreaTool},function(t){N=t.ConstructCookLocal},function(t){P=t.ELocalConstruct}],execute:function(){var M;s._RF.push({},"18a9beD8cVLoplfLPigE/UQ","LobbyConstruct",void 0);var _=n.ccclass;n.property,t("LobbyConstruct",_("LobbyConstruct")(M=function(t){function s(){for(var e,s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).m_DeskLst=[],e.m_SortLst=["Bar","Counter","Cinnabar","Adorn"],e.m_SortNodeVer=[],e.m_constructName=D.Lobby,e}e(s,t);var n=s.prototype;return n.onLoad=function(){t.prototype.onLoad.call(this),m.instance.registerConstruct(this.m_constructName,this),this.registerUpdateConstruct("Desk",this.UpdateDesk),this.registerUpdateConstruct("Wall",this.UpdateWall),this.registerUpdateConstruct("Floor",this.UpdateFloor),this.registerUpdateConstruct("Bar",this.UpdateAnyConstruct),this.registerUpdateConstruct("Cinnabar",this.UpdateAnyConstruct),this.registerUpdateConstruct("Counter",this.UpdateAnyConstruct),this.registerUpdateConstruct("Adorn",this.UpdateAnyConstruct),this.initMaxDesk()},n.start=function(){var t=this.m_ConstructMap.Initial;this.setScaleNode(t)},n.initEvent=function(){a.on(c.InitDynamicNode,this,this.instartChild),a.on(c.AllRoomLoaded,this,this.AllRoomLoaded),a.on(c.CustomerSitDown,this,this.OnCustomerSitDown),a.on(c.ServeDished,this,this.OnServeDished),a.on(c.PayEating,this,this.OnPayEating),a.on(c.PayEated,this,this.OnPayEated),a.on(c.ClearEatTable,this,this.OnClearEatTable),a.on(b.UpdateAreaUnlock,this,this.UpdateAreaUnlock),a.on(c.UpdateDeskMax,this,this.UpdateDeskMax),a.on(c.StartDine,this,this.OnStartDine),a.on(c.OrderDished,this,this.OnOrderDished)},n.removeEvent=function(){a.off(c.InitDynamicNode,this,this.instartChild),a.off(c.AllRoomLoaded,this,this.AllRoomLoaded),a.off(c.CustomerSitDown,this,this.OnCustomerSitDown),a.off(c.ServeDished,this,this.OnServeDished),a.off(c.PayEating,this,this.OnPayEating),a.off(c.PayEated,this,this.OnPayEated),a.off(c.ClearEatTable,this,this.OnClearEatTable),a.off(b.UpdateAreaUnlock,this,this.UpdateAreaUnlock),a.off(c.UpdateDeskMax,this,this.UpdateDeskMax),a.off(c.StartDine,this,this.OnStartDine),a.off(c.OrderDished,this,this.OnOrderDished)},n.instartChild=function(t){h.Lobby},n.AllRoomLoaded=function(){this.getStaffConfig(),this.getLobbyConfig(),this.registerLocalPos(),this.registerConstruct(),this.registerCatNode(),this.UpdateDeskMax(this.m_constructName)},n.registerConstruct=function(){var t=y.instance.getDynNode(h.Lobby);this.m_SortNode=t,this.UpdateAreaUnlock(this.m_constructName)},n.registerCatNode=function(){var t=this.m_ConstructMap.Cat;t&&(this.switchNode(this.m_SortNode,t),this.checkCatShow())},n.registerLocalPos=function(){var t=P.DRINK;if(!L.instance.getUnlockSubId(t.Id)){var e=this.m_ConstructMap[t.Name];if(e)e.getComponent(N).registerLocalPos(t.ECook)}},n.getStaffConfig=function(){var t=r.instance,e=r.instance.staffConfig,s=e.idlePos;s=null==s?{}:s;var n=this.m_ConstructMap[f.Idle];this.registerAllPos(n,s,h.Lobby,this.restoreNodePostion.bind(this)),e.idlePos=s,t.onStaffConfigInited()},n.getLobbyConfig=function(){var t=r.Config,e=this.m_ConstructMap[f.Doorpoint];t.doorPos=e.position;var s=this.m_ConstructMap[f.Stairspoint01];t.lobbyTransferPos=this.getNodeAllPos(s);var n=this.m_ConstructMap[f.Line];t.queueArea=this.getNodeAllPos(n),r.instance.initConfig(t)},n.registerETable=function(t,e,s){var n=r.instance.eatTables[t];n=e.registerETable(t,n,s),r.instance.eatTables[t]=n},n.UpdateDesk=function(t,e,s,n,i,o){e.updateNode(s,n),e.registerDeskToSortNode(i,n,o,!1)},n.registerDeskToSortNode=function(t,e,s,n){void 0===n&&(n=!0);var i=e.getComponent(l);(i=null==i?e:i).registerSortAllNode(this.m_SortNode),this.registerETable(t,i,s),n||this.registerDesk(t,i)},n.registerDesk=function(t,e){var s=this.m_DeskLst[t];s&&s.removeSortLst(),this.m_DeskLst[t]=e},n.OnCustomerSitDown=function(t){if(!(t>7)){var e={eMenuStart:S.Order,data:{handler:c.OrderDishes,hanlderData:t},task:{taskHandler:u.OrderDishes,taskData:t}};this.setDeskSceneMenuState(t,e)}},n.OnServeDished=function(t,e){if(!(t>7)){var s=p.instance.getCookOrderId(t,e);s&&this.updateSceneFoodServce(s,e)}},n.OnCustomerLeaveEating=function(t){this.resetDeskStarte(t)},n.OnPayEating=function(t){if(!(t>7)){this.resetWare(t);var e={eMenuStart:S.PayABill,data:{handler:c.PayEating3,hanlderData:t,subHandle:c.PayEating2},task:{taskHandler:u.Cashier,taskData:t}};this.setDeskSceneMenuState(t,e)}},n.OnPayEated=function(t,e){void 0===e&&(e=!0),t>7||a.event(c.ClearEatTableing,[t,e])},n.OnClearEatTable=function(t){t>7||this.resetDeskStarte(t)},n.resetDeskStarte=function(t){var e=p.instance.CookOrder[t];if(e){e=null;var s=this.m_DeskLst[t];s&&s.resetDeskSceneFood()}},n.updateSceneFoodServce=function(t,e){var s=t.NdeskId,n=this.m_DeskLst[s];n&&n.updateSceneFoodType(t,e)},n.resetWare=function(t){var e=this.m_DeskLst[t];if(e){var s=p.instance.CookOrder[t];s&&e.udpateReset(s)}},n.setDeskSceneMenuState=function(t,e){var s=this.m_DeskLst[t];if(s){var n=s.getTipsPostion();e.worldPosition=m.instance.getSceneTipsPos(n),g.instance.showTips(e)}},n.UpdateAreaUnlock=function(t){t==this.m_constructName&&(this.checkInitial("Initial",this.m_constructName),this.checkCatShow(),this.updateAllConstruct(t))},n.UpdateWall=function(t,e,s,n,i){e.updateNode(s,n),e.switchPartition(e.m_SortNode)},n.switchPartition=function(t){var e=this.m_ConstructMap.Wall;e=(e=e.children[0]).getChildByName("Partition"),this.setSortNodeVer("Partition",e),this.switchNode(t,e)},n.UpdateFloor=function(t,e,s,n,i){e.updateNode(s,n),e.switchStairs(e.m_SortNode)},n.switchStairs=function(t){this.m_ConstructMap.Floor.getComponentInChildren("ConstructRoomWall").node.active=!1},n.checkCatShow=function(){var t=this.m_ConstructMap.Cat;if(t){var e=this.m_ConstructMap.Initial;t.active=!e.active}},n.UpdateDeskMax=function(t){t==this.m_constructName&&this.CheckNobuiltDesk(this.m_constructName)},n.onCookingEnd=function(t,e,s){if(!(t>7)){var n={eMenuStart:s==d.HotPot?S.OrderBowl:S.ServerTDishes,task:s==d.HotPot?{taskHandler:u.ServeHotPot,taskData:t}:{taskHandler:u.ServeDishes,taskData:t},data:{handler:c.ServeDished,hanlderData:[t,s],subHandle:c.ServeDishes}};this.setLobbySceneMenuState(t,n)}},n.setLobbySceneMenuState=function(t,e){var s=this.m_DeskLst[t].getTipsPostion();e.worldPosition=m.instance.getSceneTipsPos(s),e.scale=new i(.8,.8,1),g.instance.showTips(e)},n.OnStartDine=function(t,e){if(!(t>7)){var s={eMenuStart:S.StartDine},n=this.m_DeskLst[t].getTimePostion();s.worldPosition=m.instance.getSceneTipsPos(n),g.instance.showTimeTips(s,e)}},n.OnOrderDished=function(t){var e=t.NdeskId;if(!(e>7)){var s=o(0,t.NbowlId.length),n={eMenuStart:t.NbowlId[s],data:{handler:c.ImmediatelyCookEnd,hanlderData:e,subHandle:c.StartDine,findHanndle:c.ServeDishes}},i=this.m_DeskLst[e];console.assert(null!=i,"deskId = "+e+" to null");var a=i.getTimePostion();n.worldPosition=m.instance.getSceneTipsPos(a),g.instance.showCookEnd(n)}},n.initMaxDesk=function(){k.registerMaxDeskId(this.m_constructName,0),v.instance.registerMaxDeskId(this.m_constructName,7)},s}(C))||M);s._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyLoadView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./EventUtility.ts"],(function(t){"use strict";var o,e,n,i,s,r;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,i=t.Component},function(t){s=t.eventDispatcher},function(t){r=t.MEventNames}],execute:function(){var c;e._RF.push({},"62dc45UIAlHFb2DR1kA6ktN","LobbyLoadView",void 0);var u=n.ccclass;n.property,t("LobbyLoadView",u("LobbyLoadView")(c=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.start=function(){s.on(r.closeLoadView,this,this.destroyNode)},n.onDestroy=function(){s.offAllCaller(this)},n.destroyNode=function(){this.node.destroy()},e}(i))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./AssetLoader.ts","./NodeUtils.ts","./GameUtility.ts","./StaffTable.ts","./Lobby.ts","./LobbyRoomData.ts","./LobbyUtility.ts","./MapRoadManager.ts","./StaffBase.ts","./StaffCashier.ts","./StaffCutDish.ts","./StaffHostess.ts","./StaffServeDish.ts","./StaffServeHotPot.ts","./StaffTaskQueue.ts","./StaffWaiter.ts","./StaffWasher.ts","./StaffConfig.ts","./EventUtility.ts","./SWaitState.ts","./SSlackState.ts","./StaffActor.ts","./TaskConfig.ts","./LobbyOutsideNode.ts","./CustomerGroupTable.ts"],(function(t){"use strict";var e,a,n,i,s,o,f,r,u,c,h,l,d,S,g,v,m,C,p,b,_,y,T,A,P,L,k,E,W,D,I,M,O,N,Q,R,H,B,G,x,F,U,q;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass},function(t){n=t.cclegacy,i=t._decorator,s=t.v3,o=t.assetManager,f=t.Prefab,r=t.sp,u=t.Component},function(t){c=t.default},function(t){h=t.eventDispatcher},function(t){l=t.assetLoader},function(t){d=t.default},function(t){S=t.EGameBundles,g=t.MLoadOnPlayRes},function(t){v=t.StaffTable},function(t){m=t.Lobby},function(t){C=t.LobbyRoomData},function(t){p=t.ELobbyLayer,b=t.MLobbyEvent,_=t.ELobbyStaffType,y=t.ELobbyServeDishes,T=t.MPersonResPath},function(t){A=t.default},function(t){P=t.StaffBase},function(t){L=t.StaffCashier},function(t){k=t.StaffCutDish},function(t){E=t.StaffHostess},function(t){W=t.StaffServeDish},function(t){D=t.StaffServeHotPot},function(t){I=t.StaffTaskQueue,M=t.EStaffTaskType},function(t){O=t.StaffWaiter},function(t){N=t.StaffWasher},function(t){Q=t.staffConfig},function(t){R=t.MEventNames},function(t){H=t.SWaitState},function(t){B=t.SSlackState},function(t){G=t.StaffActor},function(t){x=t.taskConfig,F=t.ETaskType},function(t){U=t.LobbyOutsideNode},function(t){q=t.CustomerGroupTable}],execute:function(){var w,V;n._RF.push({},"ebd95gDDK1EVIW9QnjiSvap","LobbyNode",void 0);var j=i.ccclass,K=(i.property,0),z=0,J=[],X=[];t("LobbyNode",j("LobbyNode")(((V=function(t){function n(){for(var e,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).m_StaffConfig={},e.m_StaParent=void 0,e.m_StaPrefab=void 0,e.m_RoadManager=void 0,e.m_Staffs={},e.m_EatTables={},e.m_StaSpine={},e.m_WaitCustomers=[],e.m_QueueCus=void 0,e.m_QueueFree0=[],e.m_Vec0=s(),e}e(n,t);var i=n.prototype;return i.start=function(){var t=this,e=m.instance,a=p.Lobby;this.m_RoadManager=A.get(a+""),this.m_StaParent=e.getDynNode(a),this.initStaffAbout(),this.initTaskAbout(),this.initPreload(),h.on(R.Staff_unlock,this,(function(e){t.getStaff(Q.get_staff_res(e))})),h.on(R.Staff_fire,this,(function(e){t.m_Staffs[e]=null})),h.on(R.StaffPlan_check_actor_wait,this,this.onActorStart),h.on(b.CustomerLeaveWaitIns,this,this.onCustomerLeaveWaitIns)},i.onLoad=function(){n.instance=this},i.onDestroy=function(){n.instance=n.Config=null,this.m_RoadManager=this.m_StaPrefab=this.m_StaParent=null,this.m_EatTables=null,h.offAllCaller(this)},i.update=function(t){var e=this.m_EatTables;for(var a in e)e[a].update(t)},i.staffCanFire=function(t){if(15==t||20==t)return!0;var e=this.m_Staffs[t];if(e){var a=!1;if(e.config.Type==_.Actor)a=!0;else{var n=e.fsm.currentState;n!=H.instance&&n!=B.instance||(a=!0)}return a}c.error("Invalid staff id to fire:",t)},i.initConfig=function(t){n.Config=t,t.queueArea&&!this.m_QueueCus&&(this.m_QueueCus=[],this.m_QueueCus.length=t.queueArea.length),z++,this.checkConfig()},i.onStaffConfigInited=function(){K++,this.checkConfig()},i.checkConfig=function(){K>=4&&z>=2&&this.getCurrentStaff()},i.getCurrentStaff=function(){var t=this.m_StaffConfig.idlePos||{},e=C.getTransferPos(p.Auditorium+"")[0];t[15]={pos:e,layer:p.Auditorium},t[20]={pos:e,layer:p.Auditorium};for(var a=Q.get_employ_staffs(),n=0,i=a.length;n<i;n++)this.getStaff(a[n].skinRes);this.onActorStart()},i.getEatTable=function(t){return this.m_EatTables[t+""]},i.getAllWaitCusts=function(){var t=U.instance;return J.length=0,J.push.apply(J,this.m_WaitCustomers),J.push.apply(J,t.getWaitCusts()),J},i.getEatTablesArray=function(){var t=this.m_EatTables;if(X.length!=Object.keys(t).length)for(var e in X.length=0,t)X.push(t[e]);return X},i.getFreeTableCount=function(){var t=this.m_EatTables,e=0;for(var a in t)t[a].customers||e++;return e},i.getWaitCount=function(){return this.m_WaitCustomers.length},i.checkEatTable=function(){var t=null,e=this.getAllWaitCusts(),a=this.getEatTablesArray();a.sort((function(t,e){return t.custEatCount-e.custEatCount}));for(var n=0;n<a.length;n++){var i=a[n];if(!i.customers&&e.length>=i.custEatCount){t=i;break}}if(t){for(var s=e.splice(0,t.custEatCount),o=[],f={},r=0;r<s.length;r++){var u=s[r];h.event(b.CustomerLeaveWait,[u]),h.event(b.CustomerLeaveWaitIns,[u]);var c=u[0];o.push(c),c.group=o,c.groupData=f}f.groupData=q.getGroupData(o),t.startOn(o);for(var l=0;l<o.length;l++){o[l].startGoEat(t)}return I.instance.add(M.Hostess,0),!0}return!1},i.checkQueue=function(t){var e=this.m_QueueFree0;e.length=0;for(var a=this.m_QueueCus,i=0,s=a.length;i<s;i++)a[i]||e.push(i);if(e.length>=t.length){h.event(b.CustomerLeaveWait,[t]),this.addWaitCusts(t);for(var o=n.Config.queueArea,f=0;f<t.length;f++){var r=e[f],u=o[r],c=t[f];a[r]=c,c.startGoWaitInside(u,0==r)}return!0}return!1},i.addWaitCusts=function(t){var e=this.m_WaitCustomers;e.indexOf(t)<0&&e.push(t)},i.onCustomerLeaveWaitIns=function(t){for(var e=this.m_WaitCustomers,a=this.m_QueueCus,i=0;i<t.length;i++){var s=t[i];s.firstInside=!1;var o=a.indexOf(s);o>-1&&(a[o]=null)}var f=e.indexOf(t);f>-1&&e.splice(f,1);for(var r=n.Config.queueArea,u=-1,c=0,l=a.length;c<l;c++){var d=a[c];if(!d&&u<0&&(u=c),d&&u>-1){a[c]=null;var S=r[u];d.updateWaitInside(S,0==u),a[u++]=d}}h.event(b.CustomerLeaveWaitIns2)},i.initTaskAbout=function(){h.on(b.PayEating,this,(function(){x.addTaskPro(F.ServeCustomer)})),h.on(b.PayEated,this,(function(){x.addTaskPro(F.SettleAccounts)})),h.on(b.OrderDished,this,(function(){x.addTaskPro(F.OrderMeal)})),h.on(b.OrderDished,this,(function(){x.addTaskPro(F.OrderMeal)})),h.on(b.ServeDished,this,(function(t,e){e==y.Dish?x.addTaskPro(F.ServeDish):x.addTaskPro(F.ServePotMaterial)}))},i.initStaffAbout=function(){P.initTaskState()},i.initPreload=function(){o.getBundle(S.LoadOnPlay).preload(g.EffectClearEatNode,f)},i.checkStaffAsset=function(t){var e=this;return new Promise((function(a,n){var i=e.m_StaSpine,s=t.spine_res,o=i[s];if(o&&o.isValid)a();else{var f=T.staff+s;l.load(S.LoadOnPlay,f,r.SkeletonData,(function(t,e){t?c.error("Load staff spine failed id:",s):(i[s]=e,a())}))}}))},i.onActorStart=function(){var t=Q.get_actor_plan();c.debug("Curr actors:",t),t[0]&&this.getStaff(Q.get_staff_res(t[0]),!0)},i.getStaff=function(t,e){var a=this;void 0===e&&(e=!1);var n=v.getData(t.id+"");n&&(n.Type!=_.Actor||e)&&this.checkStaffAsset(t).then((function(){a.m_StaPrefab?a.initStaff(t):l.load(S.LoadOnPlay,g.StaffNode,f,(function(e,n){a.m_StaPrefab=n,a.initStaff(t)}))}))},i.initStaff=function(t){var e=t.id,a=t.spine_res,n=v.getData(e+""),i=this.m_StaffConfig.idlePos[n.Id];if(i){var s=this.m_StaParent,o=this.m_RoadManager,f=i.layer||p.Lobby;f!=p.Lobby&&(s=m.instance.getDynNode(f),o=A.get(f+""));var r=g.StaffNode+"/"+a,u=d.instantiate(r,this.m_StaPrefab);s.addChild(u);var h=this.m_Vec0,l=i.pos;o.getPixelByUI(l.x,l.y,h),u.setPosition(h);var S=this.m_StaSpine,b=this.m_Staffs,y=f+"";if(n.Type==_.Waiter){var T=this.getAddComponent(O,u);T.initStaff(l,y,n,S[a]),b[e]=T}else if(n.Type==_.ServeHotPot){var P=this.getAddComponent(D,u);P.initStaff(l,y,n,S[a]),b[e]=P}else if(n.Type==_.Cashier){var I=this.getAddComponent(L,u);I.initStaff(l,y,n,S[a]),b[e]=I}else if(n.Type==_.ServerDish){var M=this.getAddComponent(W,u);M.initStaff(l,y,n,S[a]),b[e]=M}else if(n.Type==_.CutDish){var Q=this.getAddComponent(k,u);Q.initStaff(l,y,n,S[a],C.getKitchenArea(n.Id)),b[e]=Q}else if(n.Type==_.Chef){var R=this.getAddComponent(k,u);R.initStaff(l,y,n,S[a],C.getKitchenArea(n.Id)),b[e]=R}else if(n.Type==_.Hostess){var H=this.getAddComponent(E,u);H.initStaff(l,y,n,S[a]),b[e]=H}else if(n.Type==_.Washer){var B=this.getAddComponent(N,u);B.initStaff(l,y,n,S[a]),b[e]=B}else if(n.Type==_.Actor){this.getAddComponent(G,u).initStaff(l,y,n,S[a])}}else c.error("Invalid staff config with id"+e)},i.getAddComponent=function(t,e){var a=null;return(a=e.getComponent(t))||(a=e.addComponent(t)),a},a(n,[{key:"eatTables",get:function(){return this.m_EatTables}},{key:"staffConfig",get:function(){return this.m_StaffConfig}}]),n}(u)).instance=void 0,V.Config={},w=V))||w);n._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyOutsideConstruct.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./EventUtility.ts","./Lobby.ts","./LobbyNode.ts","./LobbyOutsideNode.ts","./LobbyUtility.ts","./ConstructBase.ts","./ConstructMgr.ts"],(function(t){"use strict";var o,i,n,e,s,r,a,c,l,u,d,h,f,b;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){e=t.eventDispatcher},function(t){s=t.MEventNames},function(t){r=t.Lobby},function(t){a=t.LobbyNode},function(t){c=t.LobbyOutsideNode},function(t){l=t.MLobbyEvent,u=t.ELobbyLayer},function(t){d=t.EConstructName,h=t.EStaffNameVec,f=t.ConstructBase},function(t){b=t.ConstructMgr}],execute:function(){var p;i._RF.push({},"76d30OvKFBNXr80MeEb0jhV","LobbyOutsideConstruct",void 0);var y=n.ccclass,C=(n.property,"doorpiont"),L="seatpoint",g="playstart",v="line",U="stoolChild";t("LobbyOutsideConstruct",y("LobbyOutsideConstruct")(p=function(t){function i(){for(var o,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(o=t.call.apply(t,[this].concat(n))||this).m_DeskLst=[],o.m_DeskVec=[],o}o(i,t);var n=i.prototype;return n.onLoad=function(){t.prototype.onLoad.call(this),b.instance.registerConstruct(d.LobbyOutside,this),this.checkInitial("Initial",d.LobbyOutside),this.registerUpdateConstruct("Stool",this.UpdateStool)},n.start=function(){var t=this.m_ConstructMap.Initial;this.setScaleNode(t)},n.initEvent=function(){e.on(l.AllRoomLoaded,this,this.AllRoomLoaded),e.on(l.InitDynamicNode,this,this.instartChild),e.on(s.UpdateAreaUnlock,this,this.UpdateAreaUnlock),e.on(s.UpdateAllAreaUnlock,this,this.UpdateAllAreaUnlock)},n.removeEvent=function(){e.off(l.AllRoomLoaded,this,this.AllRoomLoaded),e.off(l.InitDynamicNode,this,this.instartChild),e.off(s.UpdateAreaUnlock,this,this.UpdateAreaUnlock),e.off(s.UpdateAllAreaUnlock,this,this.UpdateAllAreaUnlock)},n.initCharis=function(){var t={},o=this.m_ConstructMap.Stool,i=o.position.clone(),n=o.children;if(0!=n.length&&null!=(n=n[0].getChildByName(L))){for(var e in n=n.children){var s=n[e],r=this.getStoolPostion(i,s);t[parseInt(e)+100]=r}c.instance.initCharis(t)}},n.getStoolPostion=function(t,o){return o.position.clone().add(t)},n.getLobbyOutsideConfig=function(){var t=this.m_ConstructMap[C].position.clone(),o=this.m_ConstructMap[g].children,i=o[0].position.clone(),n=o[1].position.clone(),e=this.m_ConstructMap[v].children;return{doorPos:t,refreshArea:{leftBottom:i,rightTop:n},leftQueueArea:this.getChildPos(e[0]),rightQueueArea:this.getChildPos(e[1])}},n.AllRoomLoaded=function(){var t=r.instance.getDynNode(u.LobbyOutside);this.m_SortNode=t,this.getStaffConfig(),this.UpdateAreaUnlock(d.LobbyOutside);var o=this.getLobbyOutsideConfig();c.instance.initConfig(o)},n.instartChild=function(t){u.LobbyOutside},n.getStaffConfig=function(){var t=a.instance,o=a.instance.staffConfig,i=o.idlePos;i=null==i?{}:i;var n=this.m_ConstructMap[h.Idle];this.registerAllPos(n,i,u.LobbyOutside,(function(t){return t.position.clone()})),o.idlePos=i,t.onStaffConfigInited()},n.UpdateAreaUnlock=function(t){t==d.LobbyOutside&&(this.checkInitial("Initial",d.LobbyOutside),this.updateAllConstruct(d.LobbyOutside))},n.UpdateStool=function(t,o,i,n,e){o.updateNode(i,n),o.initCharis(),o.registerStoolToSortNode(o.m_SortNode)},n.UpdateAllAreaUnlock=function(){this.UpdateAreaUnlock(d.LobbyOutside)},n.getChildPos=function(t){for(var o=t.children,i=[],n=0;n<o.length;n++){var e=o[n].position.clone();i.push(e)}return i},n.registerStoolToSortNode=function(t){for(var o=this.m_ConstructMap.Stool,i=(o=o.children[0]).children,n=[],e=i.length-1;e>=0;--e){var s=i[e];s.name!=L&&(n.push(s),this.switchNode(t,s))}this.removeSortLst(U),this.m_StayInstant[U]=n},i}(f))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyOutsideNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./AssetLoader.ts","./DataTableManager.ts","./NodeUtils.ts","./BuffConfig.ts","./NoviceGuideMgr.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./GoogleFirebase.ts","./CustomerNode.ts","./PersonalNode.ts","./CustomerGroupTable.ts","./CustomerTable.ts","./EventTable.ts","./StaffTable.ts","./GuestNode.ts","./Lobby.ts","./LobbyNode.ts","./LobbyUtility.ts","./MapRoadManager.ts","./LobbyRoomData.ts"],(function(t){"use strict";var e,i,s,n,o,a,r,u,m,f,h,d,c,l,C,v,_,g,b,p,P,y,T,L,E,G,B,N,D,x,I,S,R,A,U,W,O,k,M,F;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator,n=t.v3,o=t.randomRange,a=t.Prefab,r=t.sp,u=t.random,m=t.randomRangeInt,f=t.Component},function(t){h=t.default},function(t){d=t.eventDispatcher},function(t){c=t.assetLoader},function(t){l=t.dataTableManager},function(t){C=t.default},function(t){v=t.buffConfig,_=t.EBuffType},function(t){g=t.NoviceGuideMgr},function(t){b=t.EDataTables},function(t){p=t.MEventNames},function(t){P=t.EGameBundles,y=t.MLoadOnPlayRes},function(t){T=t.googleFirebaser,L=t.eAnalyticsEvent},function(t){E=t.CustomerNode},function(t){G=t.PersonalNode},function(t){B=t.CustomerGroupTable},function(t){N=t.CustomerTable},function(t){D=t.EventTable,x=t.loopEventTypeId},function(t){I=t.StaffTable},function(t){S=t.GuestNode},function(t){R=t.Lobby},function(t){A=t.LobbyNode},function(t){U=t.ELobbyLayer,W=t.MLobbyEvent,O=t.MPersonResPath},function(t){k=t.default},function(t){M=t.LobbyRoomData,F=t.StaffHostessData}],execute:function(){var V,w;i._RF.push({},"e01f5+3DK1Jl7KC3fQfcN9W","LobbyOutsideNode",void 0);var Q=s.ccclass,H=(s.property,t("lobbyOutsideBuff",new(function(){function t(){this.buff={},this.onBuff=void 0}var e=t.prototype;return e.addBuff=function(t,e,i){var s=this;this.buff[t]||(this.buff[t]=0),this.buff[t]+=e,this.onBuff&&this.onBuff(),setTimeout((function(){s.buff[t]-=e,s.buff[t]<0&&(s.buff[t]=0),s.onBuff&&s.onBuff()}),1e3*i)},e.getBuff=function(t){return this.buff[t]||(this.buff[t]=0),this.buff[t]},t}()))),K=t("AllChairUpdateId",199),j=30,J=30,q=4,z=8;t("LobbyOutsideNode",Q("LobbyOutsideNode")(((w=function(t){function i(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))||this).m_WaitCustomers=[],e.m_WaitNum=0,e.m_ChairCustomers=void 0,e.m_Chairs=void 0,e.m_UpdatedChairs={},e.m_CusParent=void 0,e.m_RoadManager=void 0,e.m_CusSpine={},e.m_CusPrefab=void 0,e.m_GuestPrefab=void 0,e.m_PerSpine={},e.m_PerPrefab=void 0,e.m_EventTime={},e.m_EventPerson={},e.m_CusStarted=!1,e.m_CustTime=1e3,e.m_GuestTime=0,e.m_Timer=0,e.m_FreeChairs0=[],e.m_Timer0=0,e.m_Timer1=0,e.m_Timer3=0,e.m_Vec0=n(),e}e(i,t);var s=i.prototype;return s.onLoad=function(){i.instance=this,D.init(),this.onStarted()},s.onDestroy=function(){i.instance=i.Config=null,this.m_CusPrefab=this.m_CusParent=this.m_RoadManager=null,this.m_WaitCustomers=this.m_ChairCustomers=this.m_Chairs=this.m_FreeChairs0=null,d.offAllCaller(this)},s.update=function(t){this.m_Timer+=t,this.m_CusStarted&&(this.m_Timer0+=t,this.m_Timer0>=this.m_CustTime&&(this.m_Timer0=0,this.getCustomerCount(2)),this.m_Timer1+=t,this.m_Timer1>=this.m_GuestTime&&(this.m_Timer1=0,this.getGuest()),this.m_Timer3+=t,this.m_Timer3>=1&&(this.m_Timer3=0,this.eventLogin()))},s.getQueueArea=function(t){var e=i.Config,s=this.m_Vec0;return this.m_RoadManager.getUIByPixel(t,s),s.x>0?e.rightQueueArea:e.leftQueueArea},s.getWaitFace=function(t){var e=this.m_Vec0;return this.m_RoadManager.getUIByPixel(t,e),e.x>0?-1:1},s.checkChair=function(t,e){var i=this.m_ChairCustomers,s=this.m_FreeChairs0;for(var n in s.length=0,i){i[n]||s.push(n)}if(s.length>=t.length){for(var o=this.m_Chairs,a=0;a<t.length;a++){var r=s[a],u=o[r],m=t[a];i[r]=m,m.endGoEatOutside(u,r,e)}return!0}return!1},s.initCharis=function(t){for(var e in this.m_Chairs=t,this.m_ChairCustomers={},this.m_Chairs)this.m_ChairCustomers[e]=null},s.initConfig=function(t){i.Config=t},s.onStarted=function(){var t,e,i=this;d.event(p.closeLoadView),T.logEvent(L.other_gamestart,"gamestart");var s=R.instance,n=U.LobbyOutside;this.m_CusParent=s.getDynNode(n),this.m_RoadManager=k.get(n+""),d.on(W.CustomerLeaveWait,this,this.onCustomerLeaveWait),d.on(W.CustomerLeaveWaitIns2,this,this.onCustomerLeaveWaitIns),d.on(W.CustomerLeaveEating,this,this.onCustomerLeaveEat),d.on(W.PersonalLeave,this,(function(t){var e=D.getEventTypeId(t);i.m_EventTime[e]=i.m_Timer,i.m_EventPerson[e]=null})),d.on(W.AddCustomer,this,(function(t){t>0&&i.schedule((function(){i.getCustomer()}),.1,t-1)})),d.on(W.AddGuestCustomer,this,this.getGuestCustomer),d.on(W.StartUpdateDecorate,this,(function(t){var e=t+"",s=i.m_Chairs;s&&(t==K||s[e])&&(i.m_UpdatedChairs[e]=!0,i.isBusy(e,t==K)?d.event(W.BusyDecorate,t):i.checkUpdated(e))}));var a=l.getDataTable(b.Constant);j=(null==(t=a[11])?void 0:t.Value)||j,J=(null==(e=a[12])?void 0:e.Value)||J;var r=a[13];if(r){var u=r.Value.split("_");q=parseInt(u[0]),z=parseInt(u[1])}this.m_GuestTime=o(q,z),this.m_Timer1=0,this.m_CustTime=60/j,this.m_Timer0=0,this.initBuff(),this.m_CusStarted=!1,d.on(W.AllRoomLoaded,this,(function(){h.debug("AllRoomLoaded.."),i.m_CusStarted=!0})),H.onBuff=this.initBuff.bind(this),d.on(p.ChangeBuff,this,this.initBuff),d.once(p.NoviceCustomShow,this,this.getGuideCustomer)},s.initBuff=function(){var t=v.getBuffNum(_.CustomerSpAdd)||0,e=F.buff||0,i=H.buff[1]||0,s=j*(1+t+e)*(1+i);s=Math.min(s,J),this.m_CustTime=60/s*2,h.debug("Customer: count("+s.toFixed(2)+") speed("+this.m_CustTime.toFixed(2)+") buff("+t.toFixed(2)+"|"+e.toFixed(2)+"|"+i.toFixed(2)+")")},s.getWaitCusts=function(){return this.m_WaitCustomers},s.addWaitCusts=function(t){var e=this.m_WaitCustomers;e.indexOf(t)<0&&(this.m_WaitNum++,e.push(t))},s.getCusTimeBuff=function(){return this.m_CustTime},s.getCustomerCount=function(t){var e=this;this.schedule((function(){e.getCustomer()}),.1,t-1)},s.getCustomer=function(t){var e=this,i=0,s=!1;if(t>0)s=!0,i=t;else{if(!g.instance.isDone())return;if(this.m_WaitNum>=10)return;i=B.getCust()}i&&this.checkAsset(i).then((function(){e.m_CusPrefab?e.initCustomer(i,s):c.load(P.LoadOnPlay,y.CustomerNode,a,(function(t,n){e.m_CusPrefab=n,e.initCustomer(i,s)}))}))},s.getGuestCustomer=function(t,e,i){var s=this;this.m_CusPrefab?this.initCustomer(t,!1,e,i).startGuest():c.load(P.LoadOnPlay,y.CustomerNode,a,(function(n,o){s.m_CusPrefab=o,s.initCustomer(t,!1,e,i).startGuest()}))},s.getGuideCustomer=function(){this.getCustomer(1),this.getCustomer(2)},s.getEvent=function(t){var e=this;this.checkPersonalAsset(t).then((function(){e.m_PerPrefab?e.initPersonal(t):c.load(P.LoadOnPlay,y.PersonalNode,a,(function(i,s){e.m_PerPrefab=s,e.initPersonal(t)}))}))},s.getGuest=function(){var t=this;if(g.instance.isDone()){this.m_GuestTime=o(q,z);var e=B.getCust();this.checkGuestAsset(e).then((function(){t.m_GuestPrefab?t.initGuest(e):c.load(P.LoadOnPlay,y.GuestNode,a,(function(i,s){t.m_GuestPrefab=s,t.initGuest(e)}))}))}},s.checkPersonalAsset=function(t){var e=this;return new Promise((function(i,s){var n=t.Id,o=e.m_PerSpine;if(o[n])i();else{var a=t.PersonID,u=""+(a>200?O.customer:O.staff)+I.getDrop(a+"").Res;c.load(P.LoadOnPlay,u,r.SkeletonData,(function(t,e){t?h.error("Load personal spine failed:",u):(o[n]=e,i())}))}}))},s.checkGuestAsset=function(t){var e=this;return new Promise((function(i,s){var n=e.m_CusSpine;if(n[t])i();else{var o=N.getData(t+""),a=O.customer+I.getDrop(o.Res_id+"").Res;c.load(P.LoadOnPlay,a,r.SkeletonData,(function(e,s){e?h.error("Load guest spine failed:",a):(n[t]=s,i())}))}}))},s.checkAsset=function(t){var e=this;return new Promise((function(i,s){var n=e.m_CusSpine;if(n[t])i();else{var o=N.getData(t+""),a=O.customer+I.getDrop(o.Res_id+"").Res;c.load(P.LoadOnPlay,a,r.SkeletonData,(function(e,s){e?h.error("Load customer spine failed:",a):(n[t]=s,i())}))}}))},s.initGuest=function(t){var e=U.LobbyOutside,s=this.m_CusParent,n=this.m_RoadManager,o=i.Config.refreshArea,a=this.m_Vec0,r=u()<.5?o.leftBottom.x:o.rightTop.x,f=m(o.leftBottom.y,o.rightTop.y);a.set(r,f),n.getPixelByUI(a.x,a.y,a);var h=y.GuestNode+t,d=C.instantiate(h,this.m_GuestPrefab);d.setPosition(a),s.addChild(d);var c=d.getComponent(S);c.initGuest(e,t,N.getData(t+""),this.m_CusSpine[t]),c.startGuest(-r,f)},s.initPersonal=function(t){var e=R.instance,s=M.getRoomLayer(t.Area+""),n=e.getDynNode(s),o=i.Config.refreshArea,a=this.m_Vec0;if(s==U.Lobby){var r=A.Config.doorPos;a.set(r.x,r.y)}else{var f=u()<.5?o.leftBottom.x:o.rightTop.x;a.set(f,m(o.leftBottom.y,o.rightTop.y))}k.get(s+"").getPixelByUI(a.x,a.y,a);var h=y.PersonalNode+t.Id,d=C.instantiate(h,this.m_PerPrefab);d.setPosition(a),n.addChild(d);var c=d.getComponent(G);this.m_EventPerson[D.getEventTypeId(t.Id)]=c,c.initPersonal(s,t,this.m_PerSpine[t.Id]),c.startEvent()},s.initCustomer=function(t,e,s,n){void 0===e&&(e=!1);var o=this.m_Vec0,a=this.m_CusParent,r=this.m_RoadManager,f=this.m_CusSpine,h=i.Config.refreshArea,d=s||(u()<.5?h.leftBottom.x:h.rightTop.x),c=n||m(h.leftBottom.y,h.rightTop.y),l=[],v=y.CustomerNode+t,_=C.instantiate(v,this.m_CusPrefab);o.set(d,c),s||n||r.getPixelByUI(o.x,o.y,o),_.setPosition(o),a.addChild(_);var g=_.getComponent(E);return l.push(g),g.initOutSide(l,{},N.getData(t+""),f[t]),e?g.startGuide():g.startGoEatOutside(0),g},s.onCustomerLeaveWait=function(t){for(var e=this.m_ChairCustomers,i=this.m_WaitCustomers,s=!1,n=0;n<t.length;n++){var o=t[n],a=o.chairId;a&&(e[a]=null,o.chairId=null,s=!0,this.checkUpdated(a))}var r=i.indexOf(t);if(r>-1&&(this.m_WaitNum-=t.length,i.splice(r,1)),s){this.m_UpdatedChairs[K]&&!this.isBusy(null,!0)&&this.checkUpdated(K+"");for(var u=0;u<i.length;u++){var m=i[u];m[0].chairPos||this.checkChair(m,!0)}}},s.onCustomerLeaveWaitIns=function(){for(var t=A.instance,e=this.m_WaitCustomers,i=0;i<e.length;i++){var s=e[i];t.checkQueue(s)}},s.onCustomerLeaveEat=function(){A.instance.checkEatTable()},s.isBusy=function(t,e){var i=!1,s=this.m_ChairCustomers;if(e)for(var n in s){if(s[n]){i=!0;break}}else i=!!s[t];return i},s.checkUpdated=function(t){this.m_UpdatedChairs[t]&&(this.m_UpdatedChairs[t]=!1,d.event(W.UpdateDecorate,parseInt(t)))},s.eventLogin=function(){if(g.instance.isDone()){var t=this.m_Timer,e=this.m_EventTime,i=this.m_EventPerson;if(i[1]||(e[1]||(e[1]=0),t>=e[1]+D.getNextEventInte(1)&&(e[1]=t,i[1]=1,this.getEvent(D.getData(1)))),i[2]||(e[2]||(e[2]=0),t>=e[2]+D.getNextEventInte(2)&&(e[2]=t,i[2]=1,this.getEvent(D.getData(2)))),!i[x])if(e[x]||(e[x]=0),0==A.instance.getWaitCount()&&H.getBuff(1)<=.1&&t>=e[x]+D.getNextEventInte(D.getLastEventId())){e[x]=t,i[x]=1;var s=D.getEventId();this.getEvent(D.getData(s))}}},i}(f)).instance=void 0,w.Config=void 0,V=w))||V);i._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyRoomBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DynamicRender.ts"],(function(t){"use strict";var i,o,e,n,s,r,a;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,n=t.UITransform,s=t.v3,r=t.view},function(t){a=t.DynamicRender}],execute:function(){var c;o._RF.push({},"b0356WkwtlArIdSibFTmsnO","LobbyRoomBase",void 0);var h=e.ccclass;e.property,t("LobbyRoomBase",h("LobbyRoomBase")(c=function(t){function o(){for(var i,o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this).m_Pos2=s(),i.m_VisibleSize=r.getVisibleSize(),i}i(o,t);var e=o.prototype;return e.onLoad=function(){t.prototype.onLoad.call(this);var i=this.node.getComponent(n);i.setContentSize(this.m_VisibleSize),this.m_Transform||(this.m_Transform=i)},e.onDestroy=function(){t.prototype.onDestroy.call(this),this.m_Pos2=this.m_VisibleSize=null},e.checkBound=function(t){var i=this.m_Pos2,o=this.m_Transform,e=this.m_VisibleSize;return this.node.getPosition(i),Math.abs(t.x-i.x)<=.5*(o.width-e.width)||(o.width>e.width&&(t.x=i.x+.5*(o.width-e.width)*(t.x>0?1:-1),t.z=-1),!1)},e.checkSpringback=function(){return this.m_Transform.width<=this.m_VisibleSize.width},e.update=function(i){t.prototype.update.call(this,i)},o}(a))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyRoomData.ts",["cc","./EventBuiltin.ts","./EventUtility.ts","./LobbyNode.ts","./LobbyUtility.ts","./MapManager.ts"],(function(t){"use strict";var o,i,e,n,r,u,b,s,a,c;return{setters:[function(t){o=t.cclegacy,i=t.v2,e=t.view,n=t.v3},function(t){r=t.eventDispatcher},function(t){u=t.MEventNames},function(t){b=t.LobbyNode},function(t){s=t.ELobbyLayer,a=t.EKitchenArea},function(t){c=t.MapManager}],execute:function(){var f,y,L,m,d;t("ELobbyRoomId",void 0),o._RF.push({},"12d53F+YhVODa1LVmQCXQZM","LobbyRoomData",void 0),function(t){t[t.LobbyOutside=1]="LobbyOutside",t[t.Lobby=2]="Lobby",t[t.Private=3]="Private",t[t.Auditorium=4]="Auditorium",t[t.Kitchen=5]="Kitchen"}(d||(d=t("ELobbyRoomId",{})));var h=((f={})[d.LobbyOutside]=i(0,1),f[d.Lobby]=i(),f[d.Kitchen]=i(-1,0),f[d.Private]=i(1,0),f[d.Auditorium]=i(0,-1),f),v={"0,0":d.Lobby,"-1,0":d.Kitchen,"1,0":d.Private,"0,1":d.LobbyOutside,"0,-1":d.Auditorium},g=((y={})[d.LobbyOutside]=[2,4,16,8],y[d.Kitchen]=[2,6,9,26],y[d.Lobby]=[13,2,20,24],y[d.Auditorium]=[2,5,14,12],y),R=((L={})[d.LobbyOutside]=s.LobbyOutside,L[d.Lobby]=s.Lobby,L[d.Kitchen]=s.Lobby,L[d.Private]=s.Lobby,L[d.Auditorium]=s.Auditorium,L),P=((m={})[s.LobbyOutside]=[d.LobbyOutside],m[s.Lobby]=[d.Lobby,d.Kitchen,d.Private],m[s.Auditorium]=[d.Auditorium],m),A={6:a.CutDish1,7:a.CutDish2,17:a.Snack1},l=t("LobbyRoomData",function(){function t(){}return t.init=function(t){for(var o=this.s_RoomData,i=c.get(t),e=i.roadNodes,n=P[t],r=0;r<n.length;r++){var u=n[r],b=g[u];if(b){for(var s=[],a=b[0];a<b[2];a++)for(var f=b[1];f<b[3];f++){var y=e[i.getKey(a,f)];0!=y.value&&s.push(y)}o[u]={roadable:s}}}},t.initRoomPos=function(){var t,o=e.getVisibleSize(),i=o.width,r=2*o.height;this.s_RoomLayerHeight=r,this.s_RoomPos=((t={})[d.LobbyOutside]=n(0,r),t[d.Lobby]=n(),t[d.Kitchen]=n(-i,0),t[d.Private]=n(i,0),t[d.Auditorium]=n(0,-r),t)},t.getRoomLayerHeight=function(){return this.s_RoomLayerHeight},t.getRoomData=function(t){return this.s_RoomData[t]},t.getTransferPos=function(t){var o=b.Config;return t==s.Lobby+""?o.lobbyTransferPos:t==s.Auditorium+""?o.audTransferPos:null},t.getRoomLayer=function(t){return R[t]},t.getRoomIndex=function(t){return h[t]},t.getRoomId=function(t){var o=t.x+","+t.y;return v[o]},t.getRoomPos=function(t,o){var i=this.s_RoomPos[t];return o&&(o.set(i),i=o),i},t.getRoomPosByIndex=function(t,o){var i=this.getRoomId(t);this.getRoomPos(i,o)},t.getTableLayer=function(t){return t>10?s.Auditorium:s.Lobby},t.getTableRoom=function(t){return t<8?d.Lobby:t<11?d.Private:t<16?d.Auditorium:void 0},t.getKitchenArea=function(t){return A[t]},t.getLayerRooms=function(t){return P[t]},t.getActorPos=function(){return b.Config.actorPos},t.getActorRestPos=function(){return b.Config.actorRestPos},t}());l.s_RoomData={},l.s_RoomPos=void 0,l.s_RoomLayerHeight=0,t("StaffHostessData",function(){function t(){}return t.setBuff=function(t){this.buff=t,r.event(u.ChangeBuff)},t}()).buff=0,o._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyUtility.ts",["cc"],(function(e){"use strict";var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){e({EKitchenArea:void 0,ELobbyDeskState:void 0,ELobbyLayer:void 0,ELobbyServeDishes:void 0,ELobbyStaffType:void 0,EPersonalType:void 0}),o._RF.push({},"555a90ACNpOVrmFbkPXHDEo","LobbyUtility",void 0);var t,n,i,a,s,d;e("MLobbyEvent",{InitDynamicNode:"on.dynNode.init",CustomerLeaveWait:"on.cus.lev.wait",CustomerLeaveWaitIns:"on.cus.lev.wai.ins",CustomerLeaveWaitIns2:"on.cus.lev.wai.ins2",CustomerSitDown:"on.cus.sit.down",OrderDishes:"on.cus.ord.dises",OrderDished:"on.cus.ord.dised",CookDishing:"on.cook.dising",CookDished:"on.cook.dised",CookAllDished:"on.cook.all.dised",CookingEnd:"on.cook.end",ServeDishes:"on.ser.dising",ServeDished:"on.ser.dised",StartDine:"on.sta.dine",PayEating:"on.pay.eating",PayEating2:"on.pay.eating2",PayEating3:"on.pay.eating3",PayEated:"on.pay.eated",ClearEatTableing:"on.cle.eat.tabing",ClearEatTable:"on.cle.eat.tabed",CustomerLeaveEating:"on.cus.lev.eat",WashDishing:"on.washing",WashDished:"on.washed",AddStaffTask:"on.sta.task.add",ReceiveStaffTask:"on.sta.task.rec",CutDishSpeedChange:"on.cut.spe.cha",UpdateConstructItem:"on.construct.update",UpdateSceneMenuState:"on.SceneMunu.update",StoryClick:"on.story.click",StoryClose:"on.story.close",EventStart:"on.eve.sta",EventComplete:"on.eve.com",PersonalLeave:"on.per.lea",StartUpdateDecorate:"on.sta.upd.dec",BusyDecorate:"on.dec.bus",UpdateDecorate:"on.upd.dec",AllRoomLoaded:"all.roo.loa",UpdateSceneKitchenState:"on.SceneKitchen.update",AddCustomer:"on.add.cus",AddGuestCustomer:"on.add.gue.cus",UpdateKithenCookFood:"on.SceneKithen,cookFood",UpdateKithenCookCut:"on.SceneKithen.AnbanCut",UpdateDeskMax:"on.upd.DeskMax",QuickenCooking:"on.Quicken.cooking",ImmediatelyCookEnd:"on.immediately,cookEnd",ImmediatelyDrinkId:"on.immediately.DrinkId"});!function(e){e[e.Lobby=1]="Lobby",e[e.LobbyOutside=2]="LobbyOutside",e[e.Kitchen=3]="Kitchen",e[e.Auditorium=4]="Auditorium"}(t||(t=e("ELobbyLayer",{}))),function(e){e[e.HotPot=1]="HotPot",e[e.Dish=2]="Dish"}(n||(n=e("ELobbyServeDishes",{}))),function(e){e[e.MainCourse=1]="MainCourse",e[e.SideDish=2]="SideDish",e[e.Payment=3]="Payment",e[e.Clean=4]="Clean",e[e.Order=5]="Order"}(i||(i=e("ELobbyDeskState",{}))),function(e){e[e.CutDish1=0]="CutDish1",e[e.CutDish2=1]="CutDish2",e[e.Snack1=2]="Snack1"}(a||(a=e("EKitchenArea",{}))),function(e){e[e.Customer=1]="Customer",e[e.Star=2]="Star",e[e.Dishes=3]="Dishes"}(s||(s=e("EPersonalType",{}))),function(e){e[e.Waiter=1]="Waiter",e[e.ServeHotPot=2]="ServeHotPot",e[e.Cashier=3]="Cashier",e[e.Chef=4]="Chef",e[e.CutDish=5]="CutDish",e[e.ServerDish=6]="ServerDish",e[e.Washer=7]="Washer",e[e.Hostess=8]="Hostess",e[e.Actor=12]="Actor"}(d||(d=e("ELobbyStaffType",{})));e("MPersonResPath",{staff:"Res/Spine/Lobby/Staff/",customer:"Res/Spine/Lobby/Customer/"});o._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizationHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./DataTableManager.ts"],(function(n){"use strict";var e,t,a,i,r,u;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy},function(n){a=n.default},function(n){i=n.eventDispatcher,r=n.MEventBuiltin},function(n){u=n.dataTableManager}],execute:function(){var g;n("ELanguages",void 0),t._RF.push({},"dcc03iY9vpNfp73W7kkWIc4","LocalizationHelper",void 0),function(n){n.ChineseSimplified="CN",n.English="EN"}(g||(g=n("ELanguages",{}))),n("LocalizationHelper",function(){function n(){}return n.getString=function(n,e){if(-1==n.indexOf("_"))return a.error("Invalid language label id.",(new Error).stack.split("\n")[2].trim()),n;var t=u.getData("Language",n);if(!t)throw new Error;var i=t[this.m_Language];if(e)for(var r=0;r<e.length;r++){var g=e[r]+"";i=i.replace("{"+r+"}",g)}return i},n.getCapitalString=function(n,e){var t=this.getString(n,e);return"string"==typeof t&&(t=t.toUpperCase()),t},e(n,null,[{key:"language",get:function(){return this.m_Language},set:function(n){this.m_Language!=n&&(this.m_Language=n,i.event(r.InitLanguage,n))}}]),n}()).m_Language=g.English,t._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizationLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./LocalizationHelper.ts"],(function(e){"use strict";var t,r,n,i,a,o,c,s,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Label,s=e.Component},function(e){l=e.default},function(e){p=e.LocalizationHelper}],execute:function(){var u,h,L,d,f,g,b,m;a._RF.push({},"64fb7nLWEBKNYNIqgWM9e3g","LocalizationLabel",void 0);var _=o.ccclass,y=o.property,z=o.requireComponent;e("LocalizationLabel",(u=_("LocalizationLabel"),h=z(c),L=y({displayName:"String Index",tooltip:"语言表的 index"}),d=y({tooltip:"是否转换为大写"}),u(f=h((b=t((g=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"m_StrIndex",b,i(t)),n(t,"upperCase",m,i(t)),t}r(t,e);var a=t.prototype;return a.onLoad=function(){var e=this.node.getComponent(c);if(""==this.m_StrIndex)l.error('LocalizationLabel str is ""',this._checkParent(this.node));else try{e.string=this.upperCase?p.getCapitalString(this.m_StrIndex):p.getString(this.m_StrIndex)}catch(e){l.error("LocalizationLabel str not exist:",this.m_StrIndex,this._checkParent(this.node))}},a._checkParent=function(e){var t=[];return e.parent&&(t.push(e.parent.name),e.parent.parent&&t.push(this._checkParent(e.parent))),t.reverse(),t.join("/")},t}(s)).prototype,"m_StrIndex",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=t(g.prototype,"upperCase",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=g))||f)||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/Log.ts",["cc"],(function(o){"use strict";var n;return{setters:[function(o){n=o.cclegacy}],execute:function(){var r,e;n._RF.push({},"d7050MgW6pDCIaEeNw9LsnU","Log",void 0),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=4]="Warn",o[o.Error=8]="Error"}(r||(r={})),function(o){o[o.Disable=0]="Disable",o[o.All=r.Debug|r.Info|r.Warn|r.Error]="All",o[o.InfoAndAbove=r.Info|r.Warn|r.Error]="InfoAndAbove",o[o.WarnAndAbove=r.Warn|r.Error]="WarnAndAbove",o[o.Error=r.Error]="Error"}(e||(e={}));var l=o("default",function(){function o(){}return o.reset=function(n){this.logEnable!=n&&(this.logEnable=n,this.debug=o.on(r.Debug)?console.log.bind(console):o.clear,this.info=o.on(r.Info)?console.log.bind(console):o.clear,this.warn=o.on(r.Warn)?console.warn.bind(console):o.clear,this.error=o.on(r.Error)?console.error.bind(console):o.clear)},o.on=function(o){return(this.logEnable&o)==o},o}());l.clear=function(){},l.logEnable=e.All,l.debug=l.on(r.Debug)?console.log.bind(console):l.clear,l.info=l.on(r.Info)?console.log.bind(console):l.clear,l.warn=l.on(r.Warn)?console.warn.bind(console):l.clear,l.error=l.on(r.Error)?console.error.bind(console):l.clear,n._RF.pop()}}}));

System.register("chunks:///_virtual/LuckyTurntableView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./BuffConfig.ts","./BuffTimelinessConfig.ts","./GameCensusConfig.ts","./FoodCarnivalMgr.ts","./ItemConfig.ts","./StarConfig.ts","./ItemData.ts","./DataTable.ts","./GameUtility.ts","./GoogleAdMob.ts","./GameTool.ts","./ResourceTool.ts","./UIConfig.ts"],(function(e){"use strict";var t,n,a,i,r,o,s,u,l,c,d,f,h,p,g,_,m,w,y,b,C,T,v,I,R,S,D,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Node,u=e.Label,l=e.tween},function(e){c=e.dataTableManager},function(e){d=e.LocalizationHelper},function(e){f=e.uiManager},function(e){h=e.UIView},function(e){p=e.EBuffType,g=e.EBuffSource},function(e){_=e.buffTimelinessConfig},function(e){m=e.gameCensusConfig},function(e){w=e.foodCarnivalMgr},function(e){y=e.itemConfig,b=e.EItemEnum},function(e){C=e.starConfig},function(e){T=e.ItemData},function(e){v=e.EDataTables},function(e){I=e.EGameBundles},function(e){R=e.googleAdMober},function(e){S=e.GameTool},function(e){D=e.ResourceTool},function(e){L=e.MUIConfig}],execute:function(){var N,P,k,M,A,B,V,x,E,U,z;r._RF.push({},"6267bwR+hFNDJIc9Dv7W6qQ","LuckyTurntableView",void 0);var G=o.ccclass,F=o.property;e("LuckyTurntableView",(N=G("LuckyTurntableView"),P=F(s),k=F(s),M=F(s),A=F(s),N((x=t((V=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"iconPar",x,i(t)),a(t,"labPar",E,i(t)),a(t,"turnplateNode",U,i(t)),a(t,"watchButton",z,i(t)),t._propCount=0,t._state=0,t._speed=0,t._aSpeed=500,t._dSpeed=400,t._maxSpeed=1e3,t._rewardIdx=0,t._rewardArray=[],t}n(t,e);var r=t.prototype;return r.onClose=function(){w.isPause=!1},r.onLoad=function(){var e=this,t=c.getDataTableArray(v.LuckyTurntable);this._propCount=t.length,t.forEach((function(t,n){e.iconPar.children[n].children[1].active=!1;var a=0,i=0;a=t.RewardType;var r=y.getItemIconUrl(a),o="";switch(a){case b.money_event:a=b.money,o+=i=Math.floor(t.RewardNum*m.goldValue*C.getCurStarDic().Multiple);break;case b.money_up:r=y.getItemIconUrl(b.money_up),a=b.money_up,i=t.Raram,o=d.getString("72_3",[i]),e.iconPar.children[n].children[1].getComponent(u).string="+"+t.RewardNum+"%",e.iconPar.children[n].children[1].active=!0;break;default:o+=i=t.RewardNum}r&&D.setNodeSpriteFrame(I.LoadOnPlay,r,e.iconPar.children[n].children[0],e),o&&(e.labPar.children[n].children[0].getComponent(u).string=o),e._rewardArray[n]=new T(a,i)}))},r.onOpen=function(){this._state=0,this.watchButton.active=!0},r.watchSuccess=function(){var e=c.getDataTableArray(v.LuckyTurntable);this._rewardIdx=S.getArrayRandomElementByWeight(e,"RewardPropor").RewardID-1,this._state=1},r.getReward=function(){var e=c.getDataTableArray(v.LuckyTurntable)[this._rewardIdx],t=this._rewardArray[this._rewardIdx];y.addItem(t.id,t.num),w.getReward(!0),t.id==b.money_up&&_.ChangeBuff(p.MoneyUp,g.LuckyTurntable,e.RewardNum,60*e.Raram),f.openView(L.CongratulationView,null,{data:[t]}),f.closeView(this)},r.ratetoEnd=function(){var e=this,t=360-360/this._propCount*this._rewardIdx,n=(this.turnplateNode.angle+t)/(this._speed/2);l(this.turnplateNode).by(n,{angle:-this.turnplateNode.angle-t},{easing:"sineOut"}).delay(.5).call((function(){e.getReward()})).start(),this._speed=0},r.clickWatch=function(){if(0==this._state){var e=this;R.showRewardedAd((function(){e.watchSuccess()}))}},r.clickClose=function(){0==this._state&&f.closeView(this)},r.update=function(e){var t=this;if(0!=this._state){if(1==this._state)this._speed<this._maxSpeed&&(this._speed+=this._aSpeed*e,this._speed>=this._maxSpeed&&(this._speed=this._maxSpeed,this.scheduleOnce((function(){t._state=2}),.5)));else if(2==this._state&&this._speed>0&&(this._speed-=this._dSpeed*e,this._speed<400))return this._state=3,void this.ratetoEnd();this.turnplateNode.angle=(this.turnplateNode.angle-this._speed*e+360)%360}},t}(h)).prototype,"iconPar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(V.prototype,"labPar",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(V.prototype,"turnplateNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(V.prototype,"watchButton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=V))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Handler.ts","./Log.ts","./ReferencePool.ts","./Configable.ts","./UserBaseConfig.ts","./EventBuiltin.ts","./EventDispatcher.ts","./EventHandler.ts","./Fsm.ts","./FsmState.ts","./DateUtils.ts","./JSUtils.ts","./CommonComponent.ts","./List.ts","./ListItem.ts","./ScrollViewDst.ts","./ScrollViewSrc.ts","./SafeAreaAdaptive.ts","./UIAdaptive.ts","./UIButtonTransition.ts","./UIFullScreen.ts","./UITweenAnim.ts","./UnbiasedTime.ts","./UnbiasedTimeIOS.ts","./AssetHelper.ts","./AssetKeeper.ts","./AssetLoader.ts","./AudioAgent.ts","./AudioAgentHelper.ts","./AudioComponent.ts","./AudioGroup.ts","./AudioManager.ts","./AudioPlayParams.ts","./DataTableManager.ts","./LocalizationHelper.ts","./LocalizationLabel.ts","./EntityPool.ts","./DefaultDepthHelper.ts","./UIBuiltin.ts","./UIComponent.ts","./UIGroup.ts","./UIManager.ts","./UIView.ts","./DefaultVersionHelper.ts","./NodeUtils.ts","./AreaConfig.ts","./BillingConfig.ts","./BuffConfig.ts","./BuffTimelinessConfig.ts","./ExchangeConfig.ts","./FacilityConfig.ts","./FoodConfig.ts","./GameCensusConfig.ts","./GoodReputationConfig.ts","./ContactAdConfig.ts","./ContactAdMgr.ts","./FoodCarnivalMgr.ts","./FoodCarnivalConfig.ts","./ItemConfig.ts","./MiniGameConfig.ts","./OfflineEarningsConfig.ts","./PhonographConfig.ts","./PlayerBaseConfig.ts","./SettingConfig.ts","./PurchaseGiftConfig.ts","./ShopConfig.ts","./ShopCurrencyConfig.ts","./ShopDepotConfig.ts","./ShopItemConfig.ts","./ShopRewardConfig.ts","./SignConfig.ts","./StaffConfig.ts","./StarConfig.ts","./SuitConfig.ts","./TaskConfig.ts","./WarehouseConfig.ts","./ConfigManager.ts","./GameStart.ts","./SplashState.ts","./Debugtest_game.ts","./MiniGameDrawCardMgr.ts","./MiniGameClawPropData.ts","./MiniGameClawPropMgr.ts","./NoviceGuideMgr.ts","./PhonographMgr.ts","./AreaTool.ts","./FacilityTool.ts","./SuitTool.ts","./ItemData.ts","./ItemMgr.ts","./ItemTool.ts","./RegionTool.ts","./ShopConversionMgr.ts","./ShopCurrencyMgr.ts","./ShopDepotMgr.ts","./ShopInfoMgr.ts","./ShopItemMgr.ts","./ShopRewardMgr.ts","./AuditoriumConstruct.ts","./ConstrucFoodPos.ts","./ConstrucWineCooler.ts","./ConstructBar.ts","./ConstructBase.ts","./ConstructCat.ts","./ConstructCookAnban.ts","./ConstructCookBench.ts","./ConstructCookFood.ts","./ConstructCookLocal.ts","./ConstructDesk.ts","./ConstructDeskTable.ts","./ConstructGameBox.ts","./ConstructKitch.ts","./ConstructLobbyDoor.ts","./ConstructMgr.ts","./ConstructNoBuiltDesk.ts","./ConstructOutsideDoor.ts","./ConstructRoom.ts","./ConstructRoomWall.ts","./ConstructScale.ts","./ConstructSideTable.ts","./ConstructTouch.ts","./ConstructWash.ts","./FoodEnumConfig.ts","./InitialUnlockNode.ts","./KitchenConstruct.ts","./KitchenCookBowing.ts","./KitchenCookMgr.ts","./KitchenCooking.ts","./KitchenOrderForm.ts","./LobbyConstruct.ts","./LobbyOutsideConstruct.ts","./PrivateRoomConstruct.ts","./SceneFood.ts","./SceneFoodHuaVec.ts","./SceneFoodHud.ts","./SceneFoodPlate.ts","./SceneMemuMgr.ts","./SceneMenu.ts","./SceneMenuBuild.ts","./SceneMenuFood.ts","./SceneMenuMoney.ts","./SceneMenuNoBuild.ts","./SceneMenuTime.ts","./SceneMenuTips.ts","./CEatState.ts","./CGoEatState.ts","./CLeaveState.ts","./COrderDishesState.ts","./CPayEatState.ts","./CWaitState.ts","./CustomerAnimAgent.ts","./CustomerNode.ts","./PLeaveEventState.ts","./PToEventState.ts","./PersonalNode.ts","./CustomerGroupTable.ts","./CustomerTable.ts","./EventTable.ts","./StaffTable.ts","./StoryTable.ts","./BillingNode.ts","./CommonTalkNode.ts","./DropoutNode.ts","./DynamicCustomerRender.ts","./DynamicRender.ts","./DynamicSort.ts","./DynamicSpineRender.ts","./EntityBase.ts","./GGuestState.ts","./GuestFlyerNode.ts","./GuestNode.ts","./LobbyAdapterBottom.ts","./LobbyAdapterTop.ts","./NoviceNode.ts","./StoryNode.ts","./Lobby.ts","./LobbyCameraControl.ts","./KitchenNode.ts","./LobbyOutsideNode.ts","./LobbyRoomData.ts","./LobbyRoomBase.ts","./LobbyUtility.ts","./ETEatingState.ts","./EatTable.ts","./EffectClearEatNode.ts","./EffectCutNode.ts","./EffectUnlcokNode.ts","./EffectWashTipNode.ts","./LobbyNode.ts","./AStarRoadSeeker.ts","./IMapRoad.ts","./IRoadSeeker.ts","./MapManager.ts","./MapRoadAngle90.ts","./MapRoadManager.ts","./MapRoadNode.ts","./RoadSeekerAgent.ts","./SActorState.ts","./SCashierState.ts","./SClearEatState.ts","./SCutDishState.ts","./SHostessState.ts","./SOrderDishesState.ts","./SServeDishesState.ts","./SServeHotPotState.ts","./SSlackState.ts","./SWaitState.ts","./SWashState.ts","./StaffActor.ts","./StaffAnimAgent.ts","./StaffBase.ts","./StaffCashier.ts","./StaffCutDish.ts","./StaffHostess.ts","./StaffServeDish.ts","./StaffServeHotPot.ts","./StaffTaskQueue.ts","./StaffWaiter.ts","./StaffWasher.ts","./FoodIconPrefab.ts","./ItemPrefab.ts","./TopItemPrefab.ts","./ViewButtonListPrefab.ts","./BillingView.ts","./ChangeNameViewNew.ts","./ExplainView.ts","./FoodRecipesView.ts","./FoodillustrationInfoView.ts","./FoodillustrationItem.ts","./FoodillustrationPageNode.ts","./FoodillustrationView.ts","./PagePointComponent.ts","./GoldAdView.ts","./GoodReputationView.ts","./HomePageView.ts","./HomePageViewFlyerNode.ts","./ContactAdView.ts","./FoodCarnivalRewardView.ts","./FoodCarnivalView.ts","./HomePageBuffNode.ts","./HomePageContactAdView.ts","./HomePageFoodCarnivalView.ts","./HomePageViewEventNode.ts","./LuckyTurntableView.ts","./FoodInfoView.ts","./MenuNode.ts","./MenuView.ts","./MiniGameDrawCardItem.ts","./MiniGameDrawCardView.ts","./MiniGameExchangeItem.ts","./MiniGameExchangeView.ts","./MiniGameMainView.ts","./MiniGameOverView.ts","./MiniGameClawPropItem.ts","./MiniGamePrizeClawView.ts","./OOB2DCollider.ts","./ChangeNameView.ts","./CongratulationMoreView.ts","./NoviceGuideView.ts","./OfflineEarningsView.ts","./PersonalEvent2View.ts","./PersonalEventView.ts","./PhonographRewardView.ts","./PhonographView.ts","./CircleView.ts","./ConfirmView.ts","./CongratulationView.ts","./LoadView.ts","./LobbyLoadView.ts","./NewFunctionOpenView.ts","./SceneTipsView.ts","./TipView.ts","./BookItem.ts","./BookNode.ts","./BookTable.ts","./FasrBuyTab.ts","./FastBuildConfigView.ts","./FastBuyBook.ts","./FastBuyItem.ts","./FastBuyView.ts","./FastBuytConfigView.ts","./FastConstruct.ts","./FastSeleItem.ts","./FastSelect.ts","./FastStaffView.ts","./FastStaffView_template.ts","./TaskBuildConfigView.ts","./TaskStaffConfigView.ts","./RenovationConfigView.ts","./RenovationSchemeView.ts","./ReplaceNameView.ts","./SchemeItem.ts","./SchemeReplaceView.ts","./RenovationSuitItem.ts","./RenovationSuitView.ts","./RenovationView.ts","./SelectItem.ts","./SelectTable.ts","./TableItem.ts","./TableNode.ts","./ExchangeProgressBar.ts","./ResearchExchangeItem.ts","./ResearchExchangeView.ts","./ResearchItem.ts","./ResearchReadmeView.ts","./ResearchResultView.ts","./ResearchView.ts","./ScoreUpTips.ts","./SettingView.ts","./PurchaseDiamondItem.ts","./PurchaseDiamondView.ts","./PurchaseGiftView1003.ts","./PurchaseGiftView1004.ts","./PurchaseGiftView1005.ts","./PurchaseGiftView1006.ts","./ShopConversionItem.ts","./ShopConversionView.ts","./ShopCurrencyItem.ts","./ShopCurrencyView.ts","./ShopDepotView.ts","./ShopGiftItem.ts","./ShopGiftView.ts","./ShopItemView.ts","./ShopItemViewTemplate.ts","./ShopRewardView.ts","./ShopRewardZhuanPan.ts","./ShopView.ts","./SignView.ts","./StaffInfoView.ts","./StaffInfoView_skin.ts","./StaffView.ts","./StaffViewPerson.ts","./StaffViewPlan.ts","./StaffPlanView.ts","./StaffPlanView_list_person.ts","./StaffPlanView_list_set.ts","./StaffPlanView_list_unlock.ts","./StaffPlanView_exchange.ts","./StaffPlanView_exchange_list.ts","./StarInfoView.ts","./StoryView.ts","./TaskView.ts","./WarehouseItem.ts","./WarehousePowerShow.ts","./WarehouseReadmeView.ts","./WarehouseView.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./GameVersion.ts","./GetCurencyUIAni.ts","./MyTextureAni.ts","./GoogleAdMob.ts","./GoogleBilling.ts","./GoogleFirebase.ts","./SDKInfoMgr.ts","./SDKTestView.ts","./AudioTool.ts","./GameTool.ts","./GameUnlockTool.ts","./JsbTool.ts","./ResourceTool.ts","./UITool.ts","./UIConfig.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MapManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReferencePool.ts","./AStarRoadSeeker.ts","./MapRoadManager.ts"],(function(e){"use strict";var t,a,n,o,r;return{setters:[function(e){t=e.createClass},function(e){a=e.cclegacy},function(e){n=e.default},function(e){o=e.default},function(e){r=e.default}],execute:function(){a._RF.push({},"6ad32UOFilMeLnm3HDmJsgT","MapManager",void 0),e("MapManager",function(){function e(){this.m_RoadManager=void 0,this.m_RoadNodes={},this.m_RoadSeeker=void 0}e.get=function(t){return this.m_Instances[t]||(this.m_Instances[t]=new e),this.m_Instances[t]};var a=e.prototype;return a.init=function(e,t){var a=e.mapWidth,n=e.mapHeight,i=e.nodeWidth,s=e.nodeHeight;this.m_RoadManager=r.get(t);var d=this.m_RoadManager;d.update(a,n,i,s);for(var u=e.mapData,c=this.m_RoadNodes,g=u.length,h=u[0].length,m=0;m<g;m++)for(var l=0;l<h;l++){var _=u[m][l],f=l,y=m,R=d.getNodeByDerect(f,y);R.value=_,c[this.getKey(R.wx,R.wy)]=R}this.m_RoadSeeker=new o(c)},a.getNodeByPixel=function(e,t){var a=this.m_RoadManager.getWorldPointByPixel(e,t),o=this.m_RoadNodes[this.getKey(a.x,a.y)];return n.recover(a),o},a.seekPathByPixel=function(e,t,a){var o=this.m_RoadManager.getWorldPointByPixel(e.x,e.y),r=this.m_RoadManager.getWorldPointByPixel(t.x,t.y),i=this.m_RoadNodes,s=i[this.getKey(o.x,o.y)],d=i[this.getKey(r.x,r.y)];return n.recover(o),n.recover(r),this.m_RoadSeeker.seekPath(s,d,a)},a.getKey=function(e,t){return e+"_"+t},t(e,[{key:"roadNodes",get:function(){return this.m_RoadNodes}},{key:"roadManager",get:function(){return this.m_RoadManager}}]),e}()).m_Instances={},a._RF.pop()}}}));

System.register("chunks:///_virtual/MapRoadAngle90.ts",["cc","./ReferencePool.ts","./MapRoadNode.ts"],(function(t){"use strict";var e,i,o,r;return{setters:[function(t){e=t.cclegacy},function(t){i=t.default},function(t){o=t.default,r=t.Vec2Pool}],execute:function(){e._RF.push({},"456cd5pByhHy5tj563aafUE","MapRoadAngle90",void 0);t("MapRoad90Angle",function(){function t(t,e,i,o,r,n){this.m_Row=void 0,this.m_Line=void 0,this.m_NodeWidth=void 0,this.m_NodeHeight=void 0,this.m_HalfNodeWidth=void 0,this.m_HalfNodeHeight=void 0,this.m_Row=t,this.m_Line=e,this.m_NodeWidth=i,this.m_NodeHeight=o,this.m_HalfNodeWidth=r,this.m_HalfNodeHeight=n}var e=t.prototype;return e.getNodeByPixel=function(t,e){var r=this.getWorldPointByPixel(t,e),n=this.getPixelByWorldPoint(r.x,r.y),d=this.getDerectByPixel(t,e),h=o.get(r.x,r.y,n.x,n.y,d.x,d.y);return i.recover(r),i.recover(n),i.recover(d),h},e.getNodeByDerect=function(t,e){var r=this.getPixelByDerect(t,e),n=this.getWorldPointByPixel(r.x,r.y),d=o.get(n.x,n.y,r.x,r.y,t,e);return i.recover(n),i.recover(r),d},e.getNodeByWorldPoint=function(t,e){var r=this.getPixelByWorldPoint(t,e),n=this.getDerectByPixel(r.x,r.y),d=o.get(t,e,r.x,r.y,n.x,n.y);return i.recover(r),i.recover(n),d},e.getWorldPointByPixel=function(t,e){var i=Math.floor(t/this.m_NodeWidth),o=Math.floor(e/this.m_NodeHeight);return r.get(i,o)},e.getPixelByWorldPoint=function(t,e){var i=Math.floor(t*this.m_NodeWidth+this.m_HalfNodeWidth),o=Math.floor(e*this.m_NodeHeight+this.m_HalfNodeHeight);return r.get(i,o)},e.getDerectByPixel=function(t,e){return this.getWorldPointByPixel(t,e)},e.getPixelByDerect=function(t,e){return this.getPixelByWorldPoint(t,e)},e.getDerectByWorldPoint=function(t,e){return r.get(t,e)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/MapRoadManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MapRoadAngle90.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.MapRoad90Angle}],execute:function(){i._RF.push({},"fa314VVZvhG/pL1GA6yKDaz","MapRoadManager",void 0),t("default",function(){function t(){this.m_MapWidth=void 0,this.m_MapHeight=void 0,this.m_NodeWidth=void 0,this.m_NodeHeight=void 0,this.m_Row=void 0,this.m_Line=void 0,this.m_HalfNodeWidth=void 0,this.m_HalfNodeHeight=void 0,this.m_MapRoad=void 0}t.get=function(e){return this.m_Instances[e]||(this.m_Instances[e]=new t),this.m_Instances[e]};var i=t.prototype;return i.update=function(t,e,i,o){this.m_MapWidth=t,this.m_MapHeight=e,this.m_NodeWidth=i,this.m_NodeHeight=o,this.m_HalfNodeWidth=Math.floor(.5*i),this.m_HalfNodeHeight=Math.floor(.5*o),this.m_Line=Math.floor(t/i),this.m_Row=Math.floor(e/i),this.m_MapRoad=new n(this.m_Row,this.m_Line,this.m_NodeWidth,this.m_NodeHeight,this.m_HalfNodeWidth,this.m_HalfNodeHeight)},i.getNodeByPixel=function(t,e){var i=this.m_MapRoad;return i?i.getNodeByPixel(t,e):null},i.getNodeByDerect=function(t,e){var i=this.m_MapRoad;return i?i.getNodeByDerect(t,e):null},i.getNodeByWorldPoint=function(t,e){var i=this.m_MapRoad;return i?i.getNodeByWorldPoint(t,e):null},i.getWorldPointByPixel=function(t,e){var i=this.m_MapRoad;return i?i.getWorldPointByPixel(t,e):null},i.getPixelByWorldPoint=function(t,e){var i=this.m_MapRoad;return i?i.getPixelByWorldPoint(t,e):null},i.getDerectByPixel=function(t,e){var i=this.m_MapRoad;return i?i.getDerectByPixel(t,e):null},i.getPixelByDerect=function(t,e){var i=this.m_MapRoad;return i?i.getPixelByDerect(t,e):null},i.getDerectByWorldPoint=function(t,e){var i=this.m_MapRoad;return i?i.getDerectByWorldPoint(t,e):null},i.getPixelByUI=function(t,e,i){return i.x=t+.5*this.m_MapWidth,i.y=e+.5*this.m_MapHeight,i},i.getUIByPixel=function(t,e){return e.x=t.x-.5*this.m_MapWidth,e.y=t.y-.5*this.m_MapHeight,e},e(t,[{key:"mapWidth",get:function(){return this.m_MapWidth}},{key:"mapHeight",get:function(){return this.m_MapHeight}},{key:"nodeWidth",get:function(){return this.m_NodeWidth}},{key:"nodeHeight",get:function(){return this.m_NodeHeight}},{key:"row",get:function(){return this.m_Row}},{key:"line",get:function(){return this.m_Line}},{key:"halfNodeWidth",get:function(){return this.m_HalfNodeWidth}},{key:"halfNodeHeight",get:function(){return this.m_HalfNodeHeight}}]),t}()).m_Instances={},i._RF.pop()}}}));

System.register("chunks:///_virtual/MapRoadNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReferencePool.ts"],(function(t){"use strict";var i,e,s,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t.Vec2},function(t){n=t.default}],execute:function(){e._RF.push({},"b714f6lG1ZFlYJs4MXcINYy","MapRoadNode",void 0);t("default",function(){function t(){this.px=void 0,this.py=void 0,this.wx=void 0,this.wy=void 0,this.dx=void 0,this.dy=void 0,this.value=0,this.f=0,this.g=0,this.h=0,this.parent=null}return t.prototype.clear=function(){this.px=this.py=this.wx=this.wy=this.dx=this.dy=this.value=this.f=this.g=this.h=0,this.parent=null},t.get=function(i,e,s,o,u,h){var r=n.get(t);return r.wx=i,r.wy=e,r.px=s,r.py=o,r.dx=u,r.dy=h,r},t}()),t("Vec2Pool",function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e.prototype.clear=function(){this.x=this.y=0},e.get=function(t,i){var s=n.get(e);return s.set(t,i),s},e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/MenuNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./ListItem.ts","./LocalizationHelper.ts","./UIManager.ts","./FoodConfig.ts","./ItemConfig.ts","./StarConfig.ts","./EventUtility.ts","./GameUtility.ts","./AudioTool.ts","./GameTool.ts","./ResourceTool.ts","./UITool.ts","./UIConfig.ts"],(function(e){"use strict";var t,i,n,r,o,a,l,u,c,s,b,p,f,g,d,m,h,L,y,v,w,N,z,I,S,B,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,u=e.Sprite,c=e.Label,s=e.color,b=e.LabelOutline},function(e){p=e.eventDispatcher},function(e){f=e.default},function(e){g=e.LocalizationHelper},function(e){d=e.uiManager},function(e){m=e.foodConfig},function(e){h=e.itemConfig,L=e.EItemEnum},function(e){y=e.starConfig},function(e){v=e.MEventNames},function(e){w=e.EGameBundles},function(e){N=e.AudioTool,z=e.ESoundType},function(e){I=e.GameTool},function(e){S=e.ResourceTool},function(e){B=e.UITool},function(e){_=e.MUIConfig}],execute:function(){var G,A,C,T,U,F,V,D,E,M,x,H,R,k,P,O,J,j,q,K,Q,W,X,Y,Z,$,ee,te,ie,ne,re,oe,ae,le,ue,ce,se,be,pe,fe,ge,de,me,he,Le,ye,ve;o._RF.push({},"f74e8GJdfpLJaapRoFGLOCe","MenuNode",void 0);var we=a.ccclass,Ne=a.property;e("MenuNode",(G=we("MenuNode"),A=Ne(l),C=Ne(l),T=Ne(l),U=Ne(l),F=Ne(l),V=Ne(u),D=Ne(c),E=Ne(c),M=Ne(c),x=Ne(c),H=Ne(c),R=Ne(c),k=Ne(c),P=Ne(c),O=Ne(c),J=Ne([l]),j=Ne(l),q=Ne(c),K=Ne(l),Q=Ne(c),W=Ne(l),X=Ne(l),G(($=t((Z=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"bg1",$,r(t)),n(t,"bg2",ee,r(t)),n(t,"haveNode",te,r(t)),n(t,"noHave",ie,r(t)),n(t,"specialty",ne,r(t)),n(t,"iconSp",re,r(t)),n(t,"priceLab1",oe,r(t)),n(t,"priceLab2",ae,r(t)),n(t,"scoreLab1",le,r(t)),n(t,"scoreLab2",ue,r(t)),n(t,"costLab1",ce,r(t)),n(t,"costLab2",se,r(t)),n(t,"sellLab",be,r(t)),n(t,"desLab",pe,r(t)),n(t,"nameLab",fe,r(t)),n(t,"starNodeArr",ge,r(t)),n(t,"upGradeBtn",de,r(t)),n(t,"priceLab",me,r(t)),n(t,"starBtn",he,r(t)),n(t,"needStar",Le,r(t)),n(t,"maxLab",ye,r(t)),n(t,"lookNode",ve,r(t)),t.m_foodId=0,t}i(t,e);var o=t.prototype;return o.initTable=function(e,t){this.m_foodId=e;var i=m.foodConfigList[this.m_foodId],n=m.getFoodDic(this.m_foodId);if(this.bg2.active=!1,this.bg1.active=!0,i){this.noHave.active=!1,this.haveNode.active=!0,S.setSpriteFrame(w.LoadOnPlay,m.getUIIcon(this.m_foodId),this.iconSp,t),this.nameLab.string=g.getString(n.Name),this.priceLab1.string=i.price+"",this.scoreLab1.string=i.score+"",this.sellLab.string=i.sellNum+"",this.costLab1.string=n.Buy+"",this.specialty.active=1==n.Rare;for(var r=0;r<this.starNodeArr.length;r++)i.curLv>r?this.starNodeArr[r].active=!0:this.starNodeArr[r].active=!1;this.refreshUpGradeBtn()}else this.noHave.active=!0,this.haveNode.active=!1,this.nameLab.string="???",this.priceLab2.string=I.splitNumberArray(n.Sale)[0]+"",this.scoreLab2.string=I.splitNumberArray(n.Score)[0]+"",this.costLab2.string=n.Buy+"",this.desLab.string=g.getString(n.Info)},o.refreshUpGradeBtn=function(){var e=m.foodConfigList[this.m_foodId];if(e.curLv>=5)this.maxLab.active=!0,this.starBtn.active=!1,this.upGradeBtn.active=!1;else{this.maxLab.active=!1;var t=m.getFoodDic(this.m_foodId),i=I.splitNumberArray(t.GoldProficiency)[e.curLv-1],n=I.splitNumberArray(t.StarUp)[e.curLv-1];y.getStar()>=n?(this.starBtn.active=!1,this.upGradeBtn.active=!0,this.priceLab.string="x"+i,h.itemEnough(L.money,i)?(this.priceLab.color=s(255,255,255),this.priceLab.getComponent(b).color=s(52,139,14)):(this.priceLab.color=s(252,125,125),this.priceLab.getComponent(b).color=s(122,29,20))):(this.starBtn.active=!0,this.upGradeBtn.active=!1,this.needStar.string="x"+n)}},o.clickUpgradeBtn=function(){N.play(z.ui_click);var e=m.foodConfigList[this.m_foodId],t=m.getFoodDic(this.m_foodId),i=I.splitNumberArray(t.GoldProficiency)[e.curLv-1],n=I.splitNumberArray(t.StarUp)[e.curLv-1];if(y.getStar()>=n)h.itemEnough(L.money,i)?(h.useItem(L.money,i),e.upGrade(),p.event(v.FoodInfoRefresh)):B.instance.haveNoAD?d.openView(_.ShopDepotView):d.openView(_.TipView,null,{content:g.getString("1_17")});else{var r=y.getStarNameByStar(n);d.openView(_.TipView,null,{content:g.getString("23_38",[r])})}},o.clickBg=function(){m.foodConfigList[this.m_foodId]?d.openView(_.FoodInfoView,null,this.m_foodId):d.openView(_.TipView,null,{content:g.getString("23_43")})},t}(f)).prototype,"bg1",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(Z.prototype,"bg2",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Z.prototype,"haveNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(Z.prototype,"noHave",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(Z.prototype,"specialty",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(Z.prototype,"iconSp",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(Z.prototype,"priceLab1",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(Z.prototype,"priceLab2",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(Z.prototype,"scoreLab1",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(Z.prototype,"scoreLab2",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(Z.prototype,"costLab1",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(Z.prototype,"costLab2",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(Z.prototype,"sellLab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(Z.prototype,"desLab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(Z.prototype,"nameLab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(Z.prototype,"starNodeArr",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de=t(Z.prototype,"upGradeBtn",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(Z.prototype,"priceLab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(Z.prototype,"starBtn",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(Z.prototype,"needStar",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(Z.prototype,"maxLab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(Z.prototype,"lookNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=Z))||Y));o._RF.pop()}}}));

System.register("chunks:///_virtual/MenuView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./List.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./FoodConfig.ts","./NoviceGuideMgr.ts","./AreaTool.ts","./EventUtility.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts","./UITool.ts","./UIConfig.ts","./MenuNode.ts"],(function(t){"use strict";var e,i,o,r,n,a,s,l,c,u,h,d,g,f,p,m,b,_,A,w,L,y,I,v,N,T,P,V,k,U,B,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.Node,l=t.Layout,c=t.Sprite,u=t.Label,h=t.RichText,d=t.color,g=t.tween,f=t.v3},function(t){p=t.eventDispatcher},function(t){m=t.default},function(t){b=t.LocalizationHelper},function(t){_=t.uiManager},function(t){A=t.UIView},function(t){w=t.foodConfig},function(t){L=t.NoviceGuideMgr,y=t.EGuideStep,I=t.EGuideClickEnum},function(t){v=t.AreaTool},function(t){N=t.MEventNames},function(t){T=t.EGameBundles},function(t){P=t.AudioTool,V=t.ESoundType},function(t){k=t.ResourceTool},function(t){U=t.UITool},function(t){B=t.MUIConfig},function(t){S=t.MenuNode}],execute:function(){var x,C,z,M,D,G,R,O,E,F,X,H,j,W,q,J,K,Q,Y,Z,$,tt,et,it,ot,rt,nt,at,st;n._RF.push({},"1779e6pGIpBhb5j+dUeL7L+","MenuView",void 0);var lt=a.ccclass,ct=a.property;t("MenuView",(x=lt("MenuView"),C=ct(m),z=ct([s]),M=ct(l),D=ct(l),G=ct([c]),R=ct([u]),O=ct(s),E=ct(s),F=ct(s),X=ct(u),H=ct(c),j=ct(s),W=ct(h),x((K=e((J=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"listView",K,r(e)),o(e,"pageBtnNodeArr",Q,r(e)),o(e,"tagLayout",Y,r(e)),o(e,"tagLabLayout",Z,r(e)),o(e,"tagBtnArr",$,r(e)),o(e,"tagLabArr",tt,r(e)),o(e,"orderNode",et,r(e)),o(e,"chooseNode",it,r(e)),o(e,"sortNodeArr",ot,r(e)),o(e,"sortLabArr",rt,r(e)),o(e,"sortArrowsArr",nt,r(e)),o(e,"unlockNode",at,r(e)),o(e,"lockRich",st,r(e)),e.m_listData=[],e.m_Page=1,e.m_tagIndex=0,e.m_orderIsOpen=!1,e.m_actionList=[],e.m_isDoing=!1,e}i(e,t);var n=e.prototype;return n.onOpen=function(){P.play(V.ui_open),this.m_Page=1,this.updateTable(),this.refreshUI(),this.orderNode.setScale(1,0,1),p.on(N.FoodInfoRefresh,this,this.foodUpdate),p.on(N.guideClick,this,this.guideClick),p.on(N.refreshGuildPos,this,this.refreshGuildPos)},n.onClose=function(){p.offAllCaller(this)},n.updateTable=function(){this.m_listData=w.getMenuShowArr(this.m_Page,this.m_tagIndex),this.listView.numItems=this.m_listData.length,this.listView.scrollView.stopAutoScroll(),this.listView.scrollView.scrollToTop(),this.listView.updateAll()},n.lateUpdate=function(){this.listView.contentChild.length>0&&L.instance.isNeedShowNoviceView(y.Guide_GetFoodUp)},n.refreshGuildPos=function(t){if(t.click==I.layerButton)switch(t.itemIndex){case 1:this.listView.contentChild[0].getComponent(S).bg1.getWorldPosition(U.instance.guideHandWorldPos)}},n.guideClick=function(t){if(t.click==I.layerButton)switch(t.itemIndex){case 1:this.listView.contentChild[0].getComponent(S).clickBg()}},n.refreshUI=function(){if(this.refreshPageBtn(),this.refreshTag(),this.refreshOrderNode(),this.unlockNode.active=!1,this.listView.node.active=!0,this.m_tagIndex>0){var t=w.foodIsUnLock(this.m_Page,this.m_tagIndex);if(t>0){this.unlockNode.active=!0,this.listView.node.active=!1;var e=v.instance.getSubToAreaConfig(t),i="</color><color=#219ac1> "+b.getString(e.Name)+" </color><color=#83706a>",o=b.getString("23_40",[i]);this.lockRich.string="<color=#83706a>"+o+"</color>"}}},n.foodUpdate=function(){this.listView.updateAll()},n.refreshPageBtn=function(){for(var t=0;t<this.pageBtnNodeArr.length;t++)t==this.m_Page-1?this.pageBtnNodeArr[t].active=!0:this.pageBtnNodeArr[t].active=!1},n.refreshTag=function(){var t=["23_5","23_6","23_7","23_8"];this.tagLayout.spacingX=12,this.tagLabLayout.spacingX=12,2==this.m_Page?(t=["23_9","23_10","23_11","23_12"],this.tagLayout.spacingX=12,this.tagLabLayout.spacingX=12):3==this.m_Page&&(t=["23_44","23_45","23_46"],this.tagLayout.spacingX=80,this.tagLabLayout.spacingX=80);for(var e=0;e<this.tagLabArr.length;e++)t[e]?(this.tagLabArr[e].node.active=!0,this.tagBtnArr[e].node.active=!0,this.tagLabArr[e].string=b.getString(t[e]),e==this.m_tagIndex-1?(this.tagLabArr[e].color=d(212,70,26),k.setSpriteFrame(T.LoadOnPlay,"Res/Texture/UI/Public/T_UI_common_bars_02",this.tagBtnArr[e],this)):(this.tagLabArr[e].color=d(131,112,106),k.setSpriteFrame(T.LoadOnPlay,"Res/Texture/UI/Public/T_UI_common_bars_01",this.tagBtnArr[e],this))):(this.tagLabArr[e].node.active=!1,this.tagBtnArr[e].node.active=!1)},n.refreshOrderNode=function(){for(var t=0;t<this.sortNodeArr.length;t++)t==w.menuSort-1?(this.chooseNode.setPosition(this.sortNodeArr[t].getPosition()),this.sortArrowsArr[t].color=d(199,94,17),this.sortLabArr[t].color=d(199,94,17)):(this.sortArrowsArr[t].color=d(120,120,120),this.sortLabArr[t].color=d(120,120,120))},n.onListVRender=function(t,e){var i=t.getComponent(S),o=this.m_listData[e].Id;i.initTable(o,this)},n.orderNodeAction=function(){var t=this;this.m_isDoing||this.m_actionList.length>0&&(this.m_isDoing=!0,this.m_actionList.shift()?g(this.orderNode).to(.15,{scale:f(1,0,1)}).call((function(){t.m_isDoing=!1,t.orderNodeAction()})).start():g(this.orderNode).to(.15,{scale:f(1,1,1)}).call((function(){t.m_isDoing=!1,t.orderNodeAction()})).start())},n.clickPageBtn=function(t,e){var i=parseInt(e);this.m_Page!=i&&(P.play(V.ui_nextpage),this.m_Page=i,this.m_tagIndex=0,this.updateTable(),this.refreshUI())},n.clickTypeBtn=function(t,e){var i=parseInt(e);this.m_tagIndex!=i&&(P.play(V.ui_nextpage),this.m_tagIndex=i,this.updateTable(),this.refreshUI())},n.clickSortBtn=function(){this.m_actionList.push(this.m_orderIsOpen),this.m_orderIsOpen=!this.m_orderIsOpen,this.orderNodeAction()},n.clickSortType=function(t,e){var i=parseInt(e);w.menuSort!=i&&(P.play(V.ui_nextpage),w.menuSort=i,this.updateTable(),this.refreshUI(),this.m_actionList.push(this.m_orderIsOpen),this.m_orderIsOpen=!this.m_orderIsOpen,this.orderNodeAction())},n.clickGotoLock=function(){var t={tableId:w.foodIsUnLock(this.m_Page,this.m_tagIndex)};_.openView(B.RenovationView,null,1,null,t),_.closeView(this)},n.clickClose=function(){P.play(V.ui_click),_.closeView(this)},e}(A)).prototype,"listView",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(J.prototype,"pageBtnNodeArr",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(J.prototype,"tagLayout",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(J.prototype,"tagLabLayout",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(J.prototype,"tagBtnArr",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tt=e(J.prototype,"tagLabArr",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),et=e(J.prototype,"orderNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(J.prototype,"chooseNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(J.prototype,"sortNodeArr",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rt=e(J.prototype,"sortLabArr",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=e(J.prototype,"sortArrowsArr",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=e(J.prototype,"unlockNode",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(J.prototype,"lockRich",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=J))||q));n._RF.pop()}}}));

System.register("chunks:///_virtual/MiniGameClawPropData.ts",["cc","./MiniGameClawPropMgr.ts"],(function(t){"use strict";var i,n;return{setters:[function(t){i=t.cclegacy},function(t){n=t.MiniGameClawPropMgr}],execute:function(){i._RF.push({},"5cb1d7W/GFK542bg/7Q3k63","MiniGameClawPropData",void 0);t("MiniGameClawPropData",function(){function t(t){this.id=0,this.configData=null,this.idxArray=[],this.setID(t)}var i=t.prototype;return i.setID=function(t){this.id=t,this.configData=n.instance.getGridDic(t)},i.setIdx=function(t,i){this.idxArray[0]=t,this.idxArray[1]=i},i.getScore=function(){return this.configData.Integral},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/MiniGameClawPropItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AssetHelper.ts"],(function(e){"use strict";var t,r,i,a,n,s,o,p,c,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,o=e.SpriteFrame,p=e.Size,c=e.Sprite,l=e.Component},function(e){u=e.AssetHelper}],execute:function(){var m,h,d,y,f;n._RF.push({},"43a36vCSzRBR45WqkWFhvod","MiniGameClawPropItem",void 0);var D=s.ccclass,v=s.property;e("MiniGameClawPropItem",(m=D("MiniGameClawPropItem"),h=v([o]),m((f=t((y=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,i(t,"spriteFrameArray",f,a(t)),t.idxArray=[],t.spID=0,t.propData=null,t.m_Size=new p(0,0),t}r(t,e);var n=t.prototype;return n.setData=function(e,t){this.propData=e,this.setSpID(e.data.id),this.node.angle=360*Math.random();var r=this.spriteFrameArray[this.spID-1];this.node.getComponent(c).spriteFrame=u.assign(r,t),this.idxArray[0]=e.idx1,this.idxArray[1]=e.idx2},n.setSpID=function(e){this.spID=e<=3?1:e<=5?2:e<=9?3:e<=10?2:4},t}(l)).prototype,"spriteFrameArray",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=y))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/MiniGameClawPropMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./ItemConfig.ts","./DataTable.ts","./GameTool.ts","./MiniGameClawPropData.ts"],(function(t){"use strict";var e,a,r,i,n,s,m;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy},function(t){r=t.dataTableManager},function(t){i=t.itemConfig},function(t){n=t.EDataTables},function(t){s=t.GameTool},function(t){m=t.MiniGameClawPropData}],execute:function(){var o;t("EMiniGameClawPropStatus",void 0),a._RF.push({},"589cfgx471AP6/Am517UWed","MiniGameClawPropMgr",void 0),function(t){t[t.ready=0]="ready",t[t.swing=1]="swing",t[t.draw=2]="draw",t[t.rise=3]="rise",t[t.over=4]="over"}(o||(o=t("EMiniGameClawPropStatus",{}))),t("MiniGameClawPropMgr",function(){function t(){this.m_ConfigArray=null,this.m_GridArray=null,this.m_GameScore=0,this.gameTime=0,this.m_RewardScore=0,this.m_GameStatus=o.swing,this.m_IsPause=!1,this.clawPropData=null}var a=t.prototype;return a.getGridDic=function(t){return r.getData(n.GridsItem,t)},a.gameInit=function(){var t=this;this.m_GameScore=0,this.gameTime=90,this.m_RewardScore=0,this.clawPropData=null,this.setPause(!1),this.m_ConfigArray||(this.m_ConfigArray=r.getDataTableArray(n.MiningGame),this.m_ConfigArray.forEach((function(t){t.GridsItemRange=r.stringFmtNumberArray(t.GridsItemRange),t.NumRange=r.stringFmtNumberArray(t.NumRange)}))),this.m_GridArray=[],this.m_ConfigArray.forEach((function(e,a){t.m_GridArray[a]=[];for(var r=s.getOneRandomElementInArray(e.NumRange);r-- >0;)t.m_GridArray[a].push(new m(s.getOneRandomElementInArray(e.GridsItemRange)))}))},a.clawOne=function(t){this.clawPropData=t},a.clawOneOver=function(){var t=0;return this.clawPropData&&(t=this.clawPropData.getScore(),this.m_GameScore+=t),t},a.gameOver=function(){this.rewardScore>0&&i.addItem(57,this.rewardScore)},a.setPause=function(t){this.m_IsPause=1==t},a.changeGameStatus=function(t){if(t==this.m_GameStatus)return!1;switch(this.m_GameStatus=t,t){case o.over:this.m_RewardScore=5*~~this.gameTime+this.m_GameScore,this.gameOver()}return!0},a.update=function(t){this.gameStatus==o.ready||this.gameStatus==o.over||this.m_IsPause||(this.gameTime-=t)},e(t,[{key:"gridArray",get:function(){return this.m_GridArray}},{key:"gameScore",get:function(){return this.m_GameScore}},{key:"rewardScore",get:function(){return this.m_RewardScore}},{key:"gameStatus",get:function(){return this.m_GameStatus}},{key:"isPause",get:function(){return this.m_IsPause}}],[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new t),this.m_Instance}}]),t}()).m_Instance=void 0,a._RF.pop()}}}));

System.register("chunks:///_virtual/MiniGameConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./GoogleFirebase.ts","./TaskConfig.ts"],(function(e){"use strict";var i,n,t,a,s,r,o,c,f;return{setters:[function(e){i=e.inheritsLoose,n=e.createClass},function(e){t=e.cclegacy},function(e){a=e.configName,s=e.default},function(e){r=e.googleFirebaser,o=e.eAnalyticsEvent},function(e){c=e.taskConfig,f=e.ETaskType}],execute:function(){var m;t._RF.push({},"f9f3bvpA65MDr52HX7isJmf","MiniGameConfig",void 0);var u=a("MiniGameConfig")(m=function(e){function t(){for(var i,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return(i=e.call.apply(e,[this].concat(t))||this).gameTimes=0,i}i(t,e);var a=t.prototype;return a.onInit=function(e){1==e&&(this.gameTimes=0)},a.newDayRefresh=function(){this.gameTimes=0},a.canPlayerGame=function(){var e=-1;return this.gameTimes<this.freeTimes?e=1:this.gameTimes<this.freeTimes+this.watchTimes&&(e=2),e},a.enterGame=function(){this.canPlayerGame()>0&&(this.gameTimes++,c.addTaskPro(f.GameMachine),this.gameTimes>this.freeTimes&&r.logEvent(o.event_ad,"ad_gameplayer"))},n(t,[{key:"freeTimes",get:function(){return 3}},{key:"watchTimes",get:function(){return 5}}]),t}(s))||m;e("miniGameConfig",new u);t._RF.pop()}}}));

System.register("chunks:///_virtual/MiniGameDrawCardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./FoodConfig.ts","./MiniGameDrawCardMgr.ts","./EventUtility.ts","./GameUtility.ts","./ResourceTool.ts"],(function(t){"use strict";var e,i,n,a,r,o,s,c,l,u,m,d,f,h,p,D,w,I,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.Node,c=t.Sprite,l=t.Label,u=t.Vec3,m=t.tween,d=t.Component},function(t){f=t.eventDispatcher},function(t){h=t.LocalizationHelper},function(t){p=t.foodConfig},function(t){D=t.MiniGameDrawCardMgr},function(t){w=t.MEventNames},function(t){I=t.EGameBundles},function(t){g=t.ResourceTool}],execute:function(){var S,v,C,y,b,G,M,B,L;r._RF.push({},"79f14opFqlIEYE6BPPkqpnC","MiniGameDrawCardItem",void 0);var N,E=o.ccclass,F=o.property;!function(t){t[t.Normal=0]="Normal",t[t.DrawSuccess=1]="DrawSuccess",t[t.DrawFail=2]="DrawFail",t[t.Drawing=3]="Drawing"}(N||(N={}));t("MiniGameDrawCardItem",(S=E("MiniGameDrawCardItem"),v=F(s),C=F(c),y=F(l),S((M=e((G=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"iconBg",M,a(e)),n(e,"iconSprite",B,a(e)),n(e,"nameLab",L,a(e)),e.cardStatus=N.Normal,e.v3Scale1=new u(0,1,1),e.v3Scale2=new u(1,1,1),e.mIdx=-1,e.mID=0,e.assertKeeper=null,e}i(e,t);var r=e.prototype;return r.onLoad=function(){f.on(w.MiniGameCardItemEvent,this,this.miniGameCardItemEvent)},r.onDestory=function(){f.offAllCaller(this)},r.setData=function(t,e){this.cardStatus=N.Normal,this.assertKeeper=e,this.mIdx=t,this.mID=D.instance.getIDByIdx(t);var i=p.getFoodDic(this.mID);this.nameLab.string=h.getString(i.Name),this.setIcon(),this.iconBg.active=!1},r.setIcon=function(){g.setSpriteFrame(I.LoadOnPlay,p.getUIIcon(this.mID),this.iconSprite,this.assertKeeper)},r.drawCard=function(){this.cardStatus==N.Normal&&(D.instance.drawCard(this.mIdx)>-1&&(this.setDrawStatus(N.Drawing),this.iconBg.active=!0))},r.setDrawStatus=function(t){return t!=this.cardStatus&&(this.cardStatus=t,!0)},r.miniGameCardItemEvent=function(t){this.mIdx!=t[0]&&this.mIdx!=t[1]||(1==t[2]?this.setDrawStatus(N.DrawSuccess):2==t[2]&&this.lidCardItem())},r.lidCardItem=function(){var t=this;this.scheduleOnce((function(){m(t.node).to(.2,{scale:t.v3Scale1}).call((function(){t.iconBg.active=!1})).to(.2,{scale:t.v3Scale2}).call((function(){D.instance.lidCardItem(),t.setDrawStatus(N.Normal)})).start()}),.7)},r.clickCard=function(){this.cardStatus,N.Normal},e}(d)).prototype,"iconBg",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(G.prototype,"iconSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(G.prototype,"nameLab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=G))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/MiniGameDrawCardMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./FoodConfig.ts","./ItemConfig.ts","./DataTable.ts","./EventUtility.ts","./GameTool.ts"],(function(t){"use strict";var r,e,a,i,n,m,s,u,d,c;return{setters:[function(t){r=t.createClass},function(t){e=t.cclegacy},function(t){a=t.eventDispatcher},function(t){i=t.dataTableManager},function(t){n=t.foodConfig},function(t){m=t.itemConfig,s=t.EItemEnum},function(t){u=t.EDataTables},function(t){d=t.MEventNames},function(t){c=t.GameTool}],execute:function(){e._RF.push({},"49a86fQ1qJEsIQcuK4U9diX","MiniGameDrawCardMgr",void 0),t("MiniGameDrawCardMgr",function(){function t(){this.m_CardIDArray=[],this.m_LastCardIdx=-1,this.m_GameTime=0,this.m_GameScore=0,this.m_DrawCardNum=0,this.m_OpenCardNum=0}var e=t.prototype;return e.gameInit=function(){this.m_GameScore=0,this.m_GameTime=180,this.m_OpenCardNum=0;var t=[];i.getDataTableArray(u.Food).forEach((function(r){t.push(r.Id)})),this.m_CardIDArray.splice(0),this.m_CardIDArray=c.getManyElementInArray(t,6),this.m_CardIDArray=this.m_CardIDArray.concat(JSON.parse(JSON.stringify(this.m_CardIDArray))),this.m_CardIDArray.sort((function(t,r){return Math.random()-.5})),this.m_LastCardIdx=-1,this.m_DrawCardNum=0},e.drawCard=function(t){if(this.m_LastCardIdx==t)return-1;if(this.residueCardNum<=0)return-1;if(this.gameTime<=0)return-1;if(this.m_OpenCardNum>=2)return-1;var r=this.m_LastCardIdx;if(this.m_CardIDArray[t]>-1){if(r>-1){if(this.m_LastCardIdx=-1,this.m_CardIDArray[t]==this.m_CardIDArray[r]){var e=this.peiDuiSuccess(t);return a.event(d.MiniGameCardItemEvent,{0:t,1:r,2:1,score:e}),1}return a.event(d.MiniGameCardItemEvent,{0:t,1:r,2:2}),this.m_OpenCardNum++,2}return this.m_OpenCardNum++,this.m_LastCardIdx=t,3}return-1},e.peiDuiSuccess=function(t){var r=n.getFoodDic(this.m_CardIDArray[t]);return this.m_GameScore+=r.GameScore,this.m_DrawCardNum+=2,this.m_OpenCardNum=0,r.GameScore},e.lidCardItem=function(){this.m_OpenCardNum--,this.m_OpenCardNum=Math.max(this.m_OpenCardNum,0)},e.gameOver=function(){m.addItem(s.game_ticket,this.gameScore)},e.getIDByIdx=function(t){return this.m_CardIDArray[t]||-1},e.update=function(t){this.m_GameTime-=t},r(t,[{key:"gameTime",get:function(){return this.m_GameTime}},{key:"gameScore",get:function(){return this.m_GameScore}},{key:"cardNum",get:function(){return 12}},{key:"residueCardNum",get:function(){return this.cardNum-this.m_DrawCardNum}}],[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new t),this.m_Instance}}]),t}()).m_Instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/MiniGameDrawCardView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./MiniGameDrawCardMgr.ts","./EventUtility.ts","./GameTool.ts","./UIConfig.ts","./MiniGameDrawCardItem.ts"],(function(e){"use strict";var t,i,n,a,r,o,s,c,l,u,m,h,d,p,f,g,b,w,v,S,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Label,c=e.Node,l=e.sp,u=e.Vec3,m=e.tween},function(e){h=e.eventDispatcher},function(e){d=e.LocalizationHelper},function(e){p=e.uiManager},function(e){f=e.UIView},function(e){g=e.default},function(e){b=e.MiniGameDrawCardMgr},function(e){w=e.MEventNames},function(e){v=e.GameTool},function(e){S=e.MUIConfig},function(e){C=e.MiniGameDrawCardItem}],execute:function(){var G,_,V,I,y,T,M,D,L,P,z,k,A,U,N,O,B;r._RF.push({},"8b5527RxshG7JmRs0GIb772","MiniGameDrawCardView",void 0);var E,R=o.ccclass,x=o.property;!function(e){e[e.game=0]="game",e[e.over=1]="over"}(E||(E={}));e("MiniGameDrawCardView",(G=R("MiniGameDrawCardView"),_=x(s),V=x(s),I=x(c),y=x(c),T=x(c),M=x(l.Skeleton),D=x(c),G((z=t((P=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"scoreLab",z,a(t)),n(t,"timeLab",k,a(t)),n(t,"cardPar",A,a(t)),n(t,"cardTemplate",U,a(t)),n(t,"addScoreTemplate",N,a(t)),n(t,"mSpine",O,a(t)),n(t,"pauseButton",B,a(t)),t.m_GameStatus=E.game,t.m_IsPause=!1,t.m_V1=new u(1.4,1.4,1),t.m_V2=new u(1.4,1.4,1),t.m_V3=new u,t}i(t,e);var r=t.prototype;return r.onDestory=function(){h.offAllCaller(this)},r.onInit=function(){var e=this;this.cardTemplate.active=!1,this.addScoreTemplate.active=!1;for(var t=b.instance.cardNum;t>0;){var i=g.instantiate(this.cardTemplate.uuid,this.cardTemplate);this.cardPar.addChild(i),i.active=!0,t--}this.mSpine.setCompleteListener((function(){e.mSpine.node.active=!1}))},r.onRecycle=function(){h.offAllCaller(this)},r.onOpen=function(){h.on(w.MiniGameCardItemEvent,this,this.refrewshScore),this.mSpine.node.active=!1,this.pauseButton.active=globalThis.debugtest&&globalThis.debugtest.minigameTest>0,this.gameInit()},r.gameInit=function(){var e=this;b.instance.gameInit(),this.m_IsPause=!1,this.changeGameStatus(E.game),this.cardPar.children.forEach((function(t,i){t.getComponent(C).setData(i,e)})),this.refrewshScore()},r.refrewshScore=function(e){e&&e.score>0&&this.showAddScoreAni(e.score),this.scoreLab.string=b.instance.gameScore+"",1==this.scoreLab.node.scale.x&&b.instance.gameScore>0&&m(this.scoreLab.node).to(.3,{scale:this.m_V1},{easing:"backIn"}).to(.3,{scale:this.m_V2},{easing:"backIn"}).start(),b.instance.residueCardNum<=0&&this.changeGameStatus(E.over)},r.showAddScoreAni=function(e){this.mSpine.node.active=!0,this.mSpine.setAnimation(0,"idle",!1);var t=g.instantiate(this.addScoreTemplate);t.active=!0,this.addScoreTemplate.parent.addChild(t),this.addScoreTemplate.getWorldPosition(this.m_V3),t.setWorldPosition(this.m_V3),t.children[1].getComponent(s).string="+"+e,this.m_V3.set(100,100,0),m(t).by(1,{position:this.m_V3},{easing:"cubicOut"}).call((function(e){g.remove(e)})).start()},r.changeGameStatus=function(e){if(e!=this.m_GameStatus)switch(this.m_GameStatus=e,e){case E.over:this.gameOver()}},r.gameOver=function(){b.instance.gameOver(),p.openView(S.MiniGameOverView,null,{score:b.instance.gameScore,view:this})},r.destroyClass=function(){p.closeView(this,!0),p.openView(S.MiniGameMainView,null,!0)},r.update=function(e){this.m_GameStatus==E.over||this.m_IsPause||(b.instance.update(e),this.timeLab.string=""+v.getFmtTime(b.instance.gameTime,"m"),(b.instance.gameTime<=0||b.instance.residueCardNum<=0)&&this.changeGameStatus(E.over))},r.clickClose=function(){var e=this,t={desc:d.getString("31_10"),content:d.getString("31_11"),okCallback:function(){e.changeGameStatus(E.over)}};p.openView(S.ConfirmView,null,t)},r.clickPause=function(){this.m_IsPause=!this.m_IsPause},t}(f)).prototype,"scoreLab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(P.prototype,"timeLab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(P.prototype,"cardPar",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(P.prototype,"cardTemplate",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(P.prototype,"addScoreTemplate",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(P.prototype,"mSpine",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(P.prototype,"pauseButton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=P))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/MiniGameExchangeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./FoodConfig.ts","./ItemConfig.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts","./UIConfig.ts","./ExchangeProgressBar.ts"],(function(e){"use strict";var t,i,n,a,r,o,s,u,l,c,m,g,h,p,b,f,d,y,_,I,x,w,L,N,v,E,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Button,u=e.Label,l=e.Node,c=e.Sprite,m=e.director,g=e.Component},function(e){h=e.eventDispatcher},function(e){p=e.dataTableManager},function(e){b=e.LocalizationHelper},function(e){f=e.uiManager},function(e){d=e.foodConfig},function(e){y=e.itemConfig,_=e.EItemEnum},function(e){I=e.EDataTables},function(e){x=e.MEventNames},function(e){w=e.EGameBundles},function(e){L=e.AudioTool,N=e.ESoundType},function(e){v=e.ResourceTool},function(e){E=e.MUIConfig},function(e){B=e.ExchangeProgressBar}],execute:function(){var z,C,P,T,D,M,R,S,F,U,G,k,V,O,A,H,j,K,Q;r._RF.push({},"fa6d9zKbzBGgIIpdaOlHEvQ","MiniGameExchangeItem",void 0);var q=o.ccclass,J=o.property;e("MiniGameExchangeItem",(z=q("MiniGameExchangeItem"),C=J({type:s,displayName:""}),P=J({type:u,displayName:""}),T=J({type:u,displayName:""}),D=J({type:u,displayName:""}),M=J({type:u,displayName:""}),R=J({type:u,displayName:""}),S=J({type:u,displayName:""}),F=J({type:l,displayName:""}),z((k=t((G=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"exchange_btn",k,a(t)),n(t,"prizeLab",V,a(t)),n(t,"numLab",O,a(t)),n(t,"ownerLab",A,a(t)),n(t,"desLab",H,a(t)),n(t,"nameLab",j,a(t)),n(t,"exchange_lab",K,a(t)),n(t,"exchangeProgressBar",Q,a(t)),t.show_index=-1,t.show_item_id=-1,t.assetItem=null,t.price=1,t.once_buy_num=1,t.buy_item_id=0,t}i(t,e);var r=t.prototype;return r.onDestroy=function(){h.off(x.ResearchExchangeFlushNum,this,this._flushCanBuy)},r.start=function(){h.on(x.ResearchExchangeFlushNum,this,this._flushCanBuy)},r.setData=function(e,t){this.show_index=e,this.assetItem=t;var i=p.getData(I.OpeningExchange,e),n=this.node.getChildByName("icon").getComponent(c),a=-1==i.ItemId?"Res/Texture/UI/Public/Item/lh1":"Res/Texture/UI/Public/Item/item_"+i.ItemId;if(v.setSpriteFrame(w.LoadOnPlay,a,n,t),this.show_item_id=i.ItemId,-1==i.ItemId)this.nameLab.string=b.getString("22_2"),this.ownerLab.node.active=!1,this.numLab.node.active=!1,this.exchangeProgressBar.active=!1;else{var r=p.getData(I.Item,i.ItemId);this.nameLab.string=b.getString(r.Name),this.numLab.string=1==i.Num?"":i.Num+"",this.once_buy_num=i.Num}this.desLab.string=b.getString(i.ItemDes),this.price=i.Price,this.prizeLab.string=""+i.Price,this.buy_item_id=i.NeedItem,this._flushCanBuy()},r._flushCanBuy=function(){-1!=this.show_item_id&&(this.ownerLab.string=b.getString("22_8",[y.getItemNum(this.show_item_id)]));var e=~~(y.getItemNum(_.game_ticket)/this.price);this.exchangeProgressBar.getComponent(B).setData(e),this.exchange_btn.interactable=0!=e},r.update=function(e){m.getTotalFrames()%10==0&&(this.exchange_lab.string=b.getString("22_6",[this.exchangeProgressBar.getComponent(B).getOutNum()]))},r.c_clickExchange=function(){L.play(N.ui_click);var e=this.exchangeProgressBar.getComponent(B).getOutNum(),t=e*this.price,i=e*this.once_buy_num;if(y.useItem(this.buy_item_id,t),-1==this.show_item_id){if(d.checkAllUnlock())return void f.openView(E.TipView,null,{content:b.getString("21_16")});f.openView(E.ResearchResultView,null,[d.randomGetUnlockFood()])}else{y.addItem(this.show_item_id,i,!1)&&f.openView(E.TipView,null,{content:b.getString("1_22")})}h.event(x.ResearchExchangeFlushNum)},t}(g)).prototype,"exchange_btn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(G.prototype,"prizeLab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(G.prototype,"numLab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(G.prototype,"ownerLab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(G.prototype,"desLab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(G.prototype,"nameLab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(G.prototype,"exchange_lab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(G.prototype,"exchangeProgressBar",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=G))||U));r._RF.pop()}}}));

System.register("chunks:///_virtual/MiniGameExchangeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./ItemConfig.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts","./MiniGameExchangeItem.ts"],(function(e){"use strict";var t,i,n,a,o,r,c,l,u,s,m,f,h,g,p,I,y,d,b,E,v,x,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,c=e.Layout,l=e.Node,u=e.Label},function(e){s=e.eventDispatcher},function(e){m=e.dataTableManager},function(e){f=e.uiManager},function(e){h=e.UIView},function(e){g=e.default},function(e){p=e.EItemEnum,I=e.itemConfig},function(e){y=e.EDataTables},function(e){d=e.MEventNames},function(e){b=e.EGameBundles},function(e){E=e.AudioTool,v=e.ESoundType},function(e){x=e.ResourceTool},function(e){w=e.MiniGameExchangeItem}],execute:function(){var D,L,M,T,U,_,C,G,A,V,z;o._RF.push({},"faa9bGh5sBIHLZowAEF4SRK","MiniGameExchangeView",void 0);var N=r.ccclass,R=r.property;e("MiniGameExchangeView",(D=N("MiniGameExchangeView"),L=R(c),M=R(l),T=R(l),U=R(u),D((G=t((C=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"itemLayout",G,a(t)),n(t,"exchangeItem",A,a(t)),n(t,"itemIcon2",V,a(t)),n(t,"itemLab2",z,a(t)),t._itemID1=p.clover,t._itemID2=p.game_ticket,t}i(t,e);var o=t.prototype;return o.onClose=function(){this.itemLayout.node.destroyAllChildren(),s.offAllCaller(this)},o.onOpen=function(){var e=this;s.on(d.ResearchExchangeFlushNum,this,this.refreshUI),this.exchangeItem.active=!1,m.getDataTableArray(y.OpeningExchange).forEach((function(t,i){if(3==t.ChangeType&&t.ItemId>0){var n=g.instantiate(e.exchangeItem.name,e.exchangeItem,!0);n.active=!0,e.itemLayout.node.addChild(n),n.getComponent(w).setData(t.Id,e)}})),x.setNodeSpriteFrame(b.LoadOnPlay,I.getItemIconUrl(this._itemID2),this.itemIcon2,this),this.refreshUI()},o.refreshUI=function(){this.itemLab2.string=""+I.getItemNum(this._itemID2)},o.clickClose=function(){E.play(v.ui_click),f.closeView(this)},t}(h)).prototype,"itemLayout",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(C.prototype,"exchangeItem",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(C.prototype,"itemIcon2",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(C.prototype,"itemLab2",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=C))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/MiniGameMainView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UnbiasedTime.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./GoodReputationConfig.ts","./ItemConfig.ts","./MiniGameConfig.ts","./DataTable.ts","./EventUtility.ts","./GoogleAdMob.ts","./AudioTool.ts","./GameTool.ts","./UIConfig.ts"],(function(e){"use strict";var t,i,n,a,o,r,c,u,s,l,m,h,f,w,g,b,p,d,_,y,S,V,T,v,I,D,C,G,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,c=e._decorator,u=e.Label,s=e.Button,l=e.Node,m=e.Vec3},function(e){h=e.eventDispatcher},function(e){f=e.unbiasedTimer},function(e){w=e.dataTableManager},function(e){g=e.LocalizationHelper},function(e){b=e.uiManager},function(e){p=e.UIView},function(e){d=e.goodReputationConfig,_=e.EGoodReputationEnum},function(e){y=e.itemConfig,S=e.EItemEnum},function(e){V=e.miniGameConfig},function(e){T=e.EDataTables},function(e){v=e.MEventNames},function(e){I=e.googleAdMober},function(e){D=e.AudioTool,C=e.ESoundType},function(e){G=e.GameTool},function(e){M=e.MUIConfig}],execute:function(){var N,z,L,B,W,k,E,R,U,A,P,H,x,F,K,j,O,q,J,Q,X;r._RF.push({},"f0408NHDr1NKI+SK2KWq0j6","MiniGameMainView",void 0);var Y=c.ccclass,Z=c.property;e("MiniGameMainView",(N=Y("MiniGameMainView"),z=Z(u),L=Z(u),B=Z(s),W=Z(l),k=Z(l),E=Z(l),R=Z(l),U=Z(u),A=Z(u),N((x=t((H=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"itemNumLab",x,a(t)),n(t,"gameCountLab",F,a(t)),n(t,"startButton",K,a(t)),n(t,"gameSelectView",j,a(t)),n(t,"watchButton",O,a(t)),n(t,"buyButton",q,a(t)),n(t,"freeButton",J,a(t)),n(t,"priceLab",Q,a(t)),n(t,"time_lab",X,a(t)),t._showWatch=!1,t.m_V3=new m,t.m_SelectID=0,t._viewSize=null,t._matchSize=null,t._costNum=10,t}i(t,e);var r=t.prototype;return r.onEnable=function(){h.on(v.NewDayRefresh,this,this.newDayRefresh)},r.onDisable=function(){h.offAllCaller(this)},r.onLoad=function(){this._costNum=w.getData(T.Constant,35).Value,this.priceLab.string="x"+this._costNum,this.schedule(this.updateUI.bind(this),1)},r.onOpen=function(e){void 0===e&&(e=!1),e&&d.canReputate(_.minigameTimes1),this.gameSelectView.active=!1,this.showWatch=!1,this.updateUI(),this.refreshShowWatch()},r.newDayRefresh=function(){var e=this;this.scheduleOnce((function(){e.refreshShowWatch()}))},r.refreshItemNum=function(){this.itemNumLab.string=""+y.getItemNum(57)},r.refreshShowWatch=function(){this.gameCountLab.string=V.gameTimes<V.freeTimes?g.getString("31_5")+" "+(V.freeTimes-V.gameTimes):g.getString("31_18")+(V.freeTimes+V.watchTimes-V.gameTimes);var e=V.gameTimes<V.freeTimes;this.freeButton.active=e,this.watchButton.active=!e&&this._showWatch,this.buyButton.active=!e&&!this._showWatch},r.update=function(){this.refreshItemNum()},r.destroyClass=function(){b.closeView(this)},r.clickStart=function(){V.canPlayerGame()>0?(this.gameSelectView.active=!0,this.m_SelectID=0):b.openView(M.TipView,null,{content:g.getString("31_21")})},r.watchSuccess=function(){this.enterGame()},r.enterGame=function(){var e=this,t=!0;switch(this.m_SelectID){case 1:b.openView(M.MiniGamePrizeClawView,(function(){b.closeView(e)}));break;case 2:b.openView(M.MiniGameDrawCardView,(function(){b.closeView(e)}));break;default:t=!1}t&&V.enterGame()},r.clickGame=function(e){var t=this;if(!(this.m_SelectID>0)){var i=V.canPlayerGame();if(!(i<=0)){var n=e.target.name.split("_");i>0&&(V.gameTimes<V.freeTimes?(this.m_SelectID=Number(n[n.length-1]),this.enterGame()):this._showWatch?I.showRewardedAd((function(){t.m_SelectID=Number(n[n.length-1]),t.watchSuccess()})):y.useItem(S.diamond,this._costNum)?(t.m_SelectID=Number(n[n.length-1]),this.watchSuccess()):(b.openView(M.TipView,null,{content:g.getString("1_18")}),b.openView(M.PurchaseDiamondView,null,{needNum:t._costNum,callback:function(){t.showWatch=!0}})))}}},r.clickConversion=function(){D.play(C.ui_click),b.openView(M.MiniGameExchangeView)},r.clickClose=function(){D.play(C.ui_click),this.destroyClass()},r.clickCloseSelectView=function(){this.gameSelectView.active=!1},r.updateUI=function(){this.time_lab.string=g.getString("2_7",[G.getFmtTime((f.tomorrow-f.now)/1e3,"h")])},o(t,[{key:"showWatch",set:function(e){this._showWatch=!0,this.refreshShowWatch()}}]),t}(p)).prototype,"itemNumLab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(H.prototype,"gameCountLab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(H.prototype,"startButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(H.prototype,"gameSelectView",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(H.prototype,"watchButton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(H.prototype,"buyButton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(H.prototype,"freeButton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(H.prototype,"priceLab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(H.prototype,"time_lab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=H))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/MiniGameOverView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./UIView.ts","./UIConfig.ts"],(function(e){"use strict";var i,t,r,n,o,s,a,c,l,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Label},function(e){c=e.uiManager},function(e){l=e.UIView},function(e){u=e.MUIConfig}],execute:function(){var p,f,h,w,V;o._RF.push({},"baab7ByAS5GSZQTKdOUiPN/","MiniGameOverView",void 0);var v=s.ccclass,y=s.property;e("MiniGameOverView",(p=v("MiniGameOverView"),f=y(a),p((V=i((w=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o))||this,r(i,"scoreLab",V,n(i)),i.otherView=null,i}t(i,e);var o=i.prototype;return o.onOpen=function(e){this.scoreLab.string=""+e.score,this.otherView=e.view;var i=c.getView(u.ConfirmView.path);i&&i.node&&i.node.parent&&c.closeView(i)},o.destroyClass=function(){this.otherView&&this.otherView.destroyClass(),c.closeView(this)},o.clickOk=function(){this.destroyClass()},i}(l)).prototype,"scoreLab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=w))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/MiniGamePrizeClawView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./GameTool.ts","./UIConfig.ts","./MiniGameClawPropMgr.ts","./MiniGameClawPropItem.ts","./LocalizationHelper.ts","./OOB2DCollider.ts"],(function(e){"use strict";var i,t,n,a,r,s,o,c,l,h,m,p,u,g,d,f,_,w,P,S,b,v,T,O;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,o=e.Label,c=e.UITransform,l=e.Node,h=e.sp,m=e.Vec3,p=e.Widget,u=e.tween},function(e){g=e.uiManager},function(e){d=e.UIView},function(e){f=e.default},function(e){_=e.GameTool},function(e){w=e.MUIConfig},function(e){P=e.MiniGameClawPropMgr,S=e.EMiniGameClawPropStatus},function(e){b=e.MiniGameClawPropItem},function(e){v=e.LocalizationHelper},function(e){T=e.OOB2D,O=e.OBB2DIIntersect}],execute:function(){var G,A,B,U,C,L,y,M,V,z,D,I,k,x,H,W,N,E,F,R,j,K,Y,q,J,Q,X,Z,$;r._RF.push({},"ca692OgAz5EeKWMlkeCmL1M","MiniGamePrizeClawView",void 0);var ee=s.ccclass,ie=s.property;e("MiniGamePrizeClawView",(G=ee("MiniGamePrizeClawView"),A=ie(o),B=ie(o),U=ie(c),C=ie(l),L=ie(c),y=ie(l),M=ie(l),V=ie(l),z=ie(l),D=ie(c),I=ie(l),k=ie(h.Skeleton),x=ie(l),G((N=i((W=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i=e.call.apply(e,[this].concat(r))||this,n(i,"scoreLab",N,a(i)),n(i,"timeLab",E,a(i)),n(i,"lineUiTrans",F,a(i)),n(i,"clampNode",R,a(i)),n(i,"clampBoundUiTrans",j,a(i)),n(i,"grapPar",K,a(i)),n(i,"posPar",Y,a(i)),n(i,"propPar",q,a(i)),n(i,"propTemplate",J,a(i)),n(i,"gameBgUiTrans",Q,a(i)),n(i,"addScoreTemplate",X,a(i)),n(i,"mSpine",Z,a(i)),n(i,"pauseButton",$,a(i)),i.m_MaxAngle=55,i.m_LineOriginAngle=0,i.m_LineOriginHeight=0,i.m_LineDirection=0,i.m_SwingSpeed=60,i.m_Speed=50,i.m_TestAddSpeed=1,i.m_OOB=new T,i.m_PropOOB2DArray=[],i.m_GrapProp=null,i.m_V3=new m,i.m_V3_2=new m,i}t(i,e);var r=i.prototype;return r.onInit=function(){var e=this;this.m_LineOriginAngle=this.lineUiTrans.node.angle,this.m_LineOriginHeight=this.lineUiTrans.height,this.m_OOB._set([this.clampBoundUiTrans.node.right,this.clampBoundUiTrans.node.up],this.clampBoundUiTrans.node.worldPosition,this.clampBoundUiTrans.contentSize,this.clampBoundUiTrans.anchorPoint),this.addScoreTemplate.active=!1,this.mSpine.setCompleteListener((function(){e.mSpine.node.active=!1}))},r.onOpen=function(){this.mSpine.node.active=!1,this.pauseButton.active=globalThis.debugtest&&globalThis.debugtest.minigameTest>0,this.gameInit()},r.gameInit=function(){var e=this;P.instance.gameInit(),this.lineUiTrans.node.angle=this.m_LineOriginAngle,this.lineUiTrans.height=this.m_LineOriginHeight,this.m_GrapProp&&f.remove(this.m_GrapProp,!0),this.scheduleOnce((function(){e.createAllGrap(),e.setClampActive(!0),e.refreshScore(),e.m_GrapProp&&(f.remove(e.m_GrapProp,!0),e.m_GrapProp=null)}),.1),this.changeGameStatus(S.swing)},r.createAllGrap=function(){var e=this;this.propPar.removeAllChildren(),P.instance.gridArray.forEach((function(i,t){i.forEach((function(n,a){var r=f.instantiate(e.propTemplate);r.active=!0,e.propPar.addChild(r),r.getComponent(b).setData({data:n,idx1:t,idx2:a},e);var s=r.getComponent(c);r.setWorldPosition(e.getGridPosition(t,a,i.length,s.height))}))})),this.scheduleOnce((function(){e.setPropOOB()}))},r.setPropOOB=function(){var e=this;this.propPar.children.forEach((function(i,t){var n=i.getComponent(c),a=e.m_PropOOB2DArray[t]||new T;a._set([i.right,i.up],i.worldPosition,n.contentSize,n.anchorPoint),e.m_PropOOB2DArray[t]=a})),this.m_PropOOB2DArray.splice(this.propPar.children.length)},r.getGridPosition=function(e,i,t,n){this.m_V3_2.set(0,0,0),this.m_V3_2.y+=100*Math.random()-50;var a=this.gameBgUiTrans.width,r=a/t*i+n/2,s=a/t*(i+1)-n/2;return this.m_V3_2.x=Math.round(Math.random()*(s-r))+r,this.m_V3_2.x-=a/2,this.posPar.children[e].getComponent(c).convertToWorldSpaceAR(this.m_V3_2,this.m_V3),this.m_V3},r.setClampActive=function(e){this.clampNode.children[1].active=e,this.clampNode.children[2].active=!e},r.changeGameStatus=function(e){if(P.instance.changeGameStatus(e))switch(e){case S.swing:this.setClampActive(!0);break;case S.draw:this.setClampActive(!0),this.m_Speed=400;break;case S.rise:this.m_GrapProp?(this.m_Speed=.8*P.instance.clawPropData.configData.Speed,this.setClampActive(!1)):(this.m_Speed=400,this.setClampActive(!0));break;case S.over:P.instance.rewardScore>P.instance.gameScore?this.showCalcuAni():this.gameOver()}},r.swingLine=function(e){this.lineUiTrans.node.angle+=this.m_SwingSpeed*e*(0==this.m_LineDirection?-1:1),0==this.m_LineDirection?this.lineUiTrans.node.angle<=-this.m_MaxAngle&&(this.m_LineDirection=1):this.lineUiTrans.node.angle>=this.m_MaxAngle&&(this.m_LineDirection=0)},r.moveLine=function(e){var i=this.m_Speed*e;if(this.m_OOB._setPos(this.clampBoundUiTrans.node.worldPosition),P.instance.gameStatus==S.draw){this.lineUiTrans.height+=i*this.m_TestAddSpeed;var t=this.checkCollider();if(t>-1)this.clawOne(t),this.changeGameStatus(S.rise);else if(-1==t)this.changeGameStatus(S.rise);else{var n=this.getAngleToPI(Math.abs(this.lineUiTrans.node.angle));(this.lineUiTrans.height*Math.sin(n)>=this.gameBgUiTrans.width/2-20||this.lineUiTrans.height*Math.cos(n)>=this.gameBgUiTrans.height)&&this.changeGameStatus(S.rise)}}else this.lineUiTrans.height-=i,this.lineUiTrans.height<=this.m_LineOriginHeight&&(this.lineUiTrans.height=this.m_LineOriginHeight,this.m_GrapProp&&(this.clawOneOver(),f.remove(this.m_GrapProp,!0),this.m_GrapProp=null),this.propPar.children.length>0?this.changeGameStatus(S.swing):this.changeGameStatus(S.over))},r.clawOne=function(e){var i=this.propPar.children[e];P.instance.clawOne(i.getComponent(b).propData.data),this.m_PropOOB2DArray.splice(e,1);var t=i;this.m_GrapProp=f.instantiate(t),this.grapPar.addChild(this.m_GrapProp),this.m_V3.set(0,0,0),this.m_GrapProp.setPosition(this.m_V3);var n=this.m_GrapProp.addComponent(p);n.isAlignTop=!0,n.top=-30,n.alignMode=p.AlignMode.ALWAYS,f.remove(t,!0)},r.checkCollider=function(){this.m_OOB._set([this.clampBoundUiTrans.node.right,this.clampBoundUiTrans.node.up],this.clampBoundUiTrans.node.worldPosition,this.clampBoundUiTrans.contentSize);for(var e=0;e<this.m_PropOOB2DArray.length;e++)if(O.isIntersect2D(this.m_OOB,this.m_PropOOB2DArray[e]))return e;return-2},r.showCalcuAni=function(){var e=this,i=P.instance.gameTime/20,t={score:P.instance.gameScore};u(t).to(i,{score:P.instance.rewardScore},{progress:function(i,t,n,a){var r=Math.round((t-i)*a+i);return e.scoreLab.string=r+"",e.timeLab.string=_.getFmtTime(Math.floor(P.instance.gameTime*(1-a))),a}}).call((function(){e.gameOver()})).start()},r.gameOver=function(){g.openView(w.MiniGameOverView,null,{score:P.instance.rewardScore,view:this})},r.clawOneOver=function(){var e=P.instance.clawOneOver();this.refreshScore(e)},r.refreshScore=function(e){void 0===e&&(e=0),e>0&&this.showAddScoreAni(e),this.scoreLab.string=P.instance.gameScore+"",1==this.scoreLab.node.scale.x&&P.instance.gameScore>0&&u(this.scoreLab.node).to(.3,{scale:new m(1.4,1.4,1)},{easing:"backIn"}).to(.3,{scale:new m(1,1,1)},{easing:"backIn"}).start()},r.showAddScoreAni=function(e){this.mSpine.node.active=!0,this.mSpine.setAnimation(0,"idle",!1);var i=f.instantiate(this.addScoreTemplate);i.active=!0,this.addScoreTemplate.parent.addChild(i),this.addScoreTemplate.getWorldPosition(this.m_V3),i.setWorldPosition(this.m_V3),i.children[1].getComponent(o).string="+"+e,this.m_V3.set(100,100,0),u(i).by(1,{position:this.m_V3},{easing:"cubicOut"}).call((function(e){f.remove(e)})).start()},r.destroyClass=function(){g.closeView(this,!0),g.openView(w.MiniGameMainView,null,!0)},r.getAngleToPI=function(e){return e/180*Math.PI},r.update=function(e){if(P.instance.gameStatus!=S.ready&&P.instance.gameStatus!=S.over&&!P.instance.isPause)switch(P.instance.update(e),P.instance.gameTime<=0&&this.changeGameStatus(S.over),this.timeLab.string=""+_.getFmtTime(P.instance.gameTime,"m"),P.instance.gameStatus){case S.swing:this.swingLine(e);break;case S.draw:case S.rise:this.moveLine(e)}},r.clickBg=function(){P.instance.gameStatus==S.ready?this.changeGameStatus(S.swing):P.instance.gameStatus==S.swing&&this.changeGameStatus(S.draw)},r.clickClose=function(){var e=this,i={title:v.getString("2_10"),desc:v.getString("31_10"),content:v.getString("31_11"),okCallback:function(){P.instance.gameTime=0,e.changeGameStatus(S.over)}};g.openView(w.ConfirmView,null,i)},r.clickPause=function(){P.instance.setPause(!P.instance.isPause)},i}(d)).prototype,"scoreLab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(W.prototype,"timeLab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(W.prototype,"lineUiTrans",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(W.prototype,"clampNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(W.prototype,"clampBoundUiTrans",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(W.prototype,"grapPar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(W.prototype,"posPar",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(W.prototype,"propPar",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(W.prototype,"propTemplate",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(W.prototype,"gameBgUiTrans",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(W.prototype,"addScoreTemplate",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(W.prototype,"mSpine",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(W.prototype,"pauseButton",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=W))||H));r._RF.pop()}}}));

System.register("chunks:///_virtual/MyTextureAni.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,o,l,s,n,a,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,s=t._decorator,n=t.SpriteFrame,a=t.Sprite,h=t.Rect,p=t.Component}],execute:function(){var c,u,m,w,d,f,b,y,C,g,v,F,R,T,L;l._RF.push({},"37dbaidy1JAdrKGuDk60U2D","MyTextureAni",void 0);var D=s.ccclass,_=s.property;t("MyTextureAni",(c=D("MyTextureAni"),u=_(n),m=_({tooltip:"图片有几行"}),w=_({tooltip:"图片有几列"}),d=_({tooltip:"图片帧时间间隔 单位秒"}),f=_({tooltip:"是否循环  不是则播放一次后隐藏"}),b=_({tooltip:"循环时两次之间的等待间隔 单位秒"}),c((g=e((C=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return e=t.call.apply(t,[this].concat(l))||this,r(e,"m_spriteFrame",g,o(e)),r(e,"cellRow",v,o(e)),r(e,"cellCol",F,o(e)),r(e,"timeInterval",R,o(e)),r(e,"isLoop",T,o(e)),r(e,"timeCD",L,o(e)),e.sprite=null,e.cellWidth=0,e.cellHeight=0,e.showRow=0,e.showCol=0,e.aniSpriteFrameList=[],e.updateTimes=0,e}i(e,t);var l=e.prototype;return l.onLoad=function(){this.loadOver()},l.loadOver=function(){this.cellWidth=this.m_spriteFrame.width/this.cellCol,this.cellHeight=this.m_spriteFrame.height/this.cellRow,this.sprite=this.getComponent(a),this.sprite.type=a.Type.SLICED;for(var t=new h,e=null,i=0;i<this.cellRow;i++){this.aniSpriteFrameList[i]=[];for(var r=0;r<this.cellCol;r++)t.set(r*this.cellWidth,i*this.cellHeight,this.cellWidth,this.cellHeight),(e=this.m_spriteFrame.clone()).rect=t,this.aniSpriteFrameList[i].push(e)}this.schedule(this.updateTexture.bind(this),this.timeInterval)},l.updateTexture=function(){this.updateTimes>0?this.updateTimes--:(this.sprite.spriteFrame=this.aniSpriteFrameList[this.showRow][this.showCol],this.showCol++,this.showCol>=this.cellCol&&(this.showCol=0,this.showRow++,this.showRow>=this.cellRow&&(this.showRow=0,this.timeCD>0&&(this.updateTimes=this.timeCD/this.timeInterval),this.isLoop||(this.node.active=!1))))},e}(p)).prototype,"m_spriteFrame",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(C.prototype,"cellRow",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),F=e(C.prototype,"cellCol",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),R=e(C.prototype,"timeInterval",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),T=e(C.prototype,"isLoop",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=e(C.prototype,"timeCD",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=C))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/NewFunctionOpenView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./UIView.ts","./NoviceGuideMgr.ts","./EventUtility.ts","./GameTool.ts","./UITool.ts"],(function(e){"use strict";var t,i,n,o,c,r,a,l,s,u,d,h,p,f,g,v,N,w,b,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){c=e.cclegacy,r=e._decorator,a=e.Node,l=e.Tween,s=e.v3,u=e.tween,d=e.Vec3,h=e.UITransform},function(e){p=e.eventDispatcher},function(e){f=e.uiManager},function(e){g=e.UIView},function(e){v=e.EGuideClickEnum,N=e.NoviceGuideMgr,w=e.EGuideStep},function(e){b=e.MEventNames},function(e){m=e.GameTool},function(e){y=e.UITool}],execute:function(){var A,G,T,k,z,V,F,B,I,P,M,U,E;c._RF.push({},"aec24cVz5dDbYjxhzVlkQ4M","NewFunctionOpenView",void 0);var S=r.ccclass,_=r.property;e("NewFunctionOpenView",(A=S("NewFunctionOpenView"),G=_(a),T=_(a),k=_(a),z=_(a),V=_([a]),A((I=t((B=function(e){function t(){for(var t,i=arguments.length,c=new Array(i),r=0;r<i;r++)c[r]=arguments[r];return t=e.call.apply(e,[this].concat(c))||this,n(t,"lightNode",I,o(t)),n(t,"mask",P,o(t)),n(t,"bgnode",M,o(t)),n(t,"iconNode",U,o(t)),n(t,"iconArr",E,o(t)),t}i(t,e);var c=t.prototype;return c.onOpen=function(e){var t=this;l.stopAllByTarget(this.lightNode),l.stopAllByTarget(this.iconNode),l.stopAllByTarget(this.bgnode),this.mask.active=!0,this.iconNode.setScale(s(0,0,0)),this.iconNode.setPosition(s(0,153,0));for(var i=0;i<this.iconArr.length;i++)this.iconArr[i].active=i==e;this.bgnode.setScale(0,0,0),u(this.bgnode).to(.2,{scale:new d(1,1,1)}).call((function(){t.lightRotation()})).delay(2.5).call((function(){t.mask.active=!1,t.iconAction(e)})).to(.2,{scale:new d(0,0,0)}).start(),u(this.iconNode).to(.2,{scale:new d(1,1,1)}).start()},c.lightRotation=function(){u(this.lightNode).to(2,{eulerAngles:new d(0,0,360)}).repeatForever().start()},c.iconAction=function(e){var t=this;u(this.iconNode).to(.6,{scale:new d(.55,.55,.55)}).start();var i=this;p.event(b.refreshGuildPos,{click:v.functionBtn,itemIndex:Number(e)});var n=this.iconNode.parent.getComponent(h).convertToNodeSpaceAR(y.instance.guideHandWorldPos,s()),o=s(-267.37,-124),c=s(-288.34,-655.3),r=[this.iconNode.position,o,c,n],a=m.CreateBezierPoints(r,80),l=0;this.schedule((function(){t.iconNode.setPosition(a[l]),80==++l&&(p.event(b.homePageFunctionBtn,e),0==e?N.instance.checkNoviceGuide(w.Guide_GetNewFood):1==e&&N.instance.checkNoviceGuide(w.Guide_Staff),f.closeView(i))}),.0075,79)},c.onClose=function(){},t}(g)).prototype,"lightNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(B.prototype,"mask",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(B.prototype,"bgnode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(B.prototype,"iconNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(B.prototype,"iconArr",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=B))||F));c._RF.pop()}}}));

System.register("chunks:///_virtual/NodeUtils.ts",["cc","./AssetHelper.ts","./EntityPool.ts"],(function(t){"use strict";var n,e,r;return{setters:[function(t){n=t.cclegacy},function(t){e=t.AssetHelper},function(t){r=t.default}],execute:function(){n._RF.push({},"a41fdDsW9ZANZv9KLN8sM87","NodeUtils",void 0);var i="__sign__";t("default",function(){function t(){}return t.instantiate=function(t,n,i){var s=null;return"string"==typeof t?((s=r.get(t))||(s=e.instantiate(n,i)),this.sign(s,t)):s=e.instantiate(t,n),s},t.sign=function(t){function n(n,e){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}((function(t,n){t[i]||(t[i]=n)})),t.remove=function(t,n){if(void 0===n&&(n=!1),n)t.destroy();else{var e=t[i];e?(t.removeFromParent(),r.recover(e,t)):t.destroy()}},t.setLayer=function(t,n){n.layer=t;var e=n.children;if(e&&e.length)for(var r=0,i=e.length;r<i;r++){var s=e[r];this.setLayer(t,s)}},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/NoviceGuideMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./UIManager.ts","./PhonographConfig.ts","./PlayerBaseConfig.ts","./TaskConfig.ts","./ConfigManager.ts","./NoviceNode.ts","./LobbyCameraControl.ts","./LobbyRoomData.ts","./LobbyUtility.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./GoogleFirebase.ts","./UIConfig.ts"],(function(e){"use strict";var t,i,o,n,u,a,s,c,d,r,h,l,g,G,f,p,v,S,D,b,N,m;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){o=e.cclegacy,n=e._decorator,u=e.Component},function(e){a=e.eventDispatcher},function(e){s=e.dataTableManager},function(e){c=e.uiManager},function(e){d=e.phonographConfig},function(e){r=e.playerBaseConfig},function(e){h=e.taskConfig},function(e){l=e.ConfigManager},function(e){g=e.NoviceNode},function(e){G=e.LobbyCameraControl},function(e){f=e.ELobbyRoomId},function(e){p=e.MLobbyEvent},function(e){v=e.EDataTables},function(e){S=e.MEventNames},function(e){D=e.MViewPath},function(e){b=e.googleFirebaser,N=e.eAnalyticsEvent},function(e){m=e.MUIConfig}],execute:function(){var _,w;e({EGuideAddShowNext:void 0,EGuideClickEnum:void 0,EGuideStep:void 0}),o._RF.push({},"52deaIMFcVCX6BeziO2bWnK","NoviceGuideMgr",void 0);var y,k,B,C=n.ccclass;n.property;!function(e){e[e.destroy=1]="destroy",e[e.showNext=2]="showNext",e[e.doNo=3]="doNo",e[e.fadeBg=4]="fadeBg"}(y||(y=e("EGuideAddShowNext",{}))),function(e){e[e.Guide_GameBegin=1]="Guide_GameBegin",e[e.Guide_GotoTask=2]="Guide_GotoTask",e[e.Guide_GetNewFood=3]="Guide_GetNewFood",e[e.Guide_GetFoodUp=4]="Guide_GetFoodUp",e[e.Guide_Phonograph=5]="Guide_Phonograph",e[e.Guide_GotoAddDesk=6]="Guide_GotoAddDesk",e[e.Guide_Staff=7]="Guide_Staff"}(k||(k=e("EGuideStep",{}))),function(e){e.layerButton="layer",e.itemButton="item",e.homePage="home",e.phonograph="phonograph",e.functionBtn="functionBtn",e.tableBuild="tableBuild",e.checkout="checkout",e.clear="clear",e.food1="food1",e.food2="food2"}(B||(B=e("EGuideClickEnum",{})));e("NoviceGuideMgr",C("NoviceGuideMgr")(((w=function(e){function o(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))||this).curGuideStep=0,t.littleStep=1,t.noviceGuideDic={},t.foodIsDone=!1,t.eatIsDone=!1,t.foodIsEnd=!1,t}t(o,e);var n=o.prototype;return n.init=function(){this.initData()},n.initData=function(){var e=s.getDataTable(v.NoviceGuide);for(var t in e){var i=e[t].StepID,o=e[t].LittleID;null==this.noviceGuideDic[i]&&(this.noviceGuideDic[i]={}),this.noviceGuideDic[i][o]=e[t]}},n.isDone=function(){return!!r.noviceGuideData[k.Guide_GameBegin]},n.isDoingGuide=function(){return 0!=this.curGuideStep},n.isHaveOtherPage=function(){var e=!1,t=c.getAllViews();return t&&t.forEach((function(t,i){t.assetName!=D.HomePageView&&(e=!0)})),c.getAllLoadingIds()&&(e=!0),e},n.closeOtherPage=function(){var e=c.getAllViews();e&&e.forEach((function(e,t){e.assetName!=D.HomePageView&&c.closeView(e)})),c.closeAllLoadingView()},n.checkNoviceGuide=function(e){var t={fadeBg:0};if(0==this.curGuideStep&&null==r.noviceGuideData[e]){switch(e){case k.Guide_GameBegin:t.fadeBg=1,this.curGuideStep=e,l.instance.saveOff();break;case k.Guide_Phonograph:this.isHaveOtherPage()||d.rewardTimes<=0&&d.canGetSurvice()&&(G.instance.jumpToRoomId(f.Lobby),this.curGuideStep=e,this.closeOtherPage());break;default:this.curGuideStep=e}if(0!=this.curGuideStep){if(this.littleStep=1,2==this.noviceGuideDic[this.curGuideStep][1].GuideType&&(b.logEvent(N.event_guide,"guide_"+this.curGuideStep),r.noviceGuideData[this.curGuideStep]=1,this.curGuideStep==k.Guide_GetFoodUp)){var i=h.getProData();i[0]>=i[1]&&(this.foodIsEnd=!0)}c.openView(m.NoviceGuideView,null,t)}}},n.guideStepAdd=function(){var e=y.showNext;switch(this.curGuideStep){case k.Guide_GameBegin:switch(this.littleStep){case 2:e=this.gotoNextDothing();break;case 6:this.scheduleOnce((function(){a.event(S.NoviceCustomShow)}),.2),e=this.gotoNextDothing();break;case 11:e=this.gotoNextDothing(),this.foodIsDone||(e=y.fadeBg);break;case 13:e=this.gotoNextDothing(),G.instance.jumpToRoomId(f.Lobby);break;case 14:e=this.gotoNextDothing(),this.eatIsDone||(e=y.fadeBg);break;default:e=this.gotoNextDothing()}break;case k.Guide_GetFoodUp:switch(this.littleStep){case 4:if(e=this.gotoNextDothing(),this.foodIsEnd)return e=y.destroy,this.curGuideStep=0,this.littleStep=1,e;break;default:e=this.gotoNextDothing()}break;default:e=this.gotoNextDothing()}if(this.littleStep>=this.noviceGuideDic[this.curGuideStep][1].StepTotal)switch(r.noviceGuideData[this.curGuideStep]=1,this.curGuideStep){case k.Guide_GameBegin:b.logEvent(N.event_guide,"guide_"+this.curGuideStep),a.event(p.AddCustomer,4),this.curGuideStep=0,this.littleStep=1,e=y.destroy,l.instance.saveOn(),g.remove(),a.event(S.guideDone);break;default:this.curGuideStep=0,this.littleStep=1,e=y.destroy}else if(this.littleStep++,0==this.noviceGuideDic[this.curGuideStep][this.littleStep].GuideType)return this.guideStepAdd();return e},n.gotoNextDothing=function(){var e=(this.noviceGuideDic[this.curGuideStep][this.littleStep].Other+"").split("_"),t=y.showNext;return Number(e[1])<0&&(t=y.fadeBg),null!=e[2]&&Number(e[2])<0&&(t=y.fadeBg),a.event(S.guideClick,{click:e[0],itemIndex:Number(e[1])}),t},n.isNeedShowNoviceView=function(e,t){this.curGuideStep==e&&(null!=t?t==this.littleStep&&a.event(S.showGuide):a.event(S.showGuide))},i(o,null,[{key:"instance",get:function(){return this._instance||(this._instance=new o,this._instance.init()),this._instance}}]),o}(u))._instance=void 0,_=w))||_);o._RF.pop()}}}));

System.register("chunks:///_virtual/NoviceGuideView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./NoviceGuideMgr.ts","./NoviceNode.ts","./LobbyUtility.ts","./EventUtility.ts","./JsbTool.ts","./UITool.ts"],(function(e){"use strict";var i,t,n,o,s,r,a,c,u,l,h,d,g,f,p,b,v,y,S,w,k,m,N,P,G,D,T,B,E,L,I;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.Node,c=e.Label,u=e.Sprite,l=e.sp,h=e.v3,d=e.color,g=e.Tween,f=e.tween},function(e){p=e.default},function(e){b=e.eventDispatcher},function(e){v=e.LocalizationHelper,y=e.ELanguages},function(e){S=e.uiManager},function(e){w=e.UIView},function(e){k=e.NoviceGuideMgr,m=e.EGuideStep,N=e.EGuideClickEnum,P=e.EGuideAddShowNext},function(e){G=e.NoviceNode},function(e){D=e.MLobbyEvent,T=e.ELobbyLayer,B=e.ELobbyServeDishes},function(e){E=e.MEventNames},function(e){L=e.JsbTool},function(e){I=e.UITool}],execute:function(){var z,A,_,x,H,F,M,V,U,W,C,O,J,R,j,Q,Z,q,K;s._RF.push({},"c7dfeVT26ZG4JQ2Wf1TMF1c","NoviceGuideView",void 0);var X=r.ccclass,Y=r.property;e("NoviceGuideView",(z=X("NoviceGuideView"),A=Y(a),_=Y(c),x=Y(a),H=Y(a),F=Y(u),M=Y(a),V=Y(l.Skeleton),U=Y(a),z((O=i((C=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return i=e.call.apply(e,[this].concat(s))||this,n(i,"talkNode",O,o(i)),n(i,"tips_Lab",J,o(i)),n(i,"finger",R,o(i)),n(i,"bgNode",j,o(i)),n(i,"maskSp",Q,o(i)),n(i,"guideButton",Z,o(i)),n(i,"chefSp",q,o(i)),n(i,"countryToggle",K,o(i)),i.needPos=h(),i.guideDic=null,i.otherStrArr=null,i.buttonLastPos=null,i.isTalking=!1,i}t(i,e);var s=i.prototype;return s.onClose=function(){b.offAllCaller(this)},s.addEvent=function(){b.on(E.showGuide,this,this.showGuide),b.on(E.guideSetButtonPos,this,this.setButtonPos),b.on(D.OrderDishes,this,this.showGuide),b.on(D.CookingEnd,this,this.cookingEnd),b.on(D.PayEating,this,this.payEating)},s.onOpen=function(e){var i=this;this.countryToggle.active=!1,globalThis.debugtest.country&&(this.countryToggle.active=!0),this.addEvent(),1==e.fadeBg?this.fadeBg():this.showGuide(),k.instance.curGuideStep==m.Guide_GameBegin&&G.create(T.Lobby,h(283,465,0),!0).then((function(){G.instance.seek(h(193,-134,0),(function(){i.showGuide()}),!0,!0)}))},s.cookingEnd=function(e,i,t){var n=this;if(t==B.Dish){if(1==k.instance.foodIsDone)return;var o=k.instance.littleStep;this.scheduleOnce((function(){k.instance.foodIsDone=!0,12==o&&n.showGuide()}),.2)}},s.payEating=function(){var e=this;if(1!=k.instance.eatIsDone){var i=k.instance.littleStep;this.scheduleOnce((function(){k.instance.eatIsDone=!0,15==i&&e.showGuide()}),.2)}},s.showGuide=function(){var e=k.instance.curGuideStep,i=k.instance.littleStep,t=k.instance.noviceGuideDic[e][i];if(this.guideDic=t,p.info(".........cur novice..."+e+"_"+i),this.bgNode.active=!0,this.maskSp.color=d(0,0,0,170),null!=t.SecretaryDes&&"null"!=t.SecretaryDes){this.maskSp.color=d(0,0,0,170),this.talkNode.active=!0;var n=1;v.language==y.English&&(n=2);var o=v.getString(t.SecretaryDes);this.tips_Lab.string="";var s=this,r=0;this.unscheduleAllCallbacks(),this.isTalking=!0,this.chefSp.clearTracks(),this.chefSp.setAnimation(0,"dialog",!0);var a=Math.ceil(o.length/n);this.schedule((function(){s.tips_Lab.string+=o.slice(0,n),o=o.slice(n),++r==a&&(s.isTalking=!1,this.chefSp.clearTracks(),this.chefSp.setAnimation(0,"idle",!0))}),.05,a-1,.05)}else this.talkNode.active=!1;var c=(t.Other+"").split("_");switch(this.otherStrArr=c,c[0]){case N.layerButton:case N.itemButton:case N.homePage:case N.phonograph:case N.tableBuild:case N.checkout:case N.clear:case N.food1:case N.food2:b.event(E.refreshGuildPos,{click:c[0],itemIndex:Number(c[1])}),this.setHandImagPos();break;default:var u=c[0].split(",");this.needPos.set(Number(u[0]),Number(u[1]),Number(u[2])),this.setHandImagPos(this.needPos)}if(g.stopAllByTarget(this.finger),1==t.ShowFinger)this.finger.active=!0,this.maskSp.color=d(0,0,0,0);else if(2==t.ShowFinger){this.finger.active=!0,this.maskSp.color=d(0,0,0,0);var l=this.finger.position.clone();this.buttonLastPos=l,b.event(E.refreshGuildPos,{click:c[0],itemIndex:Number(c[1]),moveEnd:!0});var h=I.instance.guideHandWorldPos.clone();f(this.finger).to(1,{worldPosition:h}).delay(.5).set({position:l}).union().repeatForever().start()}else this.finger.active=!1},s.setHandImagPos=function(e){if(void 0===e&&(e=null),e)this.finger.setPosition(e);else{var i=I.instance.guideHandWorldPos.x,t=I.instance.guideHandWorldPos.y;this.finger.setWorldPosition(i,t,0),p.info("finger.. "+this.finger.getPosition())}},s.setButtonPos=function(e){e?e.isSuccess?this.gotoNext():this.guideButton.setPosition(this.buttonLastPos):this.guideButton.setWorldPosition(I.instance.guideHandWorldPos)},s.fadeBg=function(){this.bgNode.active=!1,this.maskSp.color=d(0,0,0,0)},s.gotoNext=function(){switch(k.instance.guideStepAdd()){case P.destroy:S.closeView(this);break;case P.showNext:this.showGuide();break;case P.fadeBg:this.fadeBg()}},s.clickBg=function(e,i){if(this.guideDic)if(0==this.guideDic.ShowFinger)if(this.isTalking){this.isTalking=!1;var t=v.getString(this.guideDic.SecretaryDes);this.tips_Lab.string=t,this.unscheduleAllCallbacks(),this.chefSp.clearTracks(),this.chefSp.setAnimation(0,"idle",!0)}else this.gotoNext();else this.guideDic.ShowFinger},s.clickBtn=function(){this.guideDic&&(1!=this.guideDic.ShowFinger||this.gotoNext())},s.countryTog=function(e,i){L.countryStr=i,p.info(".......choose country...."+L.countryStr)},i}(w)).prototype,"talkNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(C.prototype,"tips_Lab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(C.prototype,"finger",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(C.prototype,"bgNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(C.prototype,"maskSp",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(C.prototype,"guideButton",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(C.prototype,"chefSp",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(C.prototype,"countryToggle",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=C))||W));s._RF.pop()}}}));

System.register("chunks:///_virtual/NoviceNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./AssetLoader.ts","./NodeUtils.ts","./GameUtility.ts","./CustomerNode.ts","./Lobby.ts","./MapManager.ts","./EntityBase.ts"],(function(e){"use strict";var t,n,i,o,s,a,r,c,l,d,u,p,h,f,v,y,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,r=e.sp,c=e.Prefab},function(e){l=e.default},function(e){d=e.assetLoader},function(e){u=e.default},function(e){p=e.EGameBundles,h=e.MLoadOnPlayRes},function(e){f=e.CustomerNode},function(e){v=e.Lobby},function(e){y=e.MapManager},function(e){m=e.EntityBase}],execute:function(){var b,g,P,N,L,_,E;s._RF.push({},"c081bTUfkxIpYcz1Ektc+dd","NoviceNode",void 0);var S=a.ccclass,k=a.property;e("NoviceNode",(b=S("NoviceNode"),g=k(r.Skeleton),b(((E=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,i(t,"baseSpeed",L,o(t)),i(t,"spine",_,o(t)),t.m_EndHandler=void 0,t}n(t,e),t.create=function(e,n,i){return new Promise((function(o,s){var a=h.NoviceNode;d.load(p.LoadOnPlay,a,c,(function(s,r){u.instantiate(a,r).getComponent(t).updatePos(n,e,i),o()}))}))},t.remove=function(){if(this.instance){var e=this.instance.node;u.remove(e)}else l.error("Invalid novice node")};var s=t.prototype;return s.onLoad=function(){e.prototype.onLoad.call(this)},s.onEnable=function(){t.instance=this},s.onDisable=function(){e.prototype.onDisable.call(this),this.m_EndHandler=null,t.instance=null;var n=this.spine;n.isAnimationCached()?n.setToSetupPose():n.clearTracks()},s.setFace=function(e){var t=this.m_Vec0,n=f.baseScale,i=this.spine.node;t.set(e*n,n,n),i.setScale(t)},s.seek=function(e,t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var o=i?this.movePath.bind(this):this.seekPath.bind(this);this.m_EndHandler=t||null,o(e,n),this.play("move")},s.updatePos=function(e,t,n){void 0===n&&(n=!1);var i=null,o=t+"";this.dynLayer!=o&&(i=v.instance.getDynNode(t)),this.dynLayer=o;var s=this.m_Vec0;this.spine.node.getScale(s);var a=s.x>0?1:-1;if(this.setFace(a),i&&this.node.setParent(i),n){var r=this.m_Vec0;y.get(o).roadManager.getPixelByUI(e.x,e.y,r),e=r}this.node.setPosition(e),this.stop()},s.onRotate=function(t,n,i){e.prototype.onRotate.call(this,t,n,this.spine.node)},s.onPathEnd=function(){this.play("idle"),this.m_EndHandler&&this.m_EndHandler()},s.play=function(e){this.spine.setAnimation(0,e,!0)},s.stop=function(){e.prototype.stop.call(this),this.play("idle")},t}(m)).instance=void 0,L=t((N=E).prototype,"baseSpeed",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),_=t(N.prototype,"spine",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=N))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/OfflineEarningsConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./EventBuiltin.ts","./UnbiasedTime.ts","./NoviceGuideMgr.ts","./EventUtility.ts","./GoogleFirebase.ts","./BuffConfig.ts","./ItemConfig.ts","./StarConfig.ts"],(function(e){"use strict";var n,i,t,s,o,r,a,f,u,c,h,m,l,g,d,y,T;return{setters:[function(e){n=e.inheritsLoose,i=e.createClass},function(e){t=e.cclegacy,s=e.director,o=e.macro},function(e){r=e.configName,a=e.default},function(e){f=e.eventDispatcher},function(e){u=e.unbiasedTimer},function(e){c=e.NoviceGuideMgr},function(e){h=e.MEventNames},function(e){m=e.googleFirebaser,l=e.eAnalyticsEvent},function(e){g=e.buffConfig,d=e.EBuffType},function(e){y=e.itemConfig},function(e){T=e.starConfig}],execute:function(){var v;t._RF.push({},"26e9aDMhy5GC5EzhKDFtSr1","OfflineEarningsConfig",void 0);var E=r("OfflineEarningsConfig")(v=function(e){function t(){for(var n,i=arguments.length,t=new Array(i),s=0;s<i;s++)t[s]=arguments[s];return(n=e.call.apply(e,[this].concat(t))||this).lastTime=0,n.addTime=0,n.money=0,n}n(t,e);var r=t.prototype;return r.onInit=function(e){f.on(h.guideDone,this,this.guideDone),0==this.lastTime&&(this.lastTime=u.now,this.addTime=this.lastTime),this.refreshEarning(),this.mySchedule&&(this.mySchedule(),this.mySchedule=function(){})},r.guideDone=function(){0==this.lastTime&&(this.lastTime=u.now,this.addTime=this.lastTime)},r.mySchedule=function(){var e=this,n=s.getScheduler();n.schedule((function(n){e.refreshEarning()}),n,1,o.REPEAT_FOREVER,0,!1)},r.refreshEarning=function(){if(c.instance.isDone()){var e=u.now;if(!(this.lastTime<=0||e<=this.lastTime||e<=this.addTime||e<=this.addTime+6e4)){var n=this.lastTime+60*this.maxTime*1e3;n=Math.min(n,e);var i=Math.floor((n-this.addTime)/6e4);i<=0||(this.money+=this.minuteEarning*i,this.addTime+=60*i*1e3,f.event(h.RefreshOfflineEarnings))}}},r.getReward=function(e){if(this.refreshEarning(),this.money>0){var n=e&&this.canWatch()?2:1;return y.addMoney(this.money*n,!0),this.money=0,this.lastTime=this.addTime=u.now,f.event(h.RefreshOfflineEarnings),e&&m.logEvent(l.event_ad,"ad_doublegold"),!0}return!1},r.canWatch=function(){return this.money>=1e3},r.canGet=function(){return this.money>0},r.emitCensus=function(e){f.event(h.updateMoneryCensus,{count:e,source:"offine"})},i(t,[{key:"maxTime",get:function(){return 60*T.getCurStarDic().MeowAbility}},{key:"minuteEarning",get:function(){return 200+g.getBuffNum(d.OffLineNum)}}]),t}(a))||v;e("offlineEarningsConfig",new E);t._RF.pop()}}}));

System.register("chunks:///_virtual/OfflineEarningsView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./ItemConfig.ts","./OfflineEarningsConfig.ts","./DataTable.ts","./EventUtility.ts","./GoogleAdMob.ts","./AudioTool.ts","./UIConfig.ts"],(function(t){"use strict";var n,i,e,o,a,r,c,s,u,l,f,h,g,p,b,w,m,y,_,E,d,L,v;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,c=t._decorator,s=t.Label,u=t.Node},function(t){l=t.eventDispatcher},function(t){f=t.dataTableManager},function(t){h=t.LocalizationHelper},function(t){g=t.uiManager},function(t){p=t.UIView},function(t){b=t.itemConfig,w=t.EItemEnum},function(t){m=t.offlineEarningsConfig},function(t){y=t.EDataTables},function(t){_=t.MEventNames},function(t){E=t.googleAdMober},function(t){d=t.AudioTool,L=t.ESoundType},function(t){v=t.MUIConfig}],execute:function(){var V,S,O,B,I,k,z,C,T,W,D,M,N,R,A;r._RF.push({},"5522ef7JVtPIJjnuLiKGGow","OfflineEarningsView",void 0);var U=c.ccclass,G=c.property;t("OfflineEarningsView",(V=U("OfflineEarningsView"),S=G(s),O=G(s),B=G(s),I=G(u),k=G(u),z=G(s),V((W=n((T=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,e(n,"moneyLab",W,o(n)),e(n,"timeEarningsLab",D,o(n)),e(n,"timeLab",M,o(n)),e(n,"watchButton",N,o(n)),e(n,"buyButton",R,o(n)),e(n,"priceLab",A,o(n)),n._costNum=10,n._showWatch=!1,n}i(n,t);var r=n.prototype;return r.onInit=function(){this._costNum=f.getData(y.Constant,35).Value,this.priceLab.string="x"+this._costNum},r.onClose=function(){l.off(_.RefreshOfflineEarnings,this,this.refreshOfflineEarnings)},r.onOpen=function(){l.on(_.RefreshOfflineEarnings,this,this.refreshOfflineEarnings),d.play(L.ui_open),this.timeEarningsLab.string=h.getString("43_3")+" "+m.minuteEarning+" "+h.getString("4_30")+"/"+h.getString("1_7"),this.timeLab.string=h.getString("43_4")+" "+m.maxTime+" "+h.getString("1_7"),this.refreshOfflineEarnings(),this.showWatch=!1},r.refreshOfflineEarnings=function(){this.buyButton.active=this.watchButton.active=m.canWatch(),this.moneyLab.string="+"+m.money},r.refreshShowWatch=function(){this.buyButton.active=!this._showWatch,this.watchButton.active=this._showWatch},r.clickClose=function(){d.play(L.ui_click),g.closeView(this)},r.clickBuy=function(){var t=this;d.play(L.ui_click),b.useItem(w.diamond,this._costNum)?this.watchSuccess():(g.openView(v.TipView,null,{content:h.getString("1_18")}),g.openView(v.PurchaseDiamondView,null,{needNum:this._costNum,callback:function(){t.showWatch=!0}}))},r.clickwatch=function(){var t=this;d.play(L.ui_click),E.showRewardedAd((function(n){t.watchSuccess()}))},r.watchSuccess=function(){m.getReward(!0),g.closeView(this)},r.clickGet=function(){d.play(L.ui_shop_getmoney),m.getReward(!1),g.closeView(this)},a(n,[{key:"showWatch",set:function(t){this._showWatch=!0,this.refreshShowWatch()}}]),n}(p)).prototype,"moneyLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(T.prototype,"timeEarningsLab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(T.prototype,"timeLab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(T.prototype,"watchButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(T.prototype,"buyButton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(T.prototype,"priceLab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=T))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/OOB2DCollider.ts",["cc"],(function(t){"use strict";var e,s;return{setters:[function(t){e=t.cclegacy,s=t.Vec3}],execute:function(){e._RF.push({},"a25cckQx9xOYZj0a+rzr3o5","OOB2DCollider",void 0);t("OOB2D",function(){function t(){this._axises=[],this._center=null,this._size=null,this._vertexs=[]}var e=t.prototype;return e._set=function(t,e,s,i){this._axises=t,this._size=s,this._setPos(e,i)},e._setPos=function(t,e){this._center=t,this._vertexs[0]=this._axises[0].clone().multiplyScalar(this._size.x).add(this._axises[1].clone().multiplyScalar(this._size.y)).multiplyScalar(.5).add(this._center),this._vertexs[1]=this._axises[0].clone().multiplyScalar(this._size.x).add(this._axises[1].clone().multiplyScalar(-this._size.y)).multiplyScalar(.5).add(this._center),this._vertexs[2]=this._axises[0].clone().multiplyScalar(-this._size.x).add(this._axises[1].clone().multiplyScalar(-this._size.y)).multiplyScalar(.5).add(this._center),this._vertexs[3]=this._axises[0].clone().multiplyScalar(-this._size.x).add(this._axises[1].clone().multiplyScalar(this._size.y)).multiplyScalar(.5).add(this._center)},t}()),t("OBB2DIIntersect",function(){function t(){}return t.isIntersect2D=function(t,e){for(var s=[t._axises[0],t._axises[1],e._axises[0],e._axises[1]],i=0;i<s.length;i++)if(this.isNotIntersectInAxis(t._vertexs,e._vertexs,s[i]))return!1;return!0},t.isNotIntersectInAxis=function(t,e,s){var i=this.vertexProject(t,s),r=this.vertexProject(e,s);return i[0]<r[1]||r[0]<i[1]},t.vertexProject=function(t,e){for(var i=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],r=0;r<t.length;++r){var a=t[r],n=s.dot(a,e);i[0]=Math.max(i[0],n),i[1]=Math.min(i[1],n)}return i},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/PagePointComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtils.ts"],(function(t){"use strict";var e,n,i,o,r,a,m,u,s,c,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,m=t.Layout,u=t.Node,s=t.UITransform,c=t.Component},function(t){h=t.default}],execute:function(){var l,p,g,f,L,d,y,v,b;r._RF.push({},"ce078wXMcpJL6Arf7BjYntB","PagePointComponent",void 0);var I=a.ccclass,z=a.property;t("PagePointComponent",(l=I("PagePointComponent"),p=z(m),g=z(u),l((d=e((L=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"mLayout",d,o(e)),i(e,"mItem",y,o(e)),i(e,"maxLength",v,o(e)),i(e,"gap",b,o(e)),e.mItemSize=null,e.mLength=0,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.mItemSize=this.mItem.getComponent(s).contentSize,this.mItem.active=!1},r.setLength=function(t){for(this.mLayout.node.removeAllChildren(),this.mLength=t;t-- >0;){var e=h.instantiate(this.mItem);e.active=!0,this.mLayout.node.addChild(e)}var n=t*this.mItem.getComponent(s).width+(t-1)*this.gap;if(n=Math.min(this.maxLength,n),this.mLength>1){var i=(this.maxLength-this.mItemSize.width*this.mLength)/(this.mLength-1);this.mLayout.spacingX=Math.min(this.gap,i)}},r.setIdx=function(t){t%=this.mLength,this.mLayout.node.children.forEach((function(e,n){e.children[1].active=t===n}))},e}(c)).prototype,"mLayout",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(L.prototype,"mItem",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(L.prototype,"maxLength",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=e(L.prototype,"gap",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=L))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/PersonalEvent2View.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./UIView.ts","./GameCensusConfig.ts","./ItemConfig.ts","./StarConfig.ts","./LobbyUtility.ts","./EventUtility.ts","./GameUtility.ts","./GoogleAdMob.ts","./ResourceTool.ts"],(function(e){"use strict";var t,i,n,o,a,r,s,c,l,d,u,m,h,v,w,f,p,g,I,C,_,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Node,c=e.sp,l=e.randomRangeInt,d=e.Label,u=e.Sprite},function(e){m=e.eventDispatcher},function(e){h=e.uiManager},function(e){v=e.UIView},function(e){w=e.gameCensusConfig},function(e){f=e.itemConfig},function(e){p=e.starConfig},function(e){g=e.MLobbyEvent},function(e){I=e.MEventNames},function(e){C=e.EGameBundles},function(e){_=e.googleAdMober},function(e){y=e.ResourceTool}],execute:function(){var R,N,b,M,D,E,k,S,P;a._RF.push({},"1f9baArd6FDYIHPA0uQLmUn","PersonalEvent2View",void 0);var V=r.ccclass,A=r.property;e("PersonalEvent2View",(R=V("PersonalEvent2View"),N=A(s),b=A(s),M=A(c.Skeleton),R((k=t((E=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"showNode",k,o(t)),n(t,"rewardNode",S,o(t)),n(t,"rewardSke",P,o(t)),t.m_Data=void 0,t.m_RewardId=-1,t.m_RewardCount=-1,t.m_ItemIcon=void 0,t}i(t,e);var a=t.prototype;return a.onOpen=function(e){this.m_Data=e,this.showNode.active=!0,this.rewardNode.active=!1},a.onClose=function(){if(this.m_Data=null,this.m_RewardId=this.m_RewardCount=-1,this.rewardSke.clearTracks(),this.m_ItemIcon){var e=this.m_ItemIcon.spriteFrame;e&&this.releaseAsset(e,!1),this.m_ItemIcon.spriteFrame=null,this.m_ItemIcon=null}},a.onRewardClick=function(){var e=this.m_Data.RewardNum,t=e[l(0,e.length)],i=t[0],n=t[1];if(63==i){var o;i=30;var a=(null==(o=p.getCurStarDic())?void 0:o.Multiple)||1;n=Math.floor(n*a*w.goldValue)}this.m_RewardId=i,this.m_RewardCount=n,this.initRewardNode(i,n)},a.onReceiveClick=function(){this.receive()},a.onReceiveMultClick=function(){var e=this;_.showRewardedAd((function(t){e.receive(2)}))},a.initRewardNode=function(e,t){var i=this.rewardNode,n=i.getChildByName("rewardNode"),o=n.getChildByName("diamondIcon"),a=n.getChildByName("goldIcon"),r=n.getChildByName("itemIcon"),s=n.getChildByName("numLab").getComponent(d);a.active=30==e,o.active=31==e,r.active=30!=e&&31!=e,r.active&&(this.m_ItemIcon=r.getComponent(u),y.setNodeSpriteFrame(C.LoadOnPlay,f.getItemIconUrl(e),r,this)),s.string="x"+t,n.active=!1,i.active=!0,this.showNode.active=!1,this.rewardSke.setAnimation(0,"open",!1),this.scheduleOnce((function(){n.active=!0}),1.6)},a.receive=function(e){void 0===e&&(e=1),this.m_RewardId<0||this.m_RewardCount<0||(30==this.m_RewardId?f.addMoney(this.m_RewardCount*e,!0):f.addItem(this.m_RewardId,this.m_RewardCount*e,!0),m.event(g.EventComplete,this.m_Data.Id),h.closeView(this))},a.emitCensus=function(e){m.event(I.updateMoneryCensus,{count:e,source:"PersonalEvent2View"})},t}(v)).prototype,"showNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(E.prototype,"rewardNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(E.prototype,"rewardSke",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=E))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/PersonalEventView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./BuffConfig.ts","./BuffTimelinessConfig.ts","./GameCensusConfig.ts","./ItemConfig.ts","./StarConfig.ts","./EventTable.ts","./StaffTable.ts","./LobbyOutsideNode.ts","./LobbyUtility.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./GoogleAdMob.ts","./ResourceTool.ts","./UIConfig.ts"],(function(e){"use strict";var t,n,i,a,o,r,l,s,u,c,f,d,m,p,g,v,b,h,I,C,y,S,w,_,D,E,T,B,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Sprite,s=e.Label,u=e.Node},function(e){c=e.eventDispatcher},function(e){f=e.dataTableManager},function(e){d=e.LocalizationHelper},function(e){m=e.uiManager},function(e){p=e.UIView},function(e){g=e.EBuffType},function(e){v=e.buffTimelinessConfig},function(e){b=e.gameCensusConfig},function(e){h=e.itemConfig},function(e){I=e.starConfig},function(e){C=e.EventTable},function(e){y=e.StaffTable},function(e){S=e.lobbyOutsideBuff},function(e){w=e.MLobbyEvent},function(e){_=e.EDataTables},function(e){D=e.MEventNames},function(e){E=e.EGameBundles},function(e){T=e.googleAdMober},function(e){B=e.ResourceTool},function(e){L=e.MUIConfig}],execute:function(){var M,N,U,V,P,R,k,A,z,H,x,F,O;o._RF.push({},"75d3cxj7OJB/qawxN5dfRZK","PersonalEventView",void 0);var G=r.ccclass,j=r.property;e("PersonalEventView",(M=G("PersonalEventView"),N=j(l),U=j(s),V=j(s),P=j(u),R=j(u),M((z=t((A=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"avatarSprite",z,a(t)),i(t,"talkLabel",H,a(t)),i(t,"nameLabel",x,a(t)),i(t,"rewardNode",F,a(t)),i(t,"okBtnIcon",O,a(t)),t.m_Data=void 0,t.m_SureHandler=void 0,t}n(t,e);var o=t.prototype;return o.onOpen=function(e){this.m_Data=e;var t=E.LoadOnPlay,n=y.getDrop(e.PersonID+"");B.setSpriteFrame(t,"Res/Texture/UI/Avatar/UI_Icon_Avatar_"+n.Icon,this.avatarSprite,this),this.nameLabel.string=d.getString(n.Name),this.talkLabel.string=d.getString(e.Des);var i=this.rewardNode,a=0,o=0;if(2==e.Id)i.parent.active=!1,this.okBtnIcon.active=!1;else{i.parent.active=!0,this.okBtnIcon.active=!0;var r=i.getChildByName("numLab").getComponent(s),l=i.getChildByName("iconSpr"),u=e.RewardNum;if(1==e.Id){var p,C;l.setScale(.3,.3),B.setNodeSpriteFrame(t,h.getItemIconUrl(30),l,this);var D=(null==(p=I.getCurStarDic())?void 0:p.Multiple)||1;a=Math.floor(u*D*b.goldValue);var T=(null==(C=f.getDataTable(_.Constant)[46])?void 0:C.Value)||1e3;a<T&&(a=T),r.string=a+""}else l.setScale(1,1),B.setNodeSpriteFrame(t,"Res/Texture/UI/HomePage/customer_icon",l,this),3==e.Id?r.string="+"+u+"% ("+e.Continued+"s)":(o=2*(u+I.getStar()),r.string="+"+o)}this.m_SureHandler=function(){if(1==e.Id)h.addMoney(a,!0);else if(2==e.Id)m.openView(L.PersonalEvent2View,null,e);else if(3==e.Id){var t=e.RewardNum,n=e.Continued;S.addBuff(1,t/100,n),v.ChangeBuff(g.CustomerSpAdd,101,t,n)}else 4==e.Id&&c.event(w.AddCustomer,o)}},o.onClose=function(){this.m_Data=this.m_SureHandler=null},o.onRefuseClick=function(){C.setEventAd(this.m_Data.Id,!1),this.complete()},o.onSureClick=function(){var e=this,t=function(t){e.m_SureHandler&&e.m_SureHandler(),C.setEventAd(e.m_Data.Id,!0),e.complete(t)};2==this.m_Data.Id?t(!0):T.showRewardedAd((function(e){t(!1)}))},o.complete=function(e){void 0===e&&(e=!1),e||c.event(w.EventComplete,this.m_Data.Id),m.closeView(this)},o.emitCensus=function(e){c.event(D.updateMoneryCensus,{count:e,source:"PersonalEventView"})},t}(p)).prototype,"avatarSprite",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(A.prototype,"talkLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(A.prototype,"nameLabel",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(A.prototype,"rewardNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(A.prototype,"okBtnIcon",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=A))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/PersonalNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./Fsm.ts","./AssetHelper.ts","./AssetLoader.ts","./UIManager.ts","./NodeUtils.ts","./GameUtility.ts","./UIConfig.ts","./LobbyUtility.ts","./MapManager.ts","./RoadSeekerAgent.ts","./CustomerAnimAgent.ts","./CustomerNode.ts","./PLeaveEventState.ts","./PToEventState.ts"],(function(t){"use strict";var e,n,i,o,s,a,r,d,h,c,m,l,v,f,u,g,p,_,y,P,N,E,S,A,R,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Node,d=t.v3,h=t.Prefab,c=t.Component},function(t){m=t.eventDispatcher},function(t){l=t.Fsm},function(t){v=t.AssetHelper},function(t){f=t.assetLoader},function(t){u=t.uiManager},function(t){g=t.default},function(t){p=t.EGameBundles,_=t.MLoadOnPlayRes},function(t){y=t.MUIConfig},function(t){P=t.MLobbyEvent},function(t){N=t.MapManager},function(t){E=t.RoadSeekerAgent},function(t){S=t.CustomerAnimAgent},function(t){A=t.CustomerNode},function(t){R=t.PLeaveEventState},function(t){x=t.PToEventState}],execute:function(){var b,L,T,C,k;s._RF.push({},"deb94RaCTxEn58uhdrGcVjF","PersonalNode",void 0);var I=a.ccclass,M=a.property;t("PersonalNode",(b=I("PersonalNode"),L=M(r),b((k=e((C=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"talkNode",k,o(e)),e.m_RoadAgent=void 0,e.m_Road0={px:0,py:0},e.m_Road1={px:0,py:0},e.m_ResNodes=[],e.m_SpineNode=void 0,e.m_ResId=-1,e.m_EventNode=void 0,e.m_TransformNode=void 0,e.m_Vec0=d(),e.m_Vec1=d(),e.m_Vec2=d(),e.fsm=void 0,e.animAgent=void 0,e.dynLayer=void 0,e.config=void 0,e.startPos=d(),e.step=0,e}n(e,t);var s=e.prototype;return s.onLoad=function(){this.fsm=l.get(this),this.animAgent=this.getComponent(S),this.m_SpineNode=this.animAgent.m_Spine.node,this.m_TransformNode=this.node.getChildByName("Transform");var t=this.getComponent(E);this.m_RoadAgent=t,t.rotateHandler=this.onRotate.bind(this),t.endHandler=this.onPathEnd.bind(this)},s.onEnable=function(){var t=this;m.on(P.EventComplete,this,(function(e){e==t.config.Id&&t.fsm.changeState(R.instance)}))},s.onDisable=function(){this.step=0,this.config=null,this.fsm.changeState(null),this.m_RoadAgent.enabled=!1,this.animAgent.stop(),this.removeEventNode(),m.offAllCaller(this)},s.update=function(t){this.fsm.update(t)},s.initPersonal=function(t,e,n){this.dynLayer=t+"",this.config=e,this.node.getPosition(this.startPos),this.setFace(1),this.m_RoadAgent.speed=A.baseSpeed,this.m_ResId<0&&(this.m_ResId=e.Id,this.animAgent.m_Spine.skeletonData=v.assign(n,this.node,!0))},s.startEvent=function(){this.fsm.changeState(x.instance)},s.startToEvent=function(){this.step=0;var t=this.config,e=this.m_Vec2;e.set(t.StayX,t.StayY),this.seekPath(e,!0),this.animAgent.move()},s.endToEvent=function(){var t=this;if(this.step=1,this.fsm.resetStateTime(),this.animAgent.idle(),!this.m_EventNode){var e=this.m_TransformNode;e.targetOff(this),e.on(r.EventType.TOUCH_START,(function(){u.openView(y.PersonalEventView,null,t.config)}),this);var n=_.PersonalEventNode;f.load(p.LoadOnPlay,n,h,(function(e,i){var o=g.instantiate(n,i);t.m_EventNode=o,t.talkNode.addChild(o)})),m.event(P.EventStart,this.config)}},s.startLeaveEvent=function(){this.removeEventNode(),this.seekPath(this.startPos),this.animAgent.move()},s.endLeaveEvent=function(){m.event(P.PersonalLeave,this.config.Id),g.remove(this.node)},s.setFace=function(t){var e=this.m_Vec0,n=A.baseScale,i=this.m_SpineNode;e.set(t*n,n,n),i.setScale(e)},s.seekPath=function(t,e){var n=this.m_Vec0,i=this.m_Vec1;this.node.getPosition(n);var o=N.get(this.dynLayer);e&&(o.roadManager.getPixelByUI(t.x,t.y,i),t=i);var s=!1,a=!1,r=o.getNodeByPixel(n.x,n.y);0==r.value&&(s=!0,r.value=1);var d=o.getNodeByPixel(t.x,t.y);0==d.value&&(a=!0,d.value=1);var h=o.seekPathByPixel(n,t,this.m_ResNodes);s&&(r.value=0),a&&(d.value=0),this.replaceSafePath(h,n,t),this.m_RoadAgent.path=h},s.replaceSafePath=function(t,e,n){var i=this.m_Road0,o=this.m_Road1;i.px=e.x,i.py=e.y,o.px=n.x,o.py=n.y,t[0]=i,t[t.length>1?t.length-1:1]=o},s.onRotate=function(t,e,n){var i=this.m_Vec0;this.m_SpineNode.getScale(i);var o=i.x>0?1:-1;e.x-t.x>0?o=1:e.x-t.x<0&&(o=-1),this.setFace(o)},s.onPathEnd=function(){var t=this.fsm.currentState;t.onPathEnd&&t.onPathEnd(this)},s.removeEventNode=function(){this.m_EventNode&&g.remove(this.m_EventNode),this.m_EventNode=null,this.m_TransformNode.targetOff(this)},e}(c)).prototype,"talkNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=C))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/PhonographConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./EventBuiltin.ts","./UnbiasedTime.ts","./DataTableManager.ts","./ItemData.ts","./LobbyUtility.ts","./DataTable.ts","./EventUtility.ts","./GoogleFirebase.ts","./GameUnlockTool.ts","./ItemConfig.ts","./TaskConfig.ts","./WarehouseConfig.ts"],(function(t){"use strict";var r,e,i,n,a,s,o,h,u,c,f,l,g,d,m,v,w,p,T,k;return{setters:[function(t){r=t.inheritsLoose,e=t.createClass,i=t.assertThisInitialized},function(t){n=t.cclegacy},function(t){a=t.configName,s=t.default},function(t){o=t.eventDispatcher},function(t){h=t.unbiasedTimer},function(t){u=t.dataTableManager},function(t){c=t.ItemData},function(t){f=t.MLobbyEvent},function(t){l=t.EDataTables},function(t){g=t.MEventNames},function(t){d=t.googleFirebaser,m=t.eAnalyticsEvent},function(t){v=t.GameUnlockTool},function(t){w=t.itemConfig},function(t){p=t.taskConfig,T=t.ETaskType},function(t){k=t.warehouseConfig}],execute:function(){var D;n._RF.push({},"9fbacvx5GtALL9r5+skYB9w","PhonographConfig",void 0);var A=a("PhonographConfig")(D=function(t){function n(){var r;return(r=t.call(this)||this).growthID=2,r.lastTime=0,r.rewardArr=[],r.talkArr=[],r.surviceTimes=0,r.rewardTimes=0,o.on(f.PayEating,i(r),r.addSurvice),r}r(n,t);var a=n.prototype;return a.onInit=function(){var t=this;this.growthID=this.growthID||2,this.lastTime||(this.lastTime=h.now),this.rewardArr.forEach((function(r,e){var i=new I;i.setSaveData(r),t.rewardArr[e]=i}))},a.getPhonograph=function(t){return u.getData(l.Cat,t)},a.getSmallTalk=function(t){return u.getData(l.SmallTalk,t).talk},a.getGrowthDic=function(){return u.getData(l.PhonographGrowth,this.growthID)},a.addOffReward=function(){this.lastTime=h.now},a.addReward=function(t,r,e,i){var n=w.getDic(t);if(v.instance.wareHouseIsUnlock()||n.Sale>0&&(r=0),r>0&&n){for(var a=null,s=0;s<this.rewardArr.length;s++)if(t==this.rewardArr[s].id){(a=this.rewardArr[s]).addNum(r);break}a||((a=new I).id=t,a.num=r,this.rewardArr.push(a))}this.addTalk(t,r,e,i)},a.addTalk=function(t,r,e,i){var n=new b;if(n.time=this.fmtLastTime(e),n.itemID=t,n.num=r,n.id=this.getPhonograph(i).TaklId,this.talkArr.length)for(var a=0;a<this.talkArr.length;a++){if(e<this.talkArr[a].time){this.talkArr.splice(a,0,n);break}if(a==this.talkArr.length-1){this.talkArr.push(n);break}}else this.talkArr.push(n);for(;this.talkArr.length>this.m_MaxTalk;)this.talkArr.shift()},a.fmtLastTime=function(t){return 10*Math.round(t/10)},a.getPhonographReward=function(){for(var t=!1,r=0;r<this.rewardArr.length;r++){var e=this.rewardArr[r];0==w.getDic(e.id).Sale&&(w.addItem(e.id,e.num),this.rewardArr.splice(r,1),r--,t=!0)}var i=k.getWarehouseEmptyNum();for(i=i||1;i>0&&this.rewardArr.length>0;){var n=this.rewardArr[0];if(0!=w.getDic(n.id).Sale){if(!w.addItem(n.id,1))break;i--,n.num--,n.num<=0&&(this.rewardArr.shift(),t=!0)}}return t},a.getExperience=function(){return this.getGrowthDic().Experience},a.canGetSurvice=function(){return this.surviceTimes>=this.getExperience()},a.addSurvice=function(){this.surviceTimes++,this.surviceTimes=Math.min(this.surviceTimes,this.getExperience())},a.getSurviceRewardData=function(){var t=y.getGrowthDic(),r=u.stringFmtNumberArray(t.ItemId),e=u.stringFmtNumberArray(t.NumList),i=[];return r.forEach((function(t,r){i.push(new c(t,e[r]))})),i},a.getSurviceReward=function(t){if(!this.canGetSurvice())return!1;var r=this.getGrowthDic(),e=u.stringFmtNumberArray(r.ItemId),i=u.stringFmtNumberArray(r.NumList),n=t?2:1;return e.forEach((function(t,r){w.addItem(t,(i[r]||0)*n)})),this.refreshNewID(),this.rewardTimes++,p.addTaskPro(T.RewardCatServe),o.event(g.phonographRefresh),t&&d.logEvent(m.event_ad,"ad_phonograph"),!0},a.refreshNewID=function(){var t=u.getDataTableArray(l.PhonographGrowth),r=t[t.length-1].Id;this.growthID=Math.min(this.growthID+1,r),this.surviceTimes=0},e(n,[{key:"m_MaxTalk",get:function(){return 30}}]),n}(s))||D,I=function(){function t(){this.id=0,this.num=0}var r=t.prototype;return r.setSaveData=function(t){for(var r in t)null!=this[r]&&(this[r]=t[r])},r.addNum=function(t){this.num+=t},r.useNum=function(t){this.num-=t},t}(),b=function(){function t(){this.id=0,this.time=0,this.itemID=0,this.num=0}return t.prototype.setSaveData=function(t){for(var r in t)null!=this[r]&&(this[r]=t[r])},t}(),y=t("phonographConfig",new A);n._RF.pop()}}}));

System.register("chunks:///_virtual/PhonographMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./UnbiasedTime.ts","./DataTableManager.ts","./ItemConfig.ts","./PhonographConfig.ts","./StarConfig.ts","./DataTable.ts","./GameTool.ts"],(function(n){"use strict";var a,r,t,e,o,i,m,d,s,g,u;return{setters:[function(n){a=n.createClass},function(n){r=n.cclegacy,t=n._decorator},function(n){e=n.default},function(n){o=n.unbiasedTimer},function(n){i=n.dataTableManager},function(n){m=n.EItemEnum},function(n){d=n.phonographConfig},function(n){s=n.starConfig},function(n){g=n.EDataTables},function(n){u=n.GameTool}],execute:function(){var c,f;r._RF.push({},"91e10kRqCZAh5e0mQ2jVW3g","PhonographMgr",void 0);var l=t.ccclass;t.property,n("PhonographMgr",l("PhonographMgr")(((f=function(){function n(){var n=this;this.m_ConfigArray=[],this.m_TimeInterval=0,i.getDataTableArray(g.Cat).forEach((function(a,r){a.Random=i.stringFmtNumberArray(a.Random+""),a.Gold=i.stringFmtNumberArray(a.Gold+""),a.Diamond=i.stringFmtNumberArray(a.Diamond+""),a.Item=i.stringFmtNumberArray(a.Item+""),n.m_ConfigArray[a.Sub_Id-1]||(n.m_ConfigArray[a.Sub_Id-1]=[]),n.m_ConfigArray[a.Sub_Id-1].push(a)})),d.lastTime&&this.addOffReward()}var r=n.prototype;return r.addOffReward=function(){for(var n=s.getCurStarDic(),a=o.now/1e3,r=0,t=Math.min(60*n.MeowAbility*60*10,(o.now-d.lastTime)/1e3),e=!1,i=[10,20];t>0;){var m=u.getOneRandomElementInArray(i);if(r=a-(m+=a%60),m=a-(r=10*Math.round(r/10)),a=r,t<m)break;e=!0,this.addReward(a),t-=m}e&&d.addOffReward()},r.addReward=function(n){var a=s.getCurStarDic(),r=this.m_ConfigArray[a.Star-1];r||(r=this.m_ConfigArray[this.m_ConfigArray.length-1]);var t=u.getArrayRandomElementByWeight(r,"Probability"),o=0,i=0;switch(u.getRandomWeightIndex(t.Random)){case 0:o=m.money,i=u.getOneRandomElementInArray(t.Gold);break;case 1:o=m.diamond,i=u.getOneRandomElementInArray(t.Diamond);break;case 2:o=u.getOneRandomElementInArray(t.Item),i=1;break;default:e.error("addReward error  randomIdx")}d.addReward(o,i,n,t.Id)},r.resetInterval=function(n){void 0===n&&(n=0);var a=u.getOneRandomElementInArray([10,20]),r=n||o.now/1e3,t=(a=r%60+a)+r;return a=(t=10*Math.round(t/10))-r,n||(this.m_TimeInterval=a),a},a(n,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new n),this.m_Instance}}]),n}()).m_Instance=void 0,c=f))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/PhonographRewardView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./ItemConfig.ts","./PhonographConfig.ts","./DataTable.ts","./GoogleAdMob.ts","./AudioTool.ts","./UIConfig.ts","./ItemPrefab.ts"],(function(t){"use strict";var e,i,n,a,o,c,r,u,l,s,h,f,p,b,w,g,d,m,y,_,v,k,W,S,V;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){c=t.cclegacy,r=t._decorator,u=t.Node,l=t.Layout,s=t.Button,h=t.Label},function(t){f=t.dataTableManager},function(t){p=t.LocalizationHelper},function(t){b=t.uiManager},function(t){w=t.UIView},function(t){g=t.default},function(t){d=t.itemConfig,m=t.EItemEnum},function(t){y=t.phonographConfig},function(t){_=t.EDataTables},function(t){v=t.googleAdMober},function(t){k=t.AudioTool,W=t.ESoundType},function(t){S=t.MUIConfig},function(t){V=t.ItemPrefab}],execute:function(){var C,T,L,B,z,I,D,P,R,M,N,A,E,F,G,U,H,j,O;c._RF.push({},"65778QWla1NRbFLjCZgkeQO","PhonographRewardView",void 0);var Q=r.ccclass,x=r.property;t("PhonographRewardView",(C=Q("PhonographRewardView"),T=x(u),L=x(u),B=x(u),z=x(l),I=x(s),D=x(u),P=x(u),R=x(h),C((A=e((N=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,n(e,"title1",A,a(e)),n(e,"title2",E,a(e)),n(e,"itemTemplate",F,a(e)),n(e,"itemLayout",G,a(e)),n(e,"getButton",U,a(e)),n(e,"watchButton",H,a(e)),n(e,"buyButton",j,a(e)),n(e,"priceLab",O,a(e)),e._costNum=10,e._showWatch=!1,e._callback=null,e._isWatch=!1,e}i(e,t);var c=e.prototype;return c.onInit=function(){this._costNum=f.getData(_.Constant,35).Value,this.itemTemplate.active=!1},c.onOpen=function(t){var e=this;this._isWatch=!1,this.showWatch=!1;var i=y.canGetSurvice();this.title1.active=i,this.title2.active=!i,this.getButton.node.active=i,this.watchButton.active=i;var n=y.getSurviceRewardData();n.forEach((function(t,i){var n=e.itemLayout.node.children[i];n||(n=g.instantiate(e.itemTemplate),e.itemLayout.node.addChild(n)),n.getComponent(V).setData(t)})),this.itemLayout.node.children.forEach((function(t,e){t.active=!!n[e]})),t.callback&&(this._callback=t.callback)},c.refreshShowWatch=function(){var t=y.canGetSurvice();this.buyButton.active=t&&!this._showWatch,this.watchButton.active=t&&this._showWatch},c.watchSuccess=function(){this.successFunc()},c.successFunc=function(){y.getSurviceReward(this._isWatch),b.openView(S.TipView,null,{content:p.getString("1_22")}),this.destroyClass()},c.destroyClass=function(){this._callback&&(this._callback(),this._callback=null),b.closeView(this)},c.clickColse=function(){k.play(W.ui_click),this.destroyClass()},c.clickBuy=function(){var t=this;k.play(W.ui_click),d.useItem(m.diamond,this._costNum)?(this._isWatch=!0,this.watchSuccess()):(b.openView(S.TipView,null,{content:p.getString("1_18")}),b.openView(S.PurchaseDiamondView,null,{needNum:this._costNum,callback:function(){t.showWatch=!0}}))},c.clickWatch=function(){var t=this;k.play(W.ui_click),y.canGetSurvice()&&(this._isWatch=!0,v.showRewardedAd((function(){t.watchSuccess()})))},c.clickGet=function(){k.play(W.ui_shop_getmoney),y.canGetSurvice()&&(this._isWatch=!1,this.successFunc(),b.openView(S.TipView,null,{content:p.getString("1_22")}))},o(e,[{key:"showWatch",set:function(t){this._showWatch=!0,this.refreshShowWatch()}}]),e}(w)).prototype,"title1",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(N.prototype,"title2",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(N.prototype,"itemTemplate",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(N.prototype,"itemLayout",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(N.prototype,"getButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(N.prototype,"watchButton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(N.prototype,"buyButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(N.prototype,"priceLab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=N))||M));c._RF.pop()}}}));

System.register("chunks:///_virtual/PhonographView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./ItemConfig.ts","./PhonographConfig.ts","./NoviceGuideMgr.ts","./PhonographMgr.ts","./ItemData.ts","./EventUtility.ts","./AudioTool.ts","./GameTool.ts","./UITool.ts","./UIConfig.ts","./ItemPrefab.ts"],(function(e){"use strict";var t,n,i,r,o,a,l,c,u,s,h,f,d,p,g,m,b,v,k,w,y,C,I,L,T,_,S,P,z,B,V,x,N,E,A,D,G;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Button,c=e.Node,u=e.sp,s=e.Layout,h=e.ProgressBar,f=e.Label,d=e.ScrollView,p=e.UITransform,g=e.Vec3,m=e.Sprite,b=e.RichText,v=e.Intersection2D},function(e){k=e.eventDispatcher},function(e){w=e.LocalizationHelper},function(e){y=e.uiManager},function(e){C=e.UIView},function(e){I=e.default},function(e){L=e.itemConfig},function(e){T=e.phonographConfig},function(e){_=e.NoviceGuideMgr,S=e.EGuideStep,P=e.EGuideClickEnum},function(e){z=e.PhonographMgr},function(e){B=e.ItemData},function(e){V=e.MEventNames},function(e){x=e.AudioTool,N=e.ESoundType},function(e){E=e.GameTool},function(e){A=e.UITool},function(e){D=e.MUIConfig},function(e){G=e.ItemPrefab}],execute:function(){var M,R,U,O,F,H,q,W,j,Q,J,K,X,Y,Z,$,ee,te,ne,ie,re,oe,ae,le,ce,ue,se,he,fe,de,pe,ge,me;o._RF.push({},"f847ddQ4jxOio2AdiT6/whc","PhonographView",void 0);var be=a.ccclass,ve=a.property;e("PhonographView",(M=be("PhonographView"),R=ve(l),U=ve(c),O=ve(c),F=ve(c),H=ve(u.Skeleton),q=ve(s),W=ve(c),j=ve(s),Q=ve(c),J=ve(h),K=ve(f),X=ve(d),Y=ve(c),Z=ve(c),$=ve(p),M((ne=t((te=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"getButton",ne,r(t)),i(t,"buttonNode1",ie,r(t)),i(t,"buttonNode2",re,r(t)),i(t,"phonographIcon",oe,r(t)),i(t,"phonographSpine",ae,r(t)),i(t,"itemIconLayout",le,r(t)),i(t,"itemIconTemplate",ce,r(t)),i(t,"itemLabLayout",ue,r(t)),i(t,"itemLabTemplate",se,r(t)),i(t,"surviceProgress",he,r(t)),i(t,"surviceLab",fe,r(t)),i(t,"mTalkList",de,r(t)),i(t,"talkContent",pe,r(t)),i(t,"talkItem",ge,r(t)),i(t,"viewBox",me,r(t)),t.m_V3=new g,t._renderCount=0,t.talkListLength=0,t._renderFrequency=1,t._tempTalkList=null,t}n(t,e);var o=t.prototype;return o.onInit=function(){this._renderFrequency=Math.max(1,this._renderFrequency),this.itemIconTemplate.active=!1,this.itemLabTemplate.active=!1,this.talkItem.active=!1,this.itemIconTemplate.children[0].getComponent(m).spriteFrame=null},o.onClose=function(){k.offAllCaller(this)},o.onOpen=function(){var e=this;x.play(N.ui_open),z.instance.addOffReward(),this.scheduleOnce((function(){e.refreshItem(),e.refreshSurvice()})),this.refreshTalkStart(),this._renderCount=0,this.talkListLength=T.talkArr.length,k.on(V.guideClick,this,this.guideClick),k.on(V.refreshGuildPos,this,this.refreshGuildPos),this.scheduleOnce((function(){_.instance.isNeedShowNoviceView(S.Guide_Phonograph)}),.8)},o.refreshTalkStart=function(){this.talkContent.children.forEach((function(e){e.active=!1}))},o.refreshTalk=function(){if(!(this._renderCount>=this.talkListLength)){if(!this.talkContent.children[this._renderCount]){var e=I.instantiate(this.talkItem);this.talkContent.addChild(e),e.active=!0}this.talkContent.children[this._renderCount].active=!0,this.onListTabVRender(this.talkContent.children[this._renderCount],this.talkListLength-this._renderCount-1),this._renderCount++}},o.onListTabVRender=function(e,t){var n=this,i=T.talkArr[t],r=e.children[0];if(r.active=!0,r.children[1].active=!1,r.children[2].active=!1,i.itemID>0&&i.num>0){r.children[1].active=!0;var o=r.children[1].getComponent(b),a="<color=#756663>"+L.getItemName(i.itemID)+"x"+i.num+"</color>";o.string="<color=#986021>"+w.getString(T.getSmallTalk(i.id),[a])}else{r.children[2].active=!0,r.children[2].getComponent(f).string=w.getString(T.getSmallTalk(i.id))}r.children[0].getComponent(f).string=E.dateFormat(new Date(1e3*i.time),"H:m:s"),this.scheduleOnce((function(){e.getComponent(p).setContentSize((r.children[1].active?r.children[1]:r.children[2]).getComponent(p).contentSize),n._renderCount==n.talkListLength&&n.refreshTalkOver()}))},o.refreshTalkOver=function(){this.onScrolling()},o.onScrolling=function(){var e=this.viewBox.getBoundingBoxToWorld();this.talkContent.children.forEach((function(t,n){var i=v.rectRect(e,t.getComponent(p).getBoundingBoxToWorld());t.children[0].active=i}))},o.refreshItem=function(){var e=this;T.rewardArr.forEach((function(t,n){e.setItem(e.itemIconLayout.node,n,e.itemIconTemplate,t),e.setItem(e.itemLabLayout.node,n,e.itemLabTemplate,t)})),this.getButton.node.active=T.rewardArr.length>0},o.refreshGuildPos=function(e){if(e.click==P.layerButton)switch(e.itemIndex){case 1:this.buttonNode2.getWorldPosition(A.instance.guideHandWorldPos)}},o.guideClick=function(e){if(e.click==P.layerButton)switch(e.itemIndex){case 1:this.clickBox2()}},o.setItem=function(e,t,n,i){if(e.children[t])e.children[t].getComponent(G).resetData(i.id,i.num);else{var r=I.instantiate(n);r.getComponent(G).setData(new B(i.id,i.num)),e.addChild(r),r.active=!0}},o.refreshSurvice=function(){var e=T.canGetSurvice();this.buttonNode1.active=!e,this.buttonNode2.active=e,this.phonographIcon.active=!e,this.phonographSpine.node.active=e;var t=T.getExperience();this.surviceLab.string=T.surviceTimes+"/"+t,this.surviceProgress.progress=T.surviceTimes/t},o.clickGet=function(){var e=this;T.getPhonographReward()&&(x.play(N.ui_shop_getmoney),this.itemIconLayout.node.children.forEach((function(e,t){t>=T.rewardArr.length&&I.remove(e)})),this.itemLabLayout.node.children.forEach((function(e,t){t>=T.rewardArr.length&&I.remove(e)}))),this.scheduleOnce((function(){e.refreshItem()}))},o.clickClose=function(){x.play(N.ui_click),y.closeView(this)},o.clickBox1=function(){var e=this;x.play(N.ui_click),y.openView(D.PhonographRewardView,null,{callback:function(){e.refreshSurvice()}})},o.clickBox2=function(){var e=this;x.play(N.ui_click),y.openView(D.PhonographRewardView,null,{callback:function(){e.refreshSurvice()}})},o.clickAddSurviceTest=function(){},o.update=function(){if(!(this._renderCount>=this.talkListLength))for(var e=0;e<this._renderFrequency;e++)this.refreshTalk()},t}(C)).prototype,"getButton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(te.prototype,"buttonNode1",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(te.prototype,"buttonNode2",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(te.prototype,"phonographIcon",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(te.prototype,"phonographSpine",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(te.prototype,"itemIconLayout",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(te.prototype,"itemIconTemplate",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(te.prototype,"itemLabLayout",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(te.prototype,"itemLabTemplate",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(te.prototype,"surviceProgress",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(te.prototype,"surviceLab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(te.prototype,"mTalkList",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(te.prototype,"talkContent",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(te.prototype,"talkItem",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(te.prototype,"viewBox",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=te))||ee));o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerBaseConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts"],(function(e){"use strict";var n,t,r,o,a;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator},function(e){o=e.configName,a=e.default}],execute:function(){var i;t._RF.push({},"bd399U771BIn4M73KXeiuDG","PlayerBaseConfig",void 0);r.ccclass,r.property;var c=o("playerBaseConfig")(i=function(e){function t(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).noviceGuideData={},n.playerName="",n.isOpenWarehouse=!1,n}return n(t,e),t.prototype.onInit=function(e){},t}(a))||i;e("playerBaseConfig",new c);t._RF.pop()}}}));

System.register("chunks:///_virtual/PLeaveEventState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts"],(function(t){"use strict";var n,e,s,a;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy},function(t){a=t.FsmState}],execute:function(){s._RF.push({},"fa5b2/YlyBAJafLXJxEgaJP","PLeaveEventState",void 0),t("PLeaveEventState",function(t){function s(){return t.apply(this,arguments)||this}n(s,t);var a=s.prototype;return a.onEnter=function(t,n){t.startLeaveEvent()},a.onExecute=function(t,n){},a.onExit=function(t){},a.onPathEnd=function(t){t.endLeaveEvent()},e(s,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new s),this.m_Instance}}]),s}(a)).m_Instance=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/PrivateRoomConstruct.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./Lobby.ts","./LobbyUtility.ts","./ConstructBase.ts","./ConstructRoom.ts"],(function(t){"use strict";var o,n,i,s,r,e,c,a,u;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){s=t.eventDispatcher},function(t){r=t.Lobby},function(t){e=t.MLobbyEvent,c=t.ELobbyLayer},function(t){a=t.ConstructBase},function(t){u=t.ConstructRoom}],execute:function(){var d;n._RF.push({},"ccfedcGWvJBRImMlchj//Wq","PrivateRoomConstruct",void 0);var l=i.ccclass;i.property,t("PrivateRoomConstruct",l("PrivateRoomConstruct")(d=function(t){function n(){for(var o,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(o=t.call.apply(t,[this].concat(i))||this).m_DeskLst={},o.m_DeskIdAdd=8,o}o(n,t);var i=n.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this)},i.initEvent=function(){s.on(e.InitDynamicNode,this,this.instartChild),s.on(e.AllRoomLoaded,this,this.AllRoomLoaded)},i.removeEvent=function(){s.off(e.InitDynamicNode,this,this.instartChild),s.off(e.AllRoomLoaded,this,this.AllRoomLoaded)},i.registerConstructRoom=function(){var t=0,o=[3,6,7],n=r.instance.getDynNode(c.Lobby);for(var i in this.m_SortNode=n,this.m_ConstructMap)if(-1!=i.indexOf("Room")){var s=this.m_ConstructMap[i].addComponent(u);s.registerConstructRoom(n,o[t++],t),s.switchInitial(n,this.node.getScale()),this.m_ConstructMap[i]=s}},i.instartChild=function(t){},i.AllRoomLoaded=function(){this.registerConstructRoom(),this.registerConstruct()},i.registerConstruct=function(){var t=this.m_DeskIdAdd;for(var o in this.m_ConstructMap){if(-1!=o.indexOf("Room"))this.m_ConstructMap[o].registerDeskId(t++)}},n}(a))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/PToEventState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts","./PLeaveEventState.ts"],(function(t){"use strict";var n,e,o,s,c;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy},function(t){s=t.FsmState},function(t){c=t.PLeaveEventState}],execute:function(){o._RF.push({},"8695becuOVIzbOUof/zTme6","PToEventState",void 0),t("PToEventState",function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var s=o.prototype;return s.onEnter=function(t,n){t.startToEvent()},s.onExecute=function(t,n){1==t.step&&t.fsm.currentStateTime>=t.config.Duration&&t.fsm.changeState(c.instance)},s.onExit=function(t){},s.onPathEnd=function(t){t.endToEvent()},e(o,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new o),this.m_Instance}}]),o}(s)).m_Instance=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/PurchaseDiamondItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./UnbiasedTime.ts","./LocalizationHelper.ts","./UIManager.ts","./ShopCurrencyConfig.ts","./ItemData.ts","./EventUtility.ts","./GameUtility.ts","./GoogleAdMob.ts","./GoogleBilling.ts","./SDKInfoMgr.ts","./GameTool.ts","./ResourceTool.ts","./UIConfig.ts"],(function(e){"use strict";var t,i,n,o,r,c,a,s,u,l,f,h,d,g,m,p,b,v,y,I,_,w,D,C,P,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,a=e.Node,s=e.Label,u=e.RichText,l=e.Component},function(e){f=e.default},function(e){h=e.eventDispatcher},function(e){d=e.unbiasedTimer},function(e){g=e.LocalizationHelper},function(e){m=e.uiManager},function(e){p=e.shopCurrencyConfig},function(e){b=e.ItemData},function(e){v=e.MEventNames},function(e){y=e.EGameBundles},function(e){I=e.googleAdMober},function(e){_=e.googleBillinger},function(e){w=e.SDKInfoMgr,D=e.PurchaseIDEM},function(e){C=e.GameTool},function(e){P=e.ResourceTool},function(e){L=e.MUIConfig}],execute:function(){var R,T,S,B,N,U,A,M,z,G,E,x,F;r._RF.push({},"3c6edv7c/9D2ZA2n+/ay5Kf","PurchaseDiamondItem",void 0);var k=c.ccclass,H=c.property;e("PurchaseDiamondItem",(R=k("PurchaseDiamondItem"),T=H(a),S=H(s),B=H(s),N=H(a),U=H(s),R((z=t((M=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"icon",z,o(t)),n(t,"moneyLab",G,o(t)),n(t,"numLab",E,o(t)),n(t,"discountIcon",x,o(t)),n(t,"discountLab",F,o(t)),t._config=null,t}i(t,e);var r=t.prototype;return r.onDisable=function(){h.offAllCaller(this)},r.onEnable=function(){h.on(v.RechargeRefresh,this,this.refreshPrice),this.refreshPrice(),this._config&&this._config&&this.updateUI()},r.setData=function(e,t){this._config=e,this.refreshPrice(),1!=this._config.PriceType?(this.updateUI(),this.schedule(this.updateUI.bind(this),1)):e.Number>0&&(this.numLab.string="x"+e.Number),this.discountIcon&&(this._config.Discount>0?(this.discountLab.string=e.Discount+"%",this.discountIcon.active=!0):this.discountIcon.active=!1),P.setNodeSpriteFrame(y.LoadOnPlay,"Res/Texture/UI/Shop/Purchase/d"+this._config.Id,this.icon,this.node.parent)},r.refreshPrice=function(){this._config&&1==this._config.PriceType&&(this.moneyLab.string=this.getPriceStr())},r.getPriceStr=function(){var e="";if(w.isHaveOrderInfo){var t=(e=w.orderDic[D["gift_"+this._config.Id]].price).match(/-?([1-9]\d*(\.\d*)*|0\.[1-9]\d*)/g);Number(t[0])}else e="$"+this._config.Price;return e},r.setAllChildActive=function(e,t){void 0===t&&(t=!1),e.children.forEach((function(e){e.active=t}))},r.buySuccess=function(){var e=p.getReward(this._config.Id);if(e){var t=[];t[0]=new b(e[0],e[1]);var i={data:t};m.openView(L.CongratulationView,null,i),this.updateUI()}},r.clickBuy=function(){var e=this;if(p.canGetReward(this._config.Id))switch(p.getRewardData(this._config.Id)[2]){case 0:this.buySuccess();break;case 1:_.pay(D["gift_"+this._config.Id]);break;case 3:I.showRewardedAd((function(){e.buySuccess()}))}},r.updateUI=function(){var e=this._config.Id,t=p.getRewardData(e);if(this.numLab.string="x"+t[1],0==t[2]||3==t[2]){var i=p.getRewardData(e),n=this.node.getChildByName("content"),o=n.getChildByName("button_free"),r=n.getChildByName("button_watch"),c=n.getChildByName("noTip");this.setAllChildActive(n);var a=n.getChildByName("time_rt1").getComponent(u),l=n.getChildByName("time_lab1").getComponent(s);l.node.active=!0;var h=0;0==i[2]?p.canGetReward(this._config.Id)?o.active=!0:c.active=!0:3==i[2]?(h=p.getRewardTime(this._config.Id)-d.now,p.canGetReward(this._config.Id)?r.active=!0:a.node.active=!0):f.error("item error  rewardData :",i),l.string=g.getString("2_7",[C.getFmtTime((d.tomorrow-d.now)/1e3,"h")]),a.node.active&&(a.string="<color=#936748>"+g.getString("2_6",["<color=#219AC1> "+C.getFmtTime(h/1e3)+"</color>"])+"</color>")}},t}(l)).prototype,"icon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(M.prototype,"moneyLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(M.prototype,"numLab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(M.prototype,"discountIcon",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(M.prototype,"discountLab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=M))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/PurchaseDiamondView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./ItemConfig.ts","./DataTable.ts","./EventUtility.ts","./SDKInfoMgr.ts","./PurchaseDiamondItem.ts"],(function(e){"use strict";var t,i,n,a,r,l,c,o,u,s,h,f,d,m,p,b,g,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,c=e.Node},function(e){o=e.eventDispatcher},function(e){u=e.dataTableManager},function(e){s=e.uiManager},function(e){h=e.UIView},function(e){f=e.default},function(e){d=e.EItemEnum,m=e.itemConfig},function(e){p=e.EDataTables},function(e){b=e.MEventNames},function(e){g=e.SDKInfoMgr},function(e){v=e.PurchaseDiamondItem}],execute:function(){var y,D,_,w,I,N,E,C,P;r._RF.push({},"815d84iAqRI6KBBZTwXyO1K","PurchaseDiamondView",void 0);var M=l.ccclass,T=l.property;e("PurchaseDiamondView",(y=M("PurchaseDiamondView"),D=T(c),_=T(c),w=T(c),y((E=t((N=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"layout",E,a(t)),n(t,"cell1",C,a(t)),n(t,"cell2",P,a(t)),t._watchCallback=null,t._needNum=Number.MAX_SAFE_INTEGER,t}i(t,e);var r=t.prototype;return r.onInit=function(){g.isHaveOrderInfo||g.getAllRechargeOrder(),this.cell1.active=!1,this.cell2.active=!1;for(var e=u.getDataTableArray(p.ShopDiamond),t=0;t<e.length;t++){var i=e[t];if(2!=i.Price&&i.ItemId==d.diamond){var n=f.instantiate(1==i.PriceType?this.cell2:this.cell1);this.layout.addChild(n),n.active=!0,n.getComponent(v).setData(i)}}},r.onOpen=function(e){o.on(b.RechargeRefresh,this,this.refreshPrice),e&&(e.needNum>0&&(this._needNum=e.needNum),e.callback&&(this._watchCallback=e.callback))},r.onClose=function(){o.offAllCaller(this),this._needNum>0&&this._watchCallback&&(m.itemEnough(d.diamond,this._needNum)||this._watchCallback()),this._needNum=Number.MAX_SAFE_INTEGER,this._watchCallback=null},r.refreshPrice=function(){},r.clickClose=function(){s.closeView(this)},t}(h)).prototype,"layout",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(N.prototype,"cell1",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(N.prototype,"cell2",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=N))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/PurchaseGiftConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./UnbiasedTime.ts","./DataTableManager.ts","./ItemData.ts","./DataTable.ts","./GoogleFirebase.ts","./GameTool.ts","./FoodConfig.ts","./ItemConfig.ts","./StaffConfig.ts"],(function(t){"use strict";var e,i,n,a,r,o,u,s,f,c,g,h,l,m,d,D,p,T;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,a=t.director,r=t.macro},function(t){o=t.configName,u=t.default},function(t){s=t.unbiasedTimer},function(t){f=t.dataTableManager},function(t){c=t.ItemData,g=t.EItemType},function(t){h=t.EDataTables},function(t){l=t.googleFirebaser,m=t.eAnalyticsEvent},function(t){d=t.GameTool},function(t){D=t.foodConfig},function(t){p=t.itemConfig},function(t){T=t.staffConfig}],execute:function(){var v;n._RF.push({},"b2c3fD4K/VKC4kB4aPG6S8w","PurchaseGiftConfig",void 0);var y=o("PurchaseGiftConfig")(v=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).purchaseData={},e.triggerData={},e}e(n,t);var o=n.prototype;return o.onInit=function(t){if(!this.triggerData[this.timeTriggerID]){var e=1e3*f.getData(h.Constant,34).Value*60*60;this.triggerData[this.timeTriggerID]={endTime:s.now+e,nextTime:s.now+2*e,hasBuy:!1}}this.mySchedule&&(this.mySchedule(),this.mySchedule=null)},o.mySchedule=function(){var t=this,e=a.getScheduler();e.schedule((function(e){t.refreshTrigger()}),e,1,r.REPEAT_FOREVER,0,!1)},o.refreshTrigger=function(){if(s.now>this.triggerData[this.timeTriggerID].nextTime&&!this.triggerData[this.timeTriggerID]){var t=1e3*f.getData(h.Constant,34).Value*60*60;this.triggerData[this.timeTriggerID]={endTime:s.now+t,nextTime:s.now+2*t,hasBuy:!1}}},o.getConfig=function(t){return f.getData(h.ShopGift,t)||null},o.canGetReward=function(t){var e=this.getConfig(t);if(!e)return-1;var i=this.getPurchaseData(t);return i?2==e.PurchasesNumber&&i.num>=1?-3:1:-2},o.getPurchaseData=function(t){if(!this.purchaseData[t]){f.getData(h.ShopGift,t);this.purchaseData[t]={num:0}}return this.purchaseData[t]},o.getReward=function(t){if(this.canGetReward(t)<0)return null;var e=this.getRewardData(t);if(!e)return null;this.getPurchaseData(t).num++,e.item&&e.item.forEach((function(t,e){p.addItem(t[0],t[1])})),e.skin>0&&T.buy_skin(e.skin),e.food&&e.food.forEach((function(t,e){D.addNewFood(t)})),this.triggerData[t]&&(this.triggerData[t].hasBuy=!0);var i=t%1e3;return l.logEvent(m.event_purchase,"purchase_gift"+i),e},o.fmtRewardData=function(t){var e=[];return t.item&&t.item.forEach((function(t){e.push(new c(t[0],t[1]))})),t.food&&t.food.forEach((function(t){e.push(new c(t,1,g.food))})),t.skin>0&&e.push(new c(t.skin,1,g.skin)),e.length?e:null},o.getRewardData=function(t){var e=this.getConfig(t);if(!e)return null;var i=d.splitNumberArray(e.ItemId+""),n=d.splitNumberArray(e.Num+""),a=[];i.forEach((function(t,e){a.push([t]),a[e][1]=n[e]}));var r={item:a};return e.FoodId&&"null"!=e.FoodId&&(r.food=d.splitNumberArray(e.FoodId)),"number"==typeof e.SkinId&&(r.skin=e.SkinId),r},o.testClear=function(){this.purchaseData={},this.triggerData={},this.onInit(!0)},i(n,[{key:"timeTriggerID",get:function(){return 1005}}]),n}(u))||v;t("purchaseGiftConfig",new y);n._RF.pop()}}}));

System.register("chunks:///_virtual/PurchaseGiftView1003.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./UIManager.ts","./UIView.ts","./FoodConfig.ts","./ItemConfig.ts","./PurchaseGiftConfig.ts","./ItemData.ts","./EventUtility.ts","./GameUtility.ts","./GoogleBilling.ts","./SDKInfoMgr.ts","./ResourceTool.ts","./UIConfig.ts"],(function(e){"use strict";var i,t,n,r,o,c,a,l,s,f,u,h,g,d,p,v,b,m,y,I,P,C,w;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Node,l=e.Label},function(e){s=e.default},function(e){f=e.eventDispatcher},function(e){u=e.uiManager},function(e){h=e.UIView},function(e){g=e.foodConfig},function(e){d=e.itemConfig},function(e){p=e.purchaseGiftConfig},function(e){v=e.ItemData},function(e){b=e.MEventNames},function(e){m=e.EGameBundles},function(e){y=e.googleBillinger},function(e){I=e.SDKInfoMgr,P=e.PurchaseIDEM},function(e){C=e.ResourceTool},function(e){w=e.MUIConfig}],execute:function(){var D,R,A,B,G,_,L,U,V,E,N,k,M;o._RF.push({},"5058dgrl61DzLw1EMVwaDdl","PurchaseGiftView1003",void 0);var S=c.ccclass,z=c.property;e("PurchaseGiftView1003",(D=S("PurchaseGiftView1003"),R=z(a),A=z(a),B=z(a),G=z(a),_=z(l),D((V=i((U=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return i=e.call.apply(e,[this].concat(o))||this,n(i,"itemPar",V,r(i)),n(i,"foodPar",E,r(i)),n(i,"role",N,r(i)),n(i,"buyButton",k,r(i)),n(i,"priceLab",M,r(i)),i._configID=1003,i}t(i,e);var o=i.prototype;return o.onDisable=function(){f.off(b.RechargeRefresh,this,this.refreshPrice),f.off(b.PurchaseGiftRecharge,this,this.clickClose)},o.onEnable=function(){f.on(b.RechargeRefresh,this,this.refreshPrice),f.on(b.PurchaseGiftRecharge,this,this.clickClose)},o.onLoad=function(){I.isHaveOrderInfo||I.getAllRechargeOrder(),this.refreshUI()},o.onOpen=function(){this.buyButton.active=p.canGetReward(this._configID)>0},o.refreshUI=function(){var e=this,i=p.getRewardData(this._configID);if(i.item){var t=this.itemPar.getChildByName("icon"),n=this.itemPar.getChildByName("lab");this.setAllChildActive(t,!1),this.setAllChildActive(n,!1),i.item.forEach((function(i,r){t.children[r]&&(t.children[r].active=!0),n.children[r]&&(n.children[r].active=!0),C.setNodeSpriteFrame(m.LoadOnPlay,d.getItemIconUrl(i[0]),t.children[r],e),n.children[r]&&(n.children[r].getComponent(l).string="x"+i[1])}))}if(i.food){var r=this.foodPar.getChildByName("bg"),o=this.foodPar.getChildByName("icon");this.setAllChildActive(r,!1),this.setAllChildActive(o,!1),i.food.forEach((function(i,t){r.children[t]&&(r.children[t].active=!0),o.children[t]&&(o.children[t].active=!0),C.setNodeSpriteFrame(m.LoadOnPlay,g.getUIIcon(i),o.children[t],e)}))}i.skin>0&&C.setNodeSpriteFrame(m.LoadOnPlay,"Res/Texture/UI/AvatarFull/"+i.skin,this.role,this),this.refreshPrice()},o.refreshPrice=function(){this.priceLab.string=this.getPriceStr()},o.getPriceStr=function(){var e=p.getConfig(this._configID),i="";if(I.isHaveOrderInfo){var t=(i=I.orderDic[P["gift_"+e.Id]].price).match(/-?([1-9]\d*(\.\d*)*|0\.[1-9]\d*)/g);Number(t[0])}else i="$"+e.Price;return i},o.setAllChildActive=function(e,i){e.children.forEach((function(e){e.active=i}))},o.buySuccess=function(){var e=this;s.error("buy success");var i=p.getReward(this._configID);if(i){var t=[];t[0]=new v(i[0],i[1]);var n={data:t,okCallback:function(){u.closeView(e)}};u.openView(w.CongratulationView,null,n)}},o.clickBuy=function(){p.canGetReward(this._configID)&&y.pay(P["gift_"+this._configID])},o.clickClose=function(){u.closeView(this)},i}(h)).prototype,"itemPar",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(U.prototype,"foodPar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(U.prototype,"role",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(U.prototype,"buyButton",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(U.prototype,"priceLab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=U))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/PurchaseGiftView1004.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./UIManager.ts","./UIView.ts","./FoodConfig.ts","./ItemConfig.ts","./PurchaseGiftConfig.ts","./ItemData.ts","./EventUtility.ts","./GameUtility.ts","./GoogleBilling.ts","./SDKInfoMgr.ts","./ResourceTool.ts","./UIConfig.ts"],(function(e){"use strict";var i,t,n,r,o,c,a,l,s,f,u,h,g,d,p,v,b,I,m,y,P,C,w;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Node,l=e.Label},function(e){s=e.default},function(e){f=e.eventDispatcher},function(e){u=e.uiManager},function(e){h=e.UIView},function(e){g=e.foodConfig},function(e){d=e.itemConfig},function(e){p=e.purchaseGiftConfig},function(e){v=e.ItemData},function(e){b=e.MEventNames},function(e){I=e.EGameBundles},function(e){m=e.googleBillinger},function(e){y=e.SDKInfoMgr,P=e.PurchaseIDEM},function(e){C=e.ResourceTool},function(e){w=e.MUIConfig}],execute:function(){var D,R,U,A,B,G,_,L,V,N,k,E,S;o._RF.push({},"ef337qRJX9HsYtzwqtauaVC","PurchaseGiftView1004",void 0);var z=c.ccclass,M=c.property;e("PurchaseGiftView1004",(D=z("PurchaseGiftView1004"),R=M(a),U=M(a),A=M(a),B=M(a),G=M(l),D((V=i((L=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return i=e.call.apply(e,[this].concat(o))||this,n(i,"itemPar",V,r(i)),n(i,"foodPar",N,r(i)),n(i,"role",k,r(i)),n(i,"buyButton",E,r(i)),n(i,"priceLab",S,r(i)),i._configID=1004,i}t(i,e);var o=i.prototype;return o.onDisable=function(){f.off(b.RechargeRefresh,this,this.refreshUI),f.off(b.PurchaseGiftRecharge,this,this.clickClose)},o.onEnable=function(){f.on(b.RechargeRefresh,this,this.refreshUI),f.on(b.PurchaseGiftRecharge,this,this.clickClose)},o.onLoad=function(){y.isHaveOrderInfo||y.getAllRechargeOrder(),this.refreshUI()},o.onOpen=function(){this.buyButton.active=p.canGetReward(this._configID)>0},o.refreshUI=function(){var e=this,i=p.getRewardData(this._configID);if(i.item){var t=this.itemPar.getChildByName("icon"),n=this.itemPar.getChildByName("lab");this.setAllChildActive(t,!1),this.setAllChildActive(n,!1),i.item.forEach((function(i,r){t.children[r]&&(t.children[r].active=!0),n.children[r]&&(n.children[r].active=!0),C.setNodeSpriteFrame(I.LoadOnPlay,d.getItemIconUrl(i[0]),t.children[r],e),n.children[r]&&(n.children[r].getComponent(l).string="x"+i[1])}))}if(i.food){var r=this.foodPar.getChildByName("bg"),o=this.foodPar.getChildByName("icon");this.setAllChildActive(r,!1),this.setAllChildActive(o,!1),i.food.forEach((function(i,t){r.children[t]&&(r.children[t].active=!0),o.children[t]&&(o.children[t].active=!0),C.setNodeSpriteFrame(I.LoadOnPlay,g.getUIIcon(i),o.children[t],e)}))}i.skin>0&&C.setNodeSpriteFrame(I.LoadOnPlay,"Res/Texture/UI/AvatarFull/"+i.skin,this.role,this),this.refreshPrice()},o.refreshPrice=function(){this.priceLab.string=this.getPriceStr()},o.getPriceStr=function(){var e=p.getConfig(this._configID),i="";if(y.isHaveOrderInfo){var t=(i=y.orderDic[P["gift_"+e.Id]].price).match(/-?([1-9]\d*(\.\d*)*|0\.[1-9]\d*)/g);Number(t[0])}else i="$"+e.Price;return i},o.setAllChildActive=function(e,i){e.children.forEach((function(e){e.active=i}))},o.buySuccess=function(){var e=this;s.error("buy success");var i=p.getReward(this._configID);if(i){var t=[];t[0]=new v(i[0],i[1]);var n={data:t,okCallback:function(){u.closeView(e)}};u.openView(w.CongratulationView,null,n)}},o.clickBuy=function(){p.canGetReward(this._configID)&&m.pay(P["gift_"+this._configID])},o.clickClose=function(){u.closeView(this)},i}(h)).prototype,"itemPar",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(L.prototype,"foodPar",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(L.prototype,"role",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(L.prototype,"buyButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(L.prototype,"priceLab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=L))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/PurchaseGiftView1005.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./UIManager.ts","./UIView.ts","./ItemConfig.ts","./PurchaseGiftConfig.ts","./EventUtility.ts","./GameUtility.ts","./GoogleBilling.ts","./SDKInfoMgr.ts","./ResourceTool.ts"],(function(e){"use strict";var i,t,n,r,c,o,s,a,l,f,u,h,g,d,p,v,I,b,m,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){c=e.cclegacy,o=e._decorator,s=e.Node,a=e.Label},function(e){l=e.default},function(e){f=e.eventDispatcher},function(e){u=e.uiManager},function(e){h=e.UIView},function(e){g=e.itemConfig},function(e){d=e.purchaseGiftConfig},function(e){p=e.MEventNames},function(e){v=e.EGameBundles},function(e){I=e.googleBillinger},function(e){b=e.SDKInfoMgr,m=e.PurchaseIDEM},function(e){y=e.ResourceTool}],execute:function(){var P,D,C,_,w,B,R,G,U;c._RF.push({},"ab38dlFb7tHKI1BU0BOOHe+","PurchaseGiftView1005",void 0);var A=o.ccclass,L=o.property;e("PurchaseGiftView1005",(P=A("PurchaseGiftView1005"),D=L(s),C=L(s),_=L(a),P((R=i((B=function(e){function i(){for(var i,t=arguments.length,c=new Array(t),o=0;o<t;o++)c[o]=arguments[o];return i=e.call.apply(e,[this].concat(c))||this,n(i,"itemPar",R,r(i)),n(i,"buyButton",G,r(i)),n(i,"priceLab",U,r(i)),i._configID=1005,i}t(i,e);var c=i.prototype;return c.onDisable=function(){f.off(p.RechargeRefresh,this,this.refreshUI),f.off(p.PurchaseGiftRecharge,this,this.clickClose)},c.onEnable=function(){f.on(p.RechargeRefresh,this,this.refreshUI),f.on(p.PurchaseGiftRecharge,this,this.clickClose)},c.onLoad=function(){b.isHaveOrderInfo||b.getAllRechargeOrder()},c.onOpen=function(e){void 0===e&&(e=1005),this._configID=e,this.buyButton.active=d.canGetReward(this._configID)>0,this.refreshUI()},c.refreshUI=function(){var e=this,i=d.getRewardData(this._configID);this.setAllChildActive(this.itemPar,!1);var t=this.itemPar.getChildByName(this._configID+"");if(t){if(t.active=!0,i.item){var n=t.getChildByName("icon"),r=t.getChildByName("lab");this.setAllChildActive(n,!1),this.setAllChildActive(r,!1),i.item.forEach((function(i,t){n.children[t]&&(n.children[t].active=!0),r.children[t]&&(r.children[t].active=!0),y.setNodeSpriteFrame(v.LoadOnPlay,g.getItemIconUrl(i[0]),n.children[t],e),r.children[t]&&(r.children[t].getComponent(a).string="x"+i[1])}))}this.refreshPrice()}else l.info("no gift id : ",this._configID)},c.refreshPrice=function(){this.priceLab.string=this.getPriceStr()},c.getPriceStr=function(){var e=d.getConfig(this._configID),i="";if(b.isHaveOrderInfo){var t=(i=b.orderDic[m["gift_"+e.Id]].price).match(/-?([1-9]\d*(\.\d*)*|0\.[1-9]\d*)/g);Number(t[0])}else i="$"+e.Price;return i},c.setAllChildActive=function(e,i){e.children.forEach((function(e){e.active=i}))},c.clickBuy=function(){d.canGetReward(this._configID)&&I.pay(m["gift_"+this._configID])},c.clickClose=function(){u.closeView(this)},i}(h)).prototype,"itemPar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(B.prototype,"buyButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(B.prototype,"priceLab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=B))||w));c._RF.pop()}}}));

System.register("chunks:///_virtual/PurchaseGiftView1006.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./UIView.ts","./ItemConfig.ts","./PurchaseGiftConfig.ts","./EventUtility.ts","./GameUtility.ts","./GoogleBilling.ts","./SDKInfoMgr.ts","./ResourceTool.ts"],(function(e){"use strict";var t,i,n,r,c,o,s,a,l,f,u,h,g,d,p,v,I,y,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){c=e.cclegacy,o=e._decorator,s=e.Node,a=e.Label},function(e){l=e.eventDispatcher},function(e){f=e.uiManager},function(e){u=e.UIView},function(e){h=e.itemConfig},function(e){g=e.purchaseGiftConfig},function(e){d=e.MEventNames},function(e){p=e.EGameBundles},function(e){v=e.googleBillinger},function(e){I=e.SDKInfoMgr,y=e.PurchaseIDEM},function(e){m=e.ResourceTool}],execute:function(){var D,P,b,R,w,C,G;c._RF.push({},"5f07chSDtxBNIO1SAXDa+tH","PurchaseGiftView1006",void 0);var B=o.ccclass,U=o.property;e("PurchaseGiftView1006",(D=B("PurchaseGiftView1006"),P=U(s),b=U(s),D((C=t((w=function(e){function t(){for(var t,i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return t=e.call.apply(e,[this].concat(c))||this,n(t,"itemPar",C,r(t)),n(t,"buyButton",G,r(t)),t._configID=1006,t}i(t,e);var c=t.prototype;return c.onDisable=function(){l.off(d.RechargeRefresh,this,this.refreshUI),l.off(d.PurchaseGiftRecharge,this,this.clickClose)},c.onEnable=function(){l.on(d.RechargeRefresh,this,this.refreshUI),l.on(d.PurchaseGiftRecharge,this,this.clickClose)},c.onLoad=function(){I.isHaveOrderInfo||I.getAllRechargeOrder(),this.refreshUI()},c.onOpen=function(){this.buyButton.active=g.canGetReward(this._configID)>0},c.refreshUI=function(){var e=this,t=g.getRewardData(this._configID);if(t.item){var i=this.itemPar.getChildByName("icon"),n=this.itemPar.getChildByName("lab");this.setAllChildActive(i,!1),this.setAllChildActive(n,!1),t.item.forEach((function(t,r){i.children[r]&&(i.children[r].active=!0),n.children[r]&&(n.children[r].active=!0),m.setNodeSpriteFrame(p.LoadOnPlay,h.getItemIconUrl(t[0]),i.children[r],e),n.children[r]&&(n.children[r].getComponent(a).string="x"+t[1])}))}},c.setAllChildActive=function(e,t){e.children.forEach((function(e){e.active=t}))},c.clickBuy=function(){g.canGetReward(this._configID)&&v.pay(y["gift_"+this._configID])},c.clickClose=function(){f.closeView(this)},t}(u)).prototype,"itemPar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(w.prototype,"buyButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=w))||R));c._RF.pop()}}}));

System.register("chunks:///_virtual/ReferencePool.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"c1f2cf/o0ZMJL3tkl+08x3F","ReferencePool",void 0);var n="__refSign__",r=e("default",function(){function e(){}return e.clearAll=function(){var e=this.s_References;for(var t in e)delete e[t]},e.get=function(e){var t=this.getSign(e),r=this.getReferences(t),i=null;return r.length>0?i=r.pop():(i=new e,Object.defineProperty(i,n,{value:t})),i},e.recover=function(e){var t=e[n];if(t){var r=this.getReferences(t);e.clear(),r.indexOf(e)<0&&r.push(e)}},e.add=function(e,t){for(var r=this.getSign(e),i=this.getReferences(r);t-- >0;){var c=new e;Object.defineProperty(c,n,{value:r}),i.push(c)}},e.remove=function(e,t){var n=this.getSign(e),r=this.getReferences(n);if(t>r.length&&(t=r.length),t>0)for(;t-- >0;)r.pop()},e.removeAll=function(e){var t=this.getSign(e),n=this.getReferences(t);n.length&&(n.length=0)},e.getSign=function(e){return e[n]||Object.defineProperty(e,n,{value:++this.s_Id+""}),e[n]},e.getReferences=function(e){var t=this.s_References;return t[e]||(t[e]=[]),t[e]},e}());r.s_Id=0,r.s_References={},t._RF.pop()}}}));

System.register("chunks:///_virtual/RegionTool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./DataTable.ts"],(function(n){"use strict";var t,e,i,r,o,a,s;return{setters:[function(n){t=n.createClass,e=n.asyncToGenerator,i=n.regeneratorRuntime},function(n){r=n.cclegacy,o=n._decorator},function(n){a=n.dataTableManager},function(n){s=n.EDataTables}],execute:function(){var c,u;r._RF.push({},"996a5IG+9xJs4nRnVoQhvBl","RegionTool",void 0);var l=o.ccclass;o.property,n("RegionTool",l("RegionTool")(((u=function(){function n(){this.m_IsInit=!1,this.m_Region={}}var r=n.prototype;return r.init=function(){var n=e(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.m_IsInit){n.next=2;break}return n.abrupt("return");case 2:return this.m_IsInit=!0,n.next=5,this.initConfig();case 5:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),r.initConfig=function(){var n=this;return new Promise((function(t){var e=a.getDataTable(s.Region),i=null;for(var r in e)i=e[r],n.m_Region[i.Region]=i;t()}))},r.getRegionData=function(n){return this.m_Region[n]},t(n,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new n),this.m_Instance}}]),n}()).m_Instance=void 0,c=u))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/RenovationConfigView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./FacilityConfig.ts","./ItemConfig.ts","./StarConfig.ts","./FacilityTool.ts","./LobbyCameraControl.ts","./LobbyRoomData.ts","./LobbyUtility.ts","./EventUtility.ts","./ResourceTool.ts","./UITool.ts","./UIConfig.ts","./AreaTool.ts"],(function(t){"use strict";var i,e,n,o,a,r,c,l,s,u,f,m,g,h,b,y,p,v,S,d,I,F,C,E,L,U,D;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Label,l=t.Sprite,s=t.Node,u=t.Color},function(t){f=t.eventDispatcher},function(t){m=t.LocalizationHelper},function(t){g=t.uiManager},function(t){h=t.UIView},function(t){b=t.facilityConfig},function(t){y=t.itemConfig,p=t.EItemEnum},function(t){v=t.starConfig},function(t){S=t.FacilityTool},function(t){d=t.LobbyCameraControl},function(t){I=t.ELobbyRoomId},function(t){F=t.MLobbyEvent},function(t){C=t.MEventNames},function(t){E=t.ResourceTool},function(t){L=t.UITool},function(t){U=t.MUIConfig},function(t){D=t.AreaTool}],execute:function(){var w,T,N,R,_,B,k,V,z,P,A,G,O,K,M,j,H,x,J,Q,W;t("ERenovationState",void 0),a._RF.push({},"1537cWpPB1EQpNla3/85GJE","RenovationConfigView",void 0);var q,X=r.ccclass,Y=r.property;!function(t){t[t.USEING=0]="USEING",t[t.USE=1]="USE",t[t.UNLOCK=2]="UNLOCK",t[t.LOCKSTATE=3]="LOCKSTATE"}(q||(q=t("ERenovationState",{})));t("RenovationConfigView",(w=X("RenovationConfigView"),T=Y(c),N=Y(c),R=Y(c),_=Y(c),B=Y(c),k=Y(l),V=Y(s),z=Y(c),P=Y(s),w((O=i((G=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,n(i,"itemName",O,o(i)),n(i,"itemDec",K,o(i)),n(i,"itemgrade",M,o(i)),n(i,"buffgrade",j,o(i)),n(i,"itemBuff",H,o(i)),n(i,"itemIcon",x,o(i)),n(i,"itemState",J,o(i)),n(i,"itemPrice",Q,o(i)),n(i,"itemLockState",W,o(i)),i.m_FacilityData=void 0,i}e(i,t);var a=i.prototype;return a.onOpen=function(t){this.m_FacilityData=S.instance.getFaciliytTableData(t),this.initView();var i=this.getBtnState();this.setBtnState(i)},a.onClose=function(){f.event(C.CloseGoldAdView)},a.onEnable=function(){this.initEvent()},a.onDisable=function(){this.removeEvent()},a.initView=function(){var t=this.m_FacilityData,i=t.Icon;this.setIcon(i),this.itemName.string=this.getLocalString(t.Name),this.itemDec.string=this.getLocalString(t.Lnfo);var e=t.EnvironmentGain;this.itemgrade.string="+ "+e;var n=S.instance.getFacilityBuff(t.Id);if(this.itemBuff.node.active=null!=n,this.buffgrade.node.active=null!=n,n){this.itemBuff.string=this.getLocalString(n.attributeDec);var o=""+n.attributeValue;this.buffgrade.string=o}},a.setIcon=function(t){E.setSpriteFrame(S.instance.getIconBundleName(),S.instance.getItemIconUrl(t),this.itemIcon,this.node)},a.initEvent=function(){f.on(C.RefreshItemNumber,this,this.RefreshItemNunber)},a.removeEvent=function(){f.off(C.RefreshItemNumber,this,this.RefreshItemNunber)},a.clickCloseBtn=function(){this.destroyClass()},a.clickUseBtn=function(){this.setEnableFacility()},a.clickUnlockBtn=function(){var t=v.getStar(),i=this.m_FacilityData.Star;if(t>=i){var e=this.m_FacilityData.Gold;y.useItem(p.money,e)?this.setEnableFacility():L.instance.haveNoAD?g.openView(U.ShopDepotView):g.openView(U.TipView,null,{content:m.getString("1_17")})}else{var n=v.getStarNameByStar(i);g.openView(U.TipView,null,{content:m.getString("16_13",[n])})}},a.destroyClass=function(){g.closeView(this)},a.getLocalString=function(t){return m.getString(t)},a.setEnableFacility=function(){var t=this.m_FacilityData.Sub_id,i=this.m_FacilityData.Id,e=this.m_FacilityData.AreaType;b.unlockFacilityId(t,i),b.setEnableFacility(t,i),this.destroyClass(),f.event(F.UpdateConstructItem,[e,i,t]),f.event(C.RenovationSelectItem);var n=this.jumpToRoomId(e);d.instance.jumpToRoomId(n)},a.jumpToRoomId=function(t){return-1==D.instance.isSubId(t)?t:I.Private},a.getBtnState=function(){var t=this.m_FacilityData.Sub_id,i=this.m_FacilityData.Id;return b.getFacilityEnableId(t,i)?q.USEING:b.isUnlockFacilityId(t,i)?q.USE:S.instance.getIsUnlock(i).isUnlock?q.UNLOCK:q.LOCKSTATE},a.setBtnState=function(t){for(var i=this.itemState.children,e=0;e<i.length;e++){i[e].active=t==e}t==q.UNLOCK&&this.setUnlockPrice(),t==q.LOCKSTATE&&this.setLockState()},a.setUnlockPrice=function(t){void 0===t&&(t=!0);var i=this.m_FacilityData.Gold;this.itemPrice.string=i+"";var e=y.itemEnough(p.money,i),n=e?"#FFFFFF":"#FF0000";this.itemPrice.color=new u(n),!e&&t&&L.isOpenADGetGold(i)},a.setLockState=function(){var t=this.m_FacilityData,i=v.curStarID,e=this.itemLockState.getComponentsInChildren(c),n=t.PreId,o=t.Star,a=S.instance.getFaciliytTableData(n);if(i>=o)e[3].node.active=!1,e[2].string=m.getString(a.Name);else{var r=v.getStarNameByStar(o);e[2].string=r}},a.RefreshItemNunber=function(){this.setUnlockPrice(!1)},i}(h)).prototype,"itemName",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(G.prototype,"itemDec",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(G.prototype,"itemgrade",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(G.prototype,"buffgrade",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(G.prototype,"itemBuff",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(G.prototype,"itemIcon",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(G.prototype,"itemState",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(G.prototype,"itemPrice",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(G.prototype,"itemLockState",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=G))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/RenovationSchemeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./List.ts","./UIManager.ts","./UIView.ts","./SuitConfig.ts","./EventUtility.ts","./UIConfig.ts","./SchemeItem.ts"],(function(e){"use strict";var t,n,i,o,a,c,s,u,r,h,v,f,l,m,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,c=e._decorator},function(e){s=e.eventDispatcher},function(e){u=e.default},function(e){r=e.uiManager},function(e){h=e.UIView},function(e){v=e.suitConfig},function(e){f=e.MEventNames},function(e){l=e.MUIConfig},function(e){m=e.SchemeItem,S=e.SchemeItemStart}],execute:function(){var p,R,d,w,g;a._RF.push({},"fbf6f4I7PlOL4wtbREJCgzG","RenovationSchemeView",void 0);var V=c.ccclass,y=c.property;e("RenovationSchemeView",(p=V("RenovationSchemeView"),R=y(u),p((g=t((w=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a))||this,i(t,"ListView",g,o(t)),t.m_Data={},t}n(t,e);var a=t.prototype;return a.onOpen=function(){this.updateRenovationScheme()},a.onEnable=function(){this.initEvent()},a.onDisable=function(){this.removeEvent()},a.initEvent=function(){s.on(f.addRenovationScheme,this,this.updateRenovationScheme),s.on(f.SaveRenovationScheme,this,this.SaveRenovationScheme),s.on(f.updateRenovationName,this,this.SaveRenovationScheme)},a.removeEvent=function(){s.off(f.addRenovationScheme,this,this.updateRenovationScheme),s.off(f.SaveRenovationScheme,this,this.SaveRenovationScheme),s.off(f.updateRenovationName,this,this.SaveRenovationScheme)},a.clickCloseBtn=function(){this.destroyClass()},a.destroyClass=function(){r.closeView(this)},a.clickReplaceBtn=function(){r.openView(l.RenovationSuitView)},a.onListVRender=function(e,t){var n=e.getComponent(m),i=S.CREATE;v.SuitLength==t&&(i=S.LOCK);var o=this.m_Data[t];o&&null==o.name&&(i=null==o.facilityVec?S.ADD:S.CREATE);n.initItem(t,this.m_Data[t],i)},a.updateRenovationScheme=function(){this.m_Data=v.renovationLst;var e=v.renovationLst.length;e=0==e?2:e+1,this.ListView.numItems=e},a.SaveRenovationScheme=function(e){this.ListView.updateItem(e)},t}(h)).prototype,"ListView",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=w))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/RenovationSuitItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./ListItem.ts","./LocalizationHelper.ts","./FacilityConfig.ts","./FacilityTool.ts","./EventUtility.ts","./GameUtility.ts","./ResourceTool.ts"],(function(t){"use strict";var i,e,n,a,o,r,l,c,u,s,f,p,m,v,y,b,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,l=t.Label,c=t.Node,u=t.Sprite},function(t){s=t.eventDispatcher},function(t){f=t.default},function(t){p=t.LocalizationHelper},function(t){m=t.facilityConfig},function(t){v=t.FacilityTool},function(t){y=t.MEventNames},function(t){b=t.EGameBundles},function(t){g=t.ResourceTool}],execute:function(){var h,I,d,L,k,F,S,R,T,_,z;o._RF.push({},"6618fVBtwJJcJPROCxnOFjL","RenovationSuitItem",void 0);var D=r.ccclass,U=r.property;t("RenovationSuitItem",(h=D("RenovationSuitItem"),I=U(l),d=U(l),L=U(c),k=U(u),h((R=i((S=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return i=t.call.apply(t,[this].concat(o))||this,n(i,"nameLab",R,a(i)),n(i,"lackLab",T,a(i)),n(i,"unlock",_,a(i)),n(i,"icon",z,a(i)),i.m_Idx=0,i.m_Data=null,i}e(i,t);var o=i.prototype;return o.initItem=function(t,i){this.m_Idx=t,this.m_Data=i;var e=i.ISuiTable,n=e.SuitName;this.nameLab.string=p.getString(n);var a=e.Icon;g.setSpriteFrame(b.LoadOnPlay,v.instance.getItemIconUrl(a),this.icon,this.node);var o=this.getUnlock(i.AfacilityVec);if(-1==o)this.unlock.active=!1;else{var r=v.instance.getFaciliytTableData(o);this.lackLab.string=p.getString(r.Name)}},o.getUnlock=function(t){var i=t;for(var e in i){var n=i[e],a=parseInt(e);if(!m.isUnlockFacilityId(a,n))return n}return-1},o.clickTouch=function(){if(!this.unlock.active){var t=this.m_Data.AfacilityVec;t&&(m.useFacilityLst=t,m.useFacilityToareaId(),s.event(y.UpdateAllAreaUnlock))}},i}(f)).prototype,"nameLab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(S.prototype,"lackLab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(S.prototype,"unlock",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(S.prototype,"icon",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=S))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/RenovationSuitView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./List.ts","./UIManager.ts","./UIView.ts","./SuitTool.ts","./RenovationSuitItem.ts"],(function(t){"use strict";var i,e,n,o,a,s,r,u,c,l,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator},function(t){r=t.default},function(t){u=t.uiManager},function(t){c=t.UIView},function(t){l=t.SuitTool},function(t){f=t.RenovationSuitItem}],execute:function(){var p,v,h,m,w;a._RF.push({},"896bazcW41OF71XeHiQBAmd","RenovationSuitView",void 0);var y=s.ccclass,S=s.property;t("RenovationSuitView",(p=y("RenovationSuitView"),v=S(r),p((w=i((m=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return i=t.call.apply(t,[this].concat(a))||this,n(i,"ListView",w,o(i)),i.m_Data=null,i}e(i,t);var a=i.prototype;return a.onOpen=function(){this.m_Data=l.instance.SuitData;var t=Object.keys(l.instance.SuitData).length;this.ListView.numItems=t},a.clickCloseBtn=function(){this.destroyClass()},a.destroyClass=function(){u.closeView(this)},a.onListVRender=function(t,i){t.getComponent(f).initItem(i,this.m_Data[i+1])},i}(c)).prototype,"ListView",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/RenovationView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./FacilityConfig.ts","./GoodReputationConfig.ts","./ItemConfig.ts","./StarConfig.ts","./NoviceGuideMgr.ts","./AreaTool.ts","./FacilityTool.ts","./RegionTool.ts","./LobbyCameraControl.ts","./LobbyRoomData.ts","./EventUtility.ts","./UITool.ts","./UIConfig.ts","./BookNode.ts","./SelectTable.ts","./TableNode.ts"],(function(e){"use strict";var t,i,n,o,l,a,c,r,s,u,d,f,b,h,g,T,p,m,k,I,S,v,y,w,R,C,N,B,U,V,L,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,c=e.Node,r=e.Label,s=e.UITransform},function(e){u=e.eventDispatcher},function(e){d=e.LocalizationHelper},function(e){f=e.uiManager},function(e){b=e.UIView},function(e){h=e.facilityConfig},function(e){g=e.EGoodReputationEnum,T=e.goodReputationConfig},function(e){p=e.itemConfig,m=e.EItemEnum},function(e){k=e.starConfig},function(e){I=e.NoviceGuideMgr,S=e.EGuideClickEnum},function(e){v=e.AreaTool},function(e){y=e.FacilityTool},function(e){w=e.RegionTool},function(e){R=e.LobbyCameraControl},function(e){C=e.ELobbyRoomId},function(e){N=e.MEventNames},function(e){B=e.UITool},function(e){U=e.MUIConfig},function(e){V=e.BookNode},function(e){L=e.SelectTable},function(e){_=e.TableNode}],execute:function(){var E,z,F,D,G,M,P,A,x,O,H,j,W,q,J,K,Q,X,Y,Z,$,ee,te;l._RF.push({},"e65eckfL75KsqJ5P4ew7Dyk","RenovationView",void 0);var ie=a.ccclass,ne=a.property,oe=[3,4],le=[g.terraceUnlock,g.secondFloorUnlock];e("RenovationView",(E=ie("RenovationView"),z=ne(_),F=ne(V),D=ne(L),G=ne(c),M=ne(r),P=ne(r),A=ne(c),x=ne(r),O=ne(s),H=ne(r),E((q=t((W=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,n(t,"TableNode",q,o(t)),n(t,"BookNode",J,o(t)),n(t,"SelectTable",K,o(t)),n(t,"unlockView",Q,o(t)),n(t,"unlockStar",X,o(t)),n(t,"moneyLab",Y,o(t)),n(t,"unlockBtn",Z,o(t)),n(t,"msLab",$,o(t)),n(t,"tipTransform",ee,o(t)),n(t,"tipsLabel",te,o(t)),t.m_RegionId=0,t.m_isCheck=0,t}i(t,e);var l=t.prototype;return l.start=function(){},l.onEnable=function(){this.initEvent()},l.onDisable=function(){this.removeEvent()},l.onOpen=function(e,t,i){this.SelectTable.onInit({ATagert:this,FTouchCallback:this.UpdateTable}),this.TableNode.onOpen({ATagert:this,FTouchCallback:this.ClickTableId},e),null!=t?(this.ClickTableId(e),3==e&&(this.SelectTable.Selelcted=t)):3==e&&(this.SelectTable.Selelcted=this.SelectTable.SelelctedId),I.instance.isDone()?this.msLab.string=d.getString("16_11"):this.msLab.string=d.getString("38_5"),this.m_isCheck=0,this.scrollToTable(i)},l.scrollToTable=function(e){if(e){var t=e.tableId,i=e.cellId,n=0,o=null;if(t){var l=v.instance.getRegionIdToTableId(t),a=l.areaId;n=l.tableId;var c=v.instance.isSubId(a);-1!=c?(this.ClickTableId(3),this.TableNode.SelectedId=3,this.SelectTable.Selelcted=c):this.TableNode.SelectedId=v.instance.RegionId.indexOf(a),this.BookNode.updateTable(a)}if(i){var r=y.instance.getFacilityToCellId(i),s=r.tableId,u=r.subId;n=v.instance.getFacilityToTableId(s,u),o=r.cellId,this.TableNode.SelectedId=v.instance.RegionId.indexOf(s),this.ClickTableId(s),this.BookNode.updateTable(s)}this.BookNode.scrollTo(n,o)}},l.onResume=function(){},l.initEvent=function(){u.on(N.RenovationSelectItem,this,this.clickCloseBtn)},l.removeEvent=function(){u.off(N.RenovationSelectItem,this,this.clickCloseBtn)},l.refreshGuildPos=function(e){if(e.click==S.layerButton)switch(e.itemIndex){case 1:case-1:this.unlockBtn.getWorldPosition(B.instance.guideHandWorldPos)}},l.clickCloseBtn=function(){this.destroyClass()},l.destroyClass=function(){f.closeView(this),this.TableNode.SelectedId=-1},l.ClickTableId=function(e){var t=3==e;this.SelectTable.isShow(t),this.setTipsBgTransform(t),this.UpdateTable(e),R.instance.jumpToRoomId(e)},l.UpdateTable=function(e){var t=this.checkUnlockTab(e);this.unlockView.active=t,this.BookNode.node.active=!t,t?this.ShowUnlockView(e):(this.BookNode.TabelId!=e&&(this.BookNode.TabelId=e,this.BookNode.scrollTo(0,0)),this.BookNode.updateTable(e))},l.onClickUnlock=function(){var e=w.instance.getRegionData(this.m_RegionId),t=e.Star;if(k.getStar()<t){var i=k.getStarNameByStar(t);f.openView(U.TipView,null,{content:d.getString("16_13",[i])})}else{var n=e.Gold;if(p.useItem(m.money,n)){h.unlockFacilitySubId(this.m_RegionId),h.setUnlockRegion(this.m_RegionId),this.checkGoodReputation(this.m_RegionId),u.event(N.UpdateAreaUnlock,this.m_RegionId);var o=e.Region;o=o>5?C.Private:o,R.instance.jumpToRoomId(o),this.destroyClass()}else f.openView(U.TipView,null,{content:d.getString("1_17")})}},l.onClickUnlockStar=function(){f.openView(U.StarInfoView)},l.onClickSheme=function(){f.openView(U.TipView,null,{content:d.getString("1_26")})},l.checkUnlockTab=function(e){return h.getUnlockRegion(e)},l.ShowUnlockView=function(e){var t=w.instance.getRegionData(e);this.m_RegionId=e;var i=t.Star;this.unlockStar.string=0==i?"":k.getStarNameByStar(i),this.moneyLab.string=t.Gold+"",this.unlockStar.node.parent.active=0!=i,this.unlockView.active=!0},l.setTipsBgTransform=function(e){this.tipTransform&&(this.tipTransform.width=e?225:845)},l.checkGoodReputation=function(e){var t=oe.indexOf(e);-1!=t&&T.canReputate(le[t])},t}(b)).prototype,"TableNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(W.prototype,"BookNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(W.prototype,"SelectTable",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(W.prototype,"unlockView",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(W.prototype,"unlockStar",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(W.prototype,"moneyLab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(W.prototype,"unlockBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(W.prototype,"msLab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(W.prototype,"tipTransform",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(W.prototype,"tipsLabel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=W))||j));l._RF.pop()}}}));

System.register("chunks:///_virtual/ReplaceNameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./SuitConfig.ts","./EventUtility.ts"],(function(t){"use strict";var e,i,n,o,r,a,s,c,l,u,p,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.EditBox},function(t){c=t.eventDispatcher},function(t){l=t.LocalizationHelper},function(t){u=t.uiManager},function(t){p=t.UIView},function(t){f=t.suitConfig},function(t){h=t.MEventNames}],execute:function(){var d,g,m,v,_;r._RF.push({},"bfd18DjuSNN2LX9TYTTiUTQ","ReplaceNameView",void 0);var S=a.ccclass,y=a.property,w="46_8";t("ReplaceNameView",(d=S("ReplaceNameView"),g=y(s),d((_=e((v=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"editbox",_,o(e)),e.m_Id=0,e.m_Str="",e}i(e,t);var r=e.prototype;return r.onOpen=function(t){this.m_Id=t;var e=f.getRenovationData(t);if(e){var i=null==e.name?l.getString(w):e.name;this.editbox.string=i}},r.clickCloseBtn=function(){this.destroyClass()},r.destroyClass=function(){u.closeView(this)},r.clickReplaceBtn=function(){0==this.m_Str.length&&(this.m_Str=l.getString(w)),f.updateRenovationName(this.m_Id,this.m_Str),c.event(h.SaveRenovationScheme,this.m_Id),u.closeView(this)},r.onEditDidEnded=function(t,e){var i=t.string;0==i.length&&(i=l.getString(w)),this.m_Str=i},e}(p)).prototype,"editbox",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/ResearchExchangeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./ExchangeConfig.ts","./FoodConfig.ts","./ItemConfig.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts","./UIConfig.ts","./ExchangeProgressBar.ts"],(function(e){"use strict";var t,n,i,a,r,o,s,u,c,l,h,g,m,p,b,d,f,_,y,w,I,x,L,v,N,E,C,B,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Button,u=e.Label,c=e.Node,l=e.Sprite,h=e.Vec3,g=e.director,m=e.Component},function(e){p=e.eventDispatcher},function(e){b=e.dataTableManager},function(e){d=e.LocalizationHelper},function(e){f=e.uiManager},function(e){_=e.exchangeConfig},function(e){y=e.foodConfig},function(e){w=e.EItemEnum,I=e.itemConfig},function(e){x=e.EDataTables},function(e){L=e.MEventNames},function(e){v=e.EGameBundles},function(e){N=e.AudioTool,E=e.ESoundType},function(e){C=e.ResourceTool},function(e){B=e.MUIConfig},function(e){z=e.ExchangeProgressBar}],execute:function(){var R,T,P,D,k,S,F,M,U,V,A,O,H,G,j,q,J,K,Q,W,X;r._RF.push({},"687dasr1VRF5p92q4LIF/34","ResearchExchangeItem",void 0);var Y=o.ccclass,Z=o.property;e("ResearchExchangeItem",(R=Y("ResearchExchangeItem"),T=Z({type:s,displayName:""}),P=Z({type:u,displayName:""}),D=Z({type:u,displayName:""}),k=Z({type:u,displayName:""}),S=Z({type:u,displayName:""}),F=Z({type:u,displayName:""}),M=Z({type:u,displayName:""}),U=Z({type:u,displayName:""}),V=Z({type:c,displayName:""}),R((H=t((O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"exchange_btn",H,a(t)),i(t,"prizeLab",G,a(t)),i(t,"numLab",j,a(t)),i(t,"day_num_Lab",q,a(t)),i(t,"ownerLab",J,a(t)),i(t,"desLab",K,a(t)),i(t,"nameLab",Q,a(t)),i(t,"exchange_lab",W,a(t)),i(t,"exchangeProgressBar",X,a(t)),t.show_index=-1,t.show_item_id=-1,t.assetItem=null,t.price=1,t.once_buy_num=1,t}n(t,e);var r=t.prototype;return r.onDestroy=function(){p.off(L.ResearchExchangeFlushNum,this,this._flushCanBuy)},r.start=function(){p.on(L.ResearchExchangeFlushNum,this,this._flushCanBuy)},r.setData=function(e,t){this.show_index=e,this.assetItem=t;var n=b.getData(x.OpeningExchange,e),i=this.node.getChildByName("icon").getComponent(l),a=-1==n.ItemId?"Res/Texture/UI/Public/Item/lh1":"Res/Texture/UI/Public/Item/item_"+n.ItemId;if(C.setSpriteFrame(v.LoadOnPlay,a,i,t,(function(e,t){})),this.show_item_id=n.ItemId,-1==n.ItemId)this.nameLab.string=d.getString("22_2"),this.ownerLab.node.active=!1,this.numLab.node.active=!1,this.day_num_Lab.node.active=!1,this.exchangeProgressBar.active=!1,this.nameLab.node.position=this.nameLab.node.position.add(new h(0,-50,0)),this.desLab.node.position=this.desLab.node.position.add(new h(0,-50,0));else{var r=b.getData(x.Item,n.ItemId);this.nameLab.string=d.getString(r.Name),this.numLab.string=1==n.Num?"":n.Num+"",this.once_buy_num=n.Num}n.ItemId,w.worker_book,this.desLab.string=d.getString(n.ItemDes),this.price=n.Price,this.prizeLab.string=n.Price+"",this._flushCanBuy()},r._flushCanBuy=function(){-1!=this.show_item_id&&(this.ownerLab.string=d.getString("22_8",[I.getItemNum(this.show_item_id)])),this.day_num_Lab.string="";var e=~~(I.getItemNum(w.clover)/this.price);if(this.show_item_id==w.worker_book){var t=_.getExchangeTimes(this.show_index);e=Math.min(t,e),t<=0&&(e=0),this.day_num_Lab.string=d.getString("22_5")+t}this.exchangeProgressBar.getComponent(z).setData(e),this.exchange_btn.interactable=0!=e},r.update=function(e){g.getTotalFrames()%10==0&&(this.exchange_lab.string=d.getString("22_6",[this.exchangeProgressBar.getComponent(z).getOutNum()]))},r.c_clickExchange=function(){N.play(E.ui_click);var e=this.exchangeProgressBar.getComponent(z).getOutNum(),t=e*this.price,n=e*this.once_buy_num;if(I.useItem(w.clover,t),-1==this.show_item_id){if(y.checkAllUnlock())return void f.openView(B.TipView,null,{content:d.getString("21_16")});f.openView(B.ResearchResultView,null)}else I.addItem(this.show_item_id,n,!0),this.show_item_id==w.worker_book&&_.useExchangeTimes(this.show_index,e);p.event(L.ResearchExchangeFlushNum)},t}(m)).prototype,"exchange_btn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(O.prototype,"prizeLab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(O.prototype,"numLab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(O.prototype,"day_num_Lab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(O.prototype,"ownerLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(O.prototype,"desLab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(O.prototype,"nameLab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(O.prototype,"exchange_lab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(O.prototype,"exchangeProgressBar",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=O))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/ResearchExchangeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./ItemConfig.ts","./DataTable.ts","./EventUtility.ts","./AudioTool.ts","./ResearchExchangeItem.ts"],(function(e){"use strict";var t,n,i,a,o,r,c,l,s,u,h,f,b,p,m,g,d,y,v,E,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,c=e.Node,l=e.Label,s=e.Layout},function(e){u=e.eventDispatcher},function(e){h=e.dataTableManager},function(e){f=e.uiManager},function(e){b=e.UIView},function(e){p=e.default},function(e){m=e.itemConfig,g=e.EItemEnum},function(e){d=e.EDataTables},function(e){y=e.MEventNames},function(e){v=e.AudioTool,E=e.ESoundType},function(e){I=e.ResearchExchangeItem}],execute:function(){var L,_,x,w,k,C,R,T,D,U,V,z,N;o._RF.push({},"d7f3e697eRIKZ53qoPBVxOB","ResearchExchangeView",void 0);var A=r.ccclass,M=r.property;e("ResearchExchangeView",(L=A("ResearchExchangeView"),_=M({type:c,displayName:""}),x=M(l),w=M(l),k=M(s),C=M(c),L((D=t((T=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"book_readme_Label",D,a(t)),i(t,"cloverLab",U,a(t)),i(t,"bookLab",V,a(t)),i(t,"itemLayout",z,a(t)),i(t,"shopExchangeItem",N,a(t)),t}n(t,e);var o=t.prototype;return o.onClose=function(){this.itemLayout.node.destroyAllChildren(),u.offAllCaller(this)},o.onOpen=function(){var e=this;v.play(E.ui_open),u.on(y.ResearchExchangeFlushNum,this,this.refreshUI),this.shopExchangeItem.active=!1,this.book_readme_Label.active=!1,h.getDataTableArray(d.OpeningExchange).forEach((function(t,n){if(2==t.ChangeType){var i=p.instantiate(e.shopExchangeItem.name,e.shopExchangeItem,!0);i.active=!0,e.itemLayout.node.addChild(i),i.getComponent(I).setData(t.Id,e)}}));var t=p.instantiate(this.book_readme_Label.name,this.book_readme_Label,!0);t.active=!0,this.itemLayout.node.insertChild(t,1),this.refreshUI()},o.refreshUI=function(){this.cloverLab.string=""+m.getItemNum(g.clover),this.bookLab.string=""+m.getItemNum(g.worker_book)},o.c_clickClose=function(){v.play(E.ui_click),f.closeView(this)},t}(b)).prototype,"book_readme_Label",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(T.prototype,"cloverLab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(T.prototype,"bookLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(T.prototype,"itemLayout",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(T.prototype,"shopExchangeItem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=T))||R));o._RF.pop()}}}));

System.register("chunks:///_virtual/ResearchItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./ItemConfig.ts","./EventUtility.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts","./UIConfig.ts"],(function(e){"use strict";var t,n,i,o,s,u,r,a,l,c,h,f,m,p,d,_,y,g,b,I,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,u=e._decorator,r=e.Node,a=e.Sprite,l=e.Label,c=e.Color,h=e.director,f=e.Component},function(e){m=e.eventDispatcher},function(e){p=e.uiManager},function(e){d=e.itemConfig},function(e){_=e.MEventNames},function(e){y=e.EGameBundles},function(e){g=e.AudioTool,b=e.ESoundType},function(e){I=e.ResourceTool},function(e){R=e.MUIConfig}],execute:function(){var v,N,w,C,T,E,F;s._RF.push({},"244bbR3FVpKRI+IkOKG9h7M","ResearchItem",void 0);var x=u.ccclass,D=u.property;e("ResearchItem",(v=x("ResearchItem"),N=D({type:r,displayName:""}),w=D({type:a,displayName:""}),v((E=t((T=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];return t=e.call.apply(e,[this].concat(s))||this,i(t,"num_lab",E,o(t)),i(t,"icon",F,o(t)),t.assetItem=null,t.show_index=-1,t}n(t,e);var s=t.prototype;return s.onDestroy=function(){m.off(_.ResearchEndFlushNum,this,this._flushNum),this.unscheduleAllCallbacks()},s.start=function(){m.on(_.ResearchEndFlushNum,this,this._flushNum)},s.setData=function(e,t){this.show_index=e,this.assetItem=t,I.setSpriteFrame(y.LoadOnPlay,"Res/Texture/UI/Public/Item/item_"+e,this.icon,t,(function(e,t){})),this._flushNum()},s._flushNum=function(){var e=d.getItemNum(this.show_index);this.num_lab.getComponent(l).string=e+"",this.num_lab.getComponent(l).color=0==e?new c(231,10,10,255):new c(137,218,53,255)},s.c_open_readme=function(){g.play(b.ui_click),p.openView(R.ResearchReadmeView,null,this.show_index)},s.update=function(){h.getTotalFrames()%20==0&&this._flushNum()},t}(f)).prototype,"num_lab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(T.prototype,"icon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=T))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/ResearchReadmeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./LocalizationHelper.ts","./UIView.ts","./DataTable.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts"],(function(e){"use strict";var t,i,n,a,r,o,l,c,u,s,p,f,b,m,y,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Label,c=e.Sprite},function(e){u=e.dataTableManager},function(e){s=e.LocalizationHelper},function(e){p=e.UIView},function(e){f=e.EDataTables},function(e){b=e.EGameBundles},function(e){m=e.AudioTool,y=e.ESoundType},function(e){d=e.ResourceTool}],execute:function(){var g,h,R,_,T,w,v,D,I;r._RF.push({},"810a2fghS5DtqvC+P4OvacM","ResearchReadmeView",void 0);var z=o.ccclass,S=o.property;e("ResearchReadmeView",(g=z("ResearchReadmeView"),h=S({type:l,displayName:""}),R=S({type:l,displayName:""}),_=S({type:c,displayName:""}),g((v=t((w=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"info_lab",v,a(t)),n(t,"name_lab",D,a(t)),n(t,"icon",I,a(t)),t}return i(t,e),t.prototype.onOpen=function(e){m.play(y.ui_open);var t=u.getData(f.Item,e);this.name_lab.string=s.getString(t.Name),this.info_lab.string=s.getString(t.Info),d.setSpriteFrame(b.LoadOnPlay,"Res/Texture/UI/Public/Item/item_"+t.Id,this.icon,this,(function(e,t){}))},t}(p)).prototype,"info_lab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(w.prototype,"name_lab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(w.prototype,"icon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=w))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/ResearchResultView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./FoodConfig.ts","./ItemConfig.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts"],(function(e){"use strict";var t,i,n,a,o,l,r,s,c,u,h,p,f,m,g,d,y,_,b,w,v,C,N,B,R,S,E,I,T,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,r=e.Node,s=e.RichText,c=e.Label,u=e.Sprite,h=e.color,p=e.Vec3,f=e.sp,m=e.tween,g=e.UIOpacity},function(e){d=e.default},function(e){y=e.eventDispatcher},function(e){_=e.dataTableManager},function(e){b=e.LocalizationHelper},function(e){w=e.uiManager},function(e){v=e.UIView},function(e){C=e.foodConfig},function(e){N=e.itemConfig,B=e.EItemEnum},function(e){R=e.EDataTables},function(e){S=e.MEventNames},function(e){E=e.EGameBundles},function(e){I=e.AudioTool,T=e.ESoundType},function(e){z=e.ResourceTool}],execute:function(){var A,F,U,D,L,V,M,k,G,H,P,x,O,j,J,Q,q,K,W;o._RF.push({},"7f3195TmS1HlacQmfU+7aJM","ResearchResultView",void 0);var X=l.ccclass,Y=l.property;e("ResearchResultView",(A=X("ResearchResultView"),F=Y({type:r,displayName:""}),U=Y({type:r,displayName:""}),D=Y({type:r,displayName:""}),L=Y({type:r,displayName:""}),V=Y({type:r,displayName:""}),M=Y({type:r,displayName:""}),k=Y({type:s,displayName:""}),G=Y({type:c,displayName:""}),A((x=t((P=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"shine_food",x,a(t)),n(t,"bg_light",O,a(t)),n(t,"certain_btn",j,a(t)),n(t,"labels",J,a(t)),n(t,"name_container",Q,a(t)),n(t,"title",q,a(t)),n(t,"same_lab",K,a(t)),n(t,"name_lab",W,a(t)),t.showArr=[],t}i(t,e);var o=t.prototype;return o.onOpen=function(e){this.showArr=e,e||(this.showArr=[C.randomGetUnlockFood()],this.node.getChildByName("mask").getComponent(u).color=h(0,0,0,220)),this._resetEffect(),d.info("all:",this.showArr.toString()),this._tryShowFirst()},o._resetEffect=function(){this.node.getChildByName("content").getChildByName("icon").active=!1,this.bg_light.active=!1,this.title.position=new p(0,500,0),this.name_container.active=!1,this.labels.active=!1,this.certain_btn.active=!1,this.same_lab.node.active=!1},o._tryShowFirst=function(){var e=this.showArr.shift();e?this._showGetEffect(e):(w.closeView(this),y.event(S.ResearchResultViewClose))},o._showGetEffect=function(e){var t=this,i=_.getData(R.Food,e[0]),n=this.node.getChildByName("content").getChildByName("icon");z.setSpriteFrame(E.LoadOnPlay,"Res/Texture/UI/Food/UI_Icon_"+i.Icon,n.getComponent(u),this,(function(i,a){t.shine_food.active=!0,t.shine_food.getComponent(f.Skeleton).setAnimation(1,"idle",!1),n.active=!0,t._showLastAnimation(e)}))},o._showLastAnimation=function(e){var t=this;m(this.title).delay(.2).to(.3,{position:new p(0,-300,0)}).start(),this.bg_light.active=!0,m(this.name_container).delay(.4).call((function(){t.name_container.active=!0})).to(.2,{scale:new p(1.2,1.2,1.2)}).to(.1,{scale:new p(.9,.9,.9)}).to(.08,{scale:new p(1,1,1)}).start(),m(this.labels.getComponent(g)).delay(.6).call((function(){t.labels.active=!0,t.labels.getComponent(g).opacity=0})).to(.3,{opacity:255}).start(),m(this.certain_btn).delay(.7).call((function(){t.certain_btn.active=!0,t.same_lab.node.active=!0})).start();var i=_.getData(R.Food,e[0]);this.name_lab.string=b.getString(i.Name);var n=this.labels.getChildByName("type0"),a=this.labels.getChildByName("type1");if(n.getChildByName("score_lab").getComponent(c).string=i.Score.split("_")[0]+"",a.getChildByName("price_lab").getComponent(c).string=i.Sale.split("_")[0]+"",a.getChildByName("base_lab").getComponent(c).string=i.Buy+"",this.labels.getChildByName("readme_lab").getComponent(c).string=b.getString(i.Info),this.labels.getChildByName("type0").active=e[1],this.labels.getChildByName("type1").setPosition(e[1]?new p(0,0,0):new p(-142,0,0)),this.name_container.getChildByName("rare_icon").active=1==i.Rare,e[1])this.same_lab.string="";else{var o=i.Repeat,l=this._add_color_to_str("#ebe5d5",b.getString("21_12",[this._add_color_to_str("#7cd408"," "+o+" ")]));this.same_lab.string=l,N.addItem(B.clover,o)}},o._add_color_to_str=function(e,t){return"<color="+e+">"+t+"</color>"},o.c_certain=function(){I.play(T.ui_click),this._resetEffect(),this._tryShowFirst()},t}(v)).prototype,"shine_food",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(P.prototype,"bg_light",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(P.prototype,"certain_btn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(P.prototype,"labels",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(P.prototype,"name_container",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(P.prototype,"title",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(P.prototype,"same_lab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(P.prototype,"name_lab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=P))||H));o._RF.pop()}}}));

System.register("chunks:///_virtual/ResearchView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./FoodConfig.ts","./ItemConfig.ts","./PurchaseGiftConfig.ts","./TaskConfig.ts","./NoviceGuideMgr.ts","./DataTable.ts","./EventUtility.ts","./GoogleFirebase.ts","./AudioTool.ts","./UITool.ts","./UIConfig.ts","./ResearchItem.ts"],(function(e){"use strict";var t,i,n,o,a,s,l,r,u,c,h,d,_,p,f,m,g,w,y,b,v,G,k,N,C,V,P,R,E,T,I,M,D,z,S,F,U;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,l=e.Label,r=e.Node,u=e.sp,c=e.find,h=e.Vec3,d=e.tween,_=e.director,p=e.UIOpacity},function(e){f=e.eventDispatcher},function(e){m=e.dataTableManager},function(e){g=e.uiManager},function(e){w=e.UIView},function(e){y=e.default},function(e){b=e.foodConfig},function(e){v=e.itemConfig,G=e.EItemEnum},function(e){k=e.purchaseGiftConfig},function(e){N=e.taskConfig,C=e.ETaskType},function(e){V=e.NoviceGuideMgr,P=e.EGuideStep,R=e.EGuideClickEnum},function(e){E=e.EDataTables},function(e){T=e.MEventNames},function(e){I=e.googleFirebaser,M=e.eAnalyticsEvent},function(e){D=e.AudioTool,z=e.ESoundType},function(e){S=e.UITool},function(e){F=e.MUIConfig},function(e){U=e.ResearchItem}],execute:function(){var B,A,x,O,L,W,H,j,q,J,K,Q,X,Y,Z,$,ee,te,ie,ne,oe,ae,se,le,re;a._RF.push({},"fab45l9oi5G/oucN53Wpllv","ResearchView",void 0);var ue=s.ccclass,ce=s.property,he=(e("ResearchView",(B=ue("ResearchView"),A=ce({type:l,displayName:""}),x=ce({type:r,displayName:""}),O=ce({type:r,displayName:""}),L=ce({type:r,displayName:""}),W=ce({type:r,displayName:""}),H=ce({type:r,displayName:""}),j=ce({type:r,displayName:""}),q=ce({type:r,displayName:""}),J=ce({type:r,displayName:""}),K=ce({type:r,displayName:""}),Q=ce({type:r,displayName:""}),B((Z=t((Y=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"clover_lab",Z,o(t)),n(t,"mask_node",$,o(t)),n(t,"animation3_node",ee,o(t)),n(t,"animation5_node",te,o(t)),n(t,"item_template",ie,o(t)),n(t,"research_10_btn",ne,o(t)),n(t,"research_btn",oe,o(t)),n(t,"btn_page1_select",ae,o(t)),n(t,"btn_page1",se,o(t)),n(t,"btn_page0_select",le,o(t)),n(t,"btn_page0",re,o(t)),t.showGuodi=!1,t.animation3_show=void 0,t.animation5_show=void 0,t._research_times=1,t}i(t,e);var a=t.prototype;return a.onClose=function(){f.offAllCaller(this),this.animation3_show=null,this.animation5_show=null},a.onOpen=function(e){D.play(z.ui_open),f.on(T.ResearchResultViewClose,this,this._closeMask),f.on(T.guideClick,this,this.guideClick),f.on(T.refreshGuildPos,this,this.refreshGuildPos),this.item_template.active=!1,this.showGuodi=1==e,this.update(),this.animation3_show=this.animation3_node.getComponent(u.Skeleton),this.animation5_show=this.animation5_node.getComponent(u.Skeleton);for(var t=c("other/items",this.node),i=0;i<3;i++){var n=y.instantiate(this.item_template);n.active=!0,n.setPosition(350*(i-1),0),t.getChildByName("3").addChild(n);n.getComponent(U).setData(he[i],this)}for(var o=0;o<5;o++){var a=y.instantiate(this.item_template);a.active=!0,a.setPosition(210*(o-2),0),a.scale=new h(.9,.9,.8),t.getChildByName("5").addChild(a);a.getComponent(U).setData(de[o],this)}var s=t.getPosition().y;d(t).to(.4,{position:new h(0,s,0)}).start(),this.c_toggle_page(null,e),this._flushValueShow(),this.scheduleOnce((function(){V.instance.isNeedShowNoviceView(P.Guide_GetNewFood)}),.1)},a.c_toggle_page=function(e,t){D.play(z.ui_nextpage),this.showGuodi=1==t,this._flushPageShow()},a._flushPageShow=function(){this.btn_page0.active=this.showGuodi,this.btn_page1.active=!this.showGuodi,this.btn_page0_select.active=!this.showGuodi,this.btn_page1_select.active=this.showGuodi;var e=c("other/items",this.node);e.getChildByName("5").active=this.showGuodi,e.getChildByName("3").active=!this.showGuodi;var t=m.getDataTable(E.Constant);N.curTaskId<t[41].Value&&(c("mid/btn_page1",this.node).active=c("mid/btn_page1_select",this.node).active=!1)},a.refreshGuildPos=function(e){e.click==R.layerButton&&this.research_btn.getWorldPosition(S.instance.guideHandWorldPos)},a.guideClick=function(e){e.click==R.layerButton&&this.c_research()},a._check_yuansu_num=function(){var e=this.showGuodi?de:he,t=[];return e.forEach((function(e,i){t.push(v.getItemNum(e))})),t.filter((function(e,t){return e<=0})).length>0?-1:t.filter((function(e,t){return e>=10})).length==t.length?10:1},a.c_research=function(){(D.play(z.ui_click),-1!=this._check_yuansu_num())?(this.showGuodi?N.addTaskPro(C.RDNewPotMaterial):N.addTaskPro(C.RDNewMeal),(this.showGuodi?de:he).forEach((function(e,t){v.useItem(e,1)})),f.event(T.ResearchEndFlushNum),this._flushPageShow(),this.showGuodi?I.logEvent(M.develop_ingredients,"ingredients_1"):I.logEvent(M.develop_main,"main_1"),this._show_animation_result(1)):k.canGetReward(1004)>0?g.openView(F.PurchaseGiftView1004,null):g.openView(F.PurchaseGiftView1005,null,this.showGuodi?1008:1007)},a.c_research10=function(){(D.play(z.ui_click),10==this._check_yuansu_num())?((this.showGuodi?de:he).forEach((function(e,t){v.useItem(e,10)})),this.showGuodi?N.addTaskPro(C.RDNewPotMaterial,null,10):N.addTaskPro(C.RDNewMeal,null,10),this.showGuodi?I.logEvent(M.develop_ingredients,"ingredients_10"):I.logEvent(M.develop_main,"main_10"),f.event(T.ResearchEndFlushNum),this._flushPageShow(),this._show_animation_result(10)):k.canGetReward(1004)>0?g.openView(F.PurchaseGiftView1004,null):g.openView(F.PurchaseGiftView1005,null,this.showGuodi?1008:1007)},a._show_animation_result=function(e){this.mask_node.active=!0;var t=this.showGuodi?this.animation5_show:this.animation3_show;t.node.active=!0,this._research_times=e,t.setAnimation(1,"synthesis",!1),this.scheduleOnce(this._animation_end_fun,t.findAnimation("synthesis").duration-(this.showGuodi?1.6:1.5))},a._animation_end_fun=function(){(this.showGuodi?this.animation5_show:this.animation3_show).node.active=!1,this.showGuodi?g.openView(F.ResearchResultView,null,b.randomGetPot(this._research_times)):g.openView(F.ResearchResultView,null,b.randomGetFood(this._research_times))},a.c_clickClose=function(){D.play(z.ui_click),g.closeView(this)},a.c_open_exchange=function(){D.play(z.ui_click),g.openView(F.ResearchExchangeView)},a.update=function(){_.getTotalFrames()%30==0&&this._flushValueShow()},a._flushValueShow=function(){var e=v.getItemNum(G.clover);this.clover_lab.string=e+""},a._closeMask=function(){var e=this;d(this.mask_node.getComponent(p)).to(.2,{opacity:0}).call((function(t){e.mask_node.active=!1,t.opacity=255})).start()},t}(w)).prototype,"clover_lab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(Y.prototype,"mask_node",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(Y.prototype,"animation3_node",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Y.prototype,"animation5_node",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(Y.prototype,"item_template",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(Y.prototype,"research_10_btn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(Y.prototype,"research_btn",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(Y.prototype,"btn_page1_select",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(Y.prototype,"btn_page1",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(Y.prototype,"btn_page0_select",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(Y.prototype,"btn_page0",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=Y))||X)),[600,601,602]),de=[106,206,306,406,506];a._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceTool.ts",["cc","./Log.ts","./AssetHelper.ts","./AssetLoader.ts","./NodeUtils.ts","./GameUtility.ts"],(function(e){"use strict";var r,t,o,i,n,s,a,u,f,c;return{setters:[function(e){r=e.cclegacy,t=e.Sprite,o=e.SpriteFrame,i=e.isValid,n=e.Prefab},function(e){s=e.default},function(e){a=e.AssetHelper},function(e){u=e.assetLoader},function(e){f=e.default},function(e){c=e.EGameBundles}],execute:function(){r._RF.push({},"f4ea3zps+dOR4Uuc/zgJf7f","ResourceTool",void 0);e("ResourceTool",function(){function e(){}return e.setNodeSpriteFrame=function(e,r,o,i,n){o&&o.isValid?this.setSpriteFrame(e,r,o.getComponent(t),i,n):s.error("setNodeSpriteFrame error  node == null")},e.setSpriteFrame=function(e,r,t,n,f){t?e?r?u.load(e,r+"/spriteFrame",o,(function(e,o){if(e)return s.error("set sprite frame failed! err:",r,e),void(f&&f(e,o));t&&i(t)&&(t.spriteFrame=a.assign(o,n),f&&f(null,o))})):s.error("path:"+r+" ,  no url"):s.error(" no bundle"):s.error("path:"+r+" ,  no sprite")},e.addTopItemPrefab=function(e,r){u.load(c.LoadOnPlay,"Prefab/Public/TopItemPrefab",n,(function(t,o){if(t)s.error(t);else if(e&&e.isValid){var i=f.instantiate(o);e.addChild(i),r&&r(t,i)}}))},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/RoadSeekerAgent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,s,i,a,r,h,d,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){s=t.cclegacy,i=t._decorator,a=t.Vec2,r=t.Vec3,h=t.v3,d=t.v2,c=t.Component}],execute:function(){var o;s._RF.push({},"81afdGACY5DEIHVVA3jRglY","RoadSeekerAgent",void 0);var l=i.ccclass;i.property,t("RoadSeekerAgent",l("RoadSeekerAgent")(o=function(t){function s(){for(var e,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))||this).m_Path=null,e.m_CurrIndex=0,e.speed=3,e.stopHandler=null,e.rotateHandler=null,e.endHandler=null,e.m_Distance0=0,e.m_Distance1=0,e.m_Vec0=h(),e.m_Vec1=h(),e.m_Vec2=d(),e.m_Vec3=d(),e}e(s,t);var i=s.prototype;return i.onLoad=function(){this.enabled=!1},i.updateRoad=function(){if(this.m_CurrIndex>=this.path.length-1)return this.enabled=!1,this.path=null,void(this.endHandler&&this.endHandler());var t=this.path[this.m_CurrIndex],e=this.path[this.m_CurrIndex+1],n=this.m_Vec2,s=this.m_Vec3;n.set(t.px,t.py),s.set(e.px,e.py),this.m_Distance0=0,this.m_Distance1=a.distance(n,s),this.m_Distance1||(this.m_Distance1=this.speed),this.rotateHandler&&this.rotateHandler(n,s,this.node)},i.quadIn=function(t){return t>1&&(t=1),t*t},i.update=function(t){if(this.enabled&&(!this.stopHandler||!this.stopHandler())){var e=this.node,n=this.m_Path,s=this.m_CurrIndex,i=n[s],a=n[s+1];if(a&&i){var h=this.speed,d=this.m_Distance0,c=this.m_Distance1;if(0==s)d<15&&(h=.1*h+.9*h*this.quadIn(d/15));else if(s==n.length-2){var o=c-d;o<15&&(h=.2*h+.8*h*this.quadIn(o/15))}this.m_Distance0+=h*t*60;var l=this.m_Vec0,u=this.m_Vec1;l.set(i.px,i.py),u.set(a.px,a.py),r.lerp(l,l,u,this.m_Distance0/c),e.setPosition(l),this.m_Distance0>=c&&(this.m_CurrIndex++,this.updateRoad())}else this.enabled=!1}},n(s,[{key:"path",get:function(){return this.m_Path},set:function(t){this.m_Path=t,t&&t.length?(this.m_CurrIndex=0,this.updateRoad(),this.enabled=!0):this.enabled=!1}}]),s}(c))||o);s._RF.pop()}}}));

System.register("chunks:///_virtual/SActorState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts","./StaffAnimAgent.ts"],(function(t){"use strict";var n,e,s,o,c;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy},function(t){o=t.FsmState},function(t){c=t.EStaffAnim}],execute:function(){s._RF.push({},"32fe0pcOElPpZ47W+wq+TSY","SActorState",void 0),t("SActorState",function(t){function s(){return t.apply(this,arguments)||this}n(s,t);var o=s.prototype;return o.onEnter=function(t,n){t.startToActor()},o.onExecute=function(t,n){3==t.step&&t.fsm.currentStateTime>=t.config.Rest&&t.startToActor2(),0!=t.step&&1!=t.step&&5!=t.step&&t.checkToLeave()},o.onExit=function(t){},o.onPathEnd=function(t){0==t.step||4==t.step?t.startActor():2==t.step&&t.startRest()},o.onAnimComplete=function(t,n){n==c.Actor&&t.startToRest()},e(s,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new s),this.m_Instance}}]),s}(o)).m_Instance=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/SafeAreaAdaptive.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,a,o,i,n,r,s,f,l,c,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){r=e.cclegacy,s=e._decorator,f=e.sys,l=e.Widget,c=e.UITransform,p=e.Component,u=e.v2}],execute:function(){var m,h,A,S,d,v,g;r._RF.push({},"e7b32ea5rdBqYEpwAlJbh5e","SafeAreaAdaptive",void 0);var _=s.ccclass,y=s.property,T=s.menu;e("SafeAreaAdaptive",(m=_("SafeAreaAdaptive"),h=T("Extension/SafeArea"),A=y({displayName:"Test Safe Area",tooltip:"编辑器模式下的安全区域"}),m(S=h(((g=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).m_Platform=f.platform,o(t,"m_TestSafeArea",v,i(t)),t}a(t,e);var r=t.prototype;return r.onEnable=function(){this.adaptive()},r.onDisable=function(){t.s_SafeTop=0,t.s_SafeBottom=0},r.adaptive=function(){if(f.platform==f.Platform.IOS){var e=this.getSafeAreaTop()||0,t=this.getSafeAreaBottom()||0;e>0&&t>0&&this.updateArea(e+15,t)}else{var a=this.m_TestSafeArea;this.updateArea(a.x,a.y)}},r.updateArea=function(e,a){t.s_SafeTop=e,t.s_SafeBottom=a;var o=this.node.getComponent(l),i=this.node.getComponent(c);if(o&&i){o.updateAlignment();var n=this.node.position.clone(),r=i.anchorPoint.clone();o.isAlignTop=o.isAlignBottom=o.isAlignLeft=o.isAlignRight=!0,o.top=e,o.bottom=a,o.updateAlignment();var s=this.node.position.clone(),f=r.x-(s.x-n.x)/i.width,p=r.y-(s.y-n.y)/i.height;i.setAnchorPoint(f,p)}},r.getSafeAreaTop=function(){var e=0;return this.m_Platform==f.Platform.IOS&&(e=jsb.reflection.callStaticMethod("UIDevice","vg_safeDistanceTop")),e},r.getSafeAreaBottom=function(){var e=0;return this.m_Platform==f.Platform.IOS&&(e=jsb.reflection.callStaticMethod("UIDevice","vg_safeDistanceBottom")),e},n(t,null,[{key:"safeTop",get:function(){return this.s_SafeTop}},{key:"safeBottom",get:function(){return this.s_SafeBottom}}]),t}(p)).s_SafeTop=0,g.s_SafeBottom=0,v=t((d=g).prototype,"m_TestSafeArea",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u(0,0)}}),S=d))||S)||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/SCashierState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts"],(function(t){"use strict";var e,n,s,i;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){s=t.cclegacy},function(t){i=t.FsmState}],execute:function(){s._RF.push({},"772a6NaVQlAFbhR9iIvZKHE","SCashierState",void 0),t("SCashierState",function(t){function s(){return t.apply(this,arguments)||this}e(s,t);var i=s.prototype;return i.onEnter=function(t,e){t.startToCashier()},i.onExecute=function(t,e){1==t.step&&t.fsm.currentStateTime>=t.getPayTime()&&t.endCashier()},i.onExit=function(t){},i.onPathEnd=function(t){0==t.step&&t.endToCashier()},n(s,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new s),this.m_Instance}}]),s}(i)).m_Instance=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/SceneFood.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FoodConfig.ts","./GameUtility.ts","./ResourceTool.ts"],(function(o){"use strict";var n,t,e,i,c,s,r,a;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,i=o.Sprite,c=o.Component},function(o){s=o.foodConfig},function(o){r=o.EGameBundles},function(o){a=o.ResourceTool}],execute:function(){var d;t._RF.push({},"55027CXV4ZDk4YZj7Xgj3Eh","SceneFood",void 0);var u=e.ccclass,h=(e.property,"Res/Dish/ShelfFood#");o("SceneFood",u("SceneFood")(d=function(o){function t(){for(var n,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(n=o.call.apply(o,[this].concat(e))||this).m_FoodIcon=null,n.m_FoodData=null,n}n(t,o);var e=t.prototype;return e.onLoad=function(){},e.initFood=function(o){this.m_FoodData=o,this.m_FoodIcon||(this.m_FoodIcon=this.node.getComponentInChildren(i)),this.setIcon(o)},e.initKitchFood=function(o){this.m_FoodData=o,this.m_FoodIcon||(this.m_FoodIcon=this.node.getComponentInChildren(i)),this.setSceneIcon(o)},e.setIcon=function(o){var n=-1==o?h:s.getSceneIcon(o);a.setSpriteFrame(r.LoadOnPlay,n,this.m_FoodIcon,this.node)},e.setSceneIcon=function(o){var n=-1==o?h:s.getUIIcon(o);a.setSpriteFrame(r.LoadOnPlay,n,this.m_FoodIcon,this.node)},e.getFoodParntName=function(){return this.node.parent.name},t}(c))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/SceneFoodHuaVec.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneFood.ts","./SceneFoodHud.ts"],(function(e){"use strict";var o,n,t,c,r;return{setters:[function(e){o=e.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator},function(e){c=e.SceneFood},function(e){r=e.SceneFoodHud}],execute:function(){var i;n._RF.push({},"b8671VQFntNGJaCq9AfRu3k","SceneFoodHuaVec",void 0);var u=t.ccclass;t.property,e("SceneFoodHuaVec",u("SceneFoodHuaVec")(i=function(e){function n(){for(var o,n=arguments.length,t=new Array(n),c=0;c<n;c++)t[c]=arguments[c];return(o=e.call.apply(e,[this].concat(t))||this).m_SceneFoodVec=[],o.m_SceneFood=[],o}o(n,e);var t=n.prototype;return t.registerSceneFood=function(){var e=this;return new Promise((function(o){var n=e.node.getChildByName("food").children,t=null;for(var r in n)t=n[r],e.m_SceneFoodVec[r]=t.getComponentsInChildren(c);e.m_SceneFood=[],o()}))},t.updateSceneFood=function(e){var o=(e=null==e?[]:e).length;if(this.setShowSceneFood(o),!(o<=0)){var n=0,t=0,c=null,r=this.m_SceneFood;for(n=0;n<r.length;n++)c=r[n],t=e[n],this.setFoodStart(t,c)}},t.setShowSceneFood=function(e){var o=null,n=null;for(var t in(e=e>4?4:e)-1>=0&&(this.m_SceneFood=this.m_SceneFoodVec[e-1]),this.m_SceneFoodVec)o=(n=this.m_SceneFoodVec[t])[0].getFoodParntName(),n[0].node.parent.active=parseInt(o)==e},n}(r))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/SceneFoodHud.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConstructBase.ts","./SceneFood.ts"],(function(e){"use strict";var t,o,n,i,s,r,c,a;return{setters:[function(e){t=e.inheritsLoose,o=e.createClass},function(e){n=e.cclegacy,i=e._decorator,s=e.Label,r=e.Sprite},function(e){c=e.ConstructBase},function(e){a=e.SceneFood}],execute:function(){var d;n._RF.push({},"3d320KEgQ5CBKFyLvKcVD37","SceneFoodHud",void 0);var u=i.ccclass;i.property,e("SceneFoodHud",u("SceneFoodHud")(d=function(e){function n(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).m_SceneFood=[],t.m_timeLab=null,t.m_progess=null,t.m_Tips=null,t.m_DeskId=-1,t}t(n,e);var i=n.prototype;return i.onLoad=function(){this.registerSceneFood(),this.resetNode(),this.m_Tips=this.node.getChildByName("tips")},i.registerSceneFood=function(){var e=this;return new Promise((function(t){var o=e.node.getComponentsInChildren(a);for(var n in e.m_SceneFood=o,o)o[n];t()}))},i.updateSceneFood=function(e){e=null==e?[]:e;var t=0,o=0,n=null,i=this.m_SceneFood;for(t=0;t<i.length;t++)n=i[t],o=e[t],this.setFoodStart(o,n)},i.setFoodStart=function(e,t){var o=null!=e;o&&t.initKitchFood(e),t.node.active=o},i.setOrderData=function(e){var t=e;this.getFoodPogress(t)},i.getFoodPogress=function(e){var t=this.node.getChildByName(e);t.active=!0;var o=t.getChildByName("timeLab");this.m_timeLab=o.getComponent(s);var n=t.getChildByName("pogress");this.m_progess=n.getComponent(r)},i.resetNode=function(){this.updateSceneFood([]);var e=this.node.getChildByName("bowl");e&&(e.active=!1);var t=this.node.getChildByName("seat");t&&(t.active=!1),this.m_DeskId=-1},i.updateProgess=function(e,t){this.m_progess.fillRange=e,this.m_timeLab.string=""+t},i.getTipsNode=function(){return this.m_Tips},i.resetBowl=function(){var e=this.node.getChildByName("bowl");e&&(e.active=!1)},o(n,[{key:"DeskId",get:function(){return this.m_DeskId},set:function(e){this.m_DeskId=e}}]),n}(c))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/SceneFoodPlate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneFood.ts","./SceneFoodHuaVec.ts"],(function(e){"use strict";var o,n,t,c,r;return{setters:[function(e){o=e.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator},function(e){c=e.SceneFood},function(e){r=e.SceneFoodHuaVec}],execute:function(){var i;n._RF.push({},"ad94ex1tJBE+YO0X/P55GXR","SceneFoodPlate",void 0);var u=t.ccclass;t.property,e("SceneFoodPlate",u("SceneFoodPlate")(i=function(e){function n(){return e.apply(this,arguments)||this}o(n,e);var t=n.prototype;return t.registerSceneFood=function(){var e=this;return new Promise((function(o){var n=e.node.children,t=null;for(var r in n)t=n[r],e.m_SceneFoodVec[r]=t.getComponentsInChildren(c);e.m_SceneFood=[],o()}))},t.setFoodStart=function(e,o){var n=null!=e;n&&o.initFood(e),o.node.active=n},n}(r))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/SceneMemuMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AssetLoader.ts","./NodeUtils.ts","./GameUtility.ts","./SceneMenu.ts","./SceneMenuFood.ts","./SceneMenuTime.ts"],(function(e){"use strict";var n,t,o,i,s,r,u,a,c,h,d,f,m,M;return{setters:[function(e){n=e.createClass,t=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){i=e.cclegacy,s=e._decorator,r=e.Prefab,u=e.find,a=e.UITransform},function(e){c=e.assetLoader},function(e){h=e.default},function(e){d=e.EGameBundles},function(e){f=e.SceneMenu},function(e){m=e.SceneMenuFood},function(e){M=e.SceneMenuTime}],execute:function(){var p,N;e({ESceneMenuData:void 0,ESceneMenuType:void 0}),i._RF.push({},"b54e7fvc8hFGZDEjN5R5BmV","SceneMemuMgr",void 0);var l,g,_=s.ccclass;s.property;!function(e){e[e.None=0]="None",e[e.Order=1]="Order",e[e.OrderBowl=2]="OrderBowl",e[e.PayABill=3]="PayABill",e[e.SweepDesk=4]="SweepDesk",e[e.ServerTDishes=6]="ServerTDishes",e[e.Washing=7]="Washing",e[e.Quicken=9]="Quicken",e[e.StartDine=50]="StartDine"}(l||(l=e("ESceneMenuData",{}))),function(e){e.SceneMenu="SceneMenuNode",e.MoneyMenu="SceneMenuMoneyNode",e.TimeNenu="SceneMenuTimeNode",e.TipsMenu="SceneMenuTipsNode",e.FoodMenu="SceneMenuFoodNode"}(g||(g=e("ESceneMenuType",{})));e("SceneMemuMgr",_("SceneMemuMgr")(((N=function(){function e(){this.m_Prefab={},this.m_menuNode=null,this.m_SigName="ScenMenu",this.m_MoneyUrl="Prefab/Lobby/SceneMenuMoneyNode",this.m_rootNode=null,this.m_menuMoney=null,this.m_WashNode=null}var i=e.prototype;return i.initPrefab=function(){this.registerPrefab(g.SceneMenu),this.registerPrefab(g.MoneyMenu),this.registerPrefab(g.TimeNenu),this.registerPrefab(g.TipsMenu),this.registerPrefab(g.FoodMenu)},i.registerPrefab=function(e){var n="Prefab/Lobby/"+e;this.m_Prefab[e]={path:n}},i.showTips=function(){var e=t(o().mark((function e(n){var t,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMenuNode(g.SceneMenu);case 2:t=e.sent,n.rootNode=this.getRootNode(),(i=t.getComponent(f)).setIcon(n),i.setScale(n);case 7:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),i.showWashTips=function(){var e=t(o().mark((function e(n){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.showTips(n).then((function(){t.showWashTipNode(n.worldPosition)}));case 1:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),i.getMenuNode=function(e){var n=this;return new Promise((function(t){var o=function(n){var o=h.instantiate(e,n,!0);t(o)},i=n.m_Prefab[e],s=i.path,u=i.prefab;u?o(u):c.load(d.LoadOnPlay,s,r,(function(t,i){n.m_Prefab[e].prefab=i,o(i)}))}))},i.getRootNode=function(){return this.m_rootNode||(this.m_rootNode=u("GameCanvas/SceneTip")),this.m_rootNode},i.reisterOfflinePos=function(){},i.loadOfflineMenu=function(e){var n=this;e=this.getMenuPos(e),this.m_menuMoney?this.m_menuMoney.setPosition(e):c.load(d.LoadOnPlay,this.m_MoneyUrl,r,(function(t,o){t||(n.m_menuMoney=h.instantiate(g.MoneyMenu,o,!0),n.m_menuMoney.setPosition(e),n.getRootNode().addChild(n.m_menuMoney))}))},i.getMenuPos=function(e){return this.getRootNode().getComponent(a).convertToNodeSpaceAR(e)},i.registWashTipNode=function(e){this.m_WashNode=e;var n=this.getRootNode();this.m_WashNode.node.setParent(n,!0),this.m_WashNode.node.active=!1},i.showWashTipNode=function(e){this.getRootNode().children.length;this.m_WashNode.node.removeFromParent(),this.getRootNode().addChild(this.m_WashNode.node),this.m_WashNode.initEffectCutPos(e),this.m_WashNode.play()},i.hideWashTipNode=function(){this.m_WashNode&&this.m_WashNode.stop()},i.showTimeTips=function(){var e=t(o().mark((function e(n,t){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMenuNode(g.TimeNenu);case 2:i=e.sent,n.rootNode=this.getRootNode(),i.getComponent(M).setTime(n,t);case 6:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),i.showCookEnd=function(){var e=t(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMenuNode(g.FoodMenu);case 2:t=e.sent,n.rootNode=this.getRootNode(),t.getComponent(m).setIcon(n);case 6:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),n(e,[{key:"washNode",get:function(){return this.m_WashNode}}],[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new e,this.m_Instance.initPrefab()),this.m_Instance}}]),e}()).m_Instance=void 0,p=N))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/SceneMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./NodeUtils.ts","./NoviceGuideMgr.ts","./EventUtility.ts","./GameUtility.ts","./GoogleFirebase.ts","./ResourceTool.ts","./UITool.ts","./Lobby.ts","./LobbyUtility.ts","./StaffTaskQueue.ts","./SceneMemuMgr.ts"],(function(t){"use strict";var e,n,i,a,s,o,r,l,u,h,c,d,f,m,_,S,k,v,T,g,M,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,r=t.Sprite,l=t.find,u=t.Component},function(t){h=t.eventDispatcher},function(t){c=t.default},function(t){d=t.EGuideClickEnum},function(t){f=t.MEventNames},function(t){m=t.EGameBundles},function(t){_=t.googleFirebaser,S=t.eAnalyticsEvent},function(t){k=t.ResourceTool},function(t){v=t.UITool},function(t){T=t.Lobby},function(t){g=t.MLobbyEvent},function(t){M=t.StaffTaskQueue},function(t){b=t.ESceneMenuData}],execute:function(){var p,H,D,P,y,E,w;s._RF.push({},"a90cfQ1vGtBZJ1Sb2W5yXDu","SceneMenu",void 0);var B=o.ccclass,C=o.property;t("SceneMenu",(p=B("SceneMenu"),H=C(r),D=C(r),p((E=e((y=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,i(e,"MeunIcon",E,a(e)),i(e,"MenuBg",w,a(e)),e.m_State=void 0,e.m_rootNode=null,e.m_downTime=5,e.m_taskTime=0,e.m_StaffTask=null,e.m_TaskData=null,e.m_Handler=null,e.m_SubHandle=null,e.m_HanlderData=null,e.m_MenuSBg=[b.Washing,b.OrderBowl,b.SweepDesk,b.ServerTDishes,b.Order,b.PayABill],e}n(e,t);var s=e.prototype;return s.onLoad=function(){this.m_rootNode=l("GameCanvas/SceneTip")},s.onEnable=function(){h.on(f.guideClick,this,this.guideClick),h.on(f.refreshGuildPos,this,this.refreshGuildPos)},s.onDisable=function(){h.off(f.guideClick,this,this.guideClick),h.off(f.refreshGuildPos,this,this.refreshGuildPos)},s.setIcon=function(t){this.m_State=t,this.registerEvent(),this.registerStaffTask(),this.setLocalNode(t),this.MeunIcon.spriteFrame&&this.MeunIcon.spriteFrame.decRef(!1);var e=t.eMenuStart,n=this.getMenuPath(e);k.setSpriteFrame(m.LoadOnPlay,n,this.MeunIcon,this.node),n=this.getMenuBg(e),k.setSpriteFrame(m.LoadOnPlay,n,this.MenuBg,this.node)},s.setScale=function(t){var e=t.scale;e&&this.node.setScale(e)},s.setLocalNode=function(t){var e=t.worldPosition,n=t.rootNode;n=null==n?this.m_rootNode:n,this.node.worldPosition=e,n.addChild(this.node)},s.onTouchMenu=function(){this.remvoeTask(),this.sendEvent(),this.resetNode()},s.refreshGuildPos=function(t){switch(t.click){case d.checkout:this.m_State.eMenuStart==b.PayABill&&this.MeunIcon.node.getWorldPosition(v.instance.guideHandWorldPos);break;case d.clear:this.m_State.eMenuStart==b.SweepDesk&&this.MeunIcon.node.getWorldPosition(v.instance.guideHandWorldPos);break;case d.food1:if(this.m_State.isKit&&this.m_State.eMenuStart==b.OrderBowl){this.MeunIcon.node.getWorldPosition(v.instance.guideHandWorldPos);var e=T.instance.cameraNode;v.instance.guideHandWorldPos.subtract(e.position)}break;case d.food2:if(this.m_State.isKit&&this.m_State.eMenuStart==b.ServerTDishes){this.MeunIcon.node.getWorldPosition(v.instance.guideHandWorldPos);var n=T.instance.cameraNode;v.instance.guideHandWorldPos.subtract(n.position)}}},s.guideClick=function(t){switch(t.click){case d.checkout:this.m_State.eMenuStart==b.PayABill&&this.onTouchMenu();break;case d.clear:this.m_State.eMenuStart==b.SweepDesk&&this.onTouchMenu();break;case d.food1:this.m_State.isKit&&this.m_State.eMenuStart==b.OrderBowl&&this.onTouchMenu();break;case d.food2:this.m_State.isKit&&this.m_State.eMenuStart==b.ServerTDishes&&this.onTouchMenu()}},s.getMenuPath=function(t){return"Res/Texture/Hall/T_UI_Home_menu_0"+t+"a"},s.getMenuBg=function(t){return"Res/Texture/Hall/T_UI_common_pop_0"+(-1==this.m_MenuSBg.indexOf(t)?3:6)},s.sendEvent=function(){if(this.m_State.data){var t=this.m_State.data.handler,e=this.m_State.data.hanlderData;t&&(this.logEvent(t),h.event(t,e))}},s.resetNode=function(){this.unscheduleAllCallbacks(),c.remove(this.node),this.removeEvent(),this.m_StaffTask=null,this.m_TaskData=null,this.m_Handler=null,this.m_HanlderData=null,this.m_SubHandle=null,this.m_State=null,this.node.setScale(1,1,1)},s.initDownTime=function(){var t=this;this.scheduleOnce((function(){t.onTouchMenu()}),this.m_downTime)},s.registerStaffTask=function(){var t=this;this.m_State.task&&(this.m_TaskData=this.m_State.task,this.scheduleOnce((function(){t.addTask()}),this.m_taskTime))},s.registerEvent=function(){this.m_State.data&&(this.m_Handler=this.m_State.data.handler,this.m_HanlderData=this.m_State.data.hanlderData,h.on(this.m_Handler,this,this.eventCallback),this.m_SubHandle=this.m_State.data.subHandle,this.m_SubHandle&&h.on(this.m_SubHandle,this,this.eventCallback))},s.removeEvent=function(){this.m_SubHandle&&h.off(this.m_SubHandle,this,this.eventCallback),this.m_Handler&&h.off(this.m_Handler,this,this.eventCallback)},s.eventCallback=function(t,e){if(null!=t){if(this.m_Handler&&null!=this.m_HanlderData){var n=this.m_HanlderData,i=null;if(this.m_HanlderData instanceof Array&&(n=this.m_HanlderData[0],i=this.m_HanlderData[1]),n!=t)return;if(i&&e&&i!=e)return}this.resetNode(),this.m_TaskData&&(this.m_StaffTask=null)}else this.resetNode()},s.remvoeTask=function(){this.m_TaskData&&(this.m_StaffTask||this.addTask(),this.m_StaffTask&&(M.instance.receive(this.m_StaffTask),M.instance.finish(this.m_StaffTask)))},s.addTask=function(){var t=this.m_TaskData,e=t.taskHandler,n=t.taskData;this.m_StaffTask=M.instance.checkTasks(e,n),this.m_StaffTask||(this.m_StaffTask=M.instance.add(e,n))},s.logEvent=function(t){t==g.WashDishing&&_.logEvent(S.other_washdishes,"washdishes_1")},e}(u)).prototype,"MeunIcon",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(y.prototype,"MenuBg",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=y))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/SceneMenuBuild.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,i,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,c=t.Component}],execute:function(){var u;e._RF.push({},"c12cd699aRP3qIZFpqvyCRt","SceneMenuBuild",void 0);var o=i.ccclass;i.property,t("SceneMenuBuild",o("SceneMenuBuild")(u=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),c=0;c<e;c++)i[c]=arguments[c];return(n=t.call.apply(t,[this].concat(i))||this).m_BuildData=null,n.m_Taget=null,n}n(e,t);var i=e.prototype;return i.onDestory=function(){this.removeEvent()},i.onLoad=function(){this.initEvent()},i.setBuildData=function(t){this.m_BuildData=t,this.m_Taget=t.Tager},i.initEvent=function(){},i.removeEvent=function(){},i.onTouchCallback=function(){this.m_Taget.FTouchCallback.call(this.m_Taget.ATagert)},i.updateBuildStart=function(t){this.node.active=t},e}(c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/SceneMenuFood.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./FoodConfig.ts","./GameUtility.ts","./ResourceTool.ts","./KitchenCookMgr.ts","./SceneMenu.ts"],(function(e){"use strict";var n,t,o,i,s,r,a,c,l;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator},function(e){i=e.eventDispatcher},function(e){s=e.foodConfig},function(e){r=e.EGameBundles},function(e){a=e.ResourceTool},function(e){c=e.KitchenCookMgr},function(e){l=e.SceneMenu}],execute:function(){var u;t._RF.push({},"a6478txPXBOjqKvCR7vEte7","SceneMenuFood",void 0);var d=o.ccclass;o.property,e("SceneMenuFood",d("SceneMenuFood")(u=function(e){function t(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))||this).m_findHanndle=null,n}n(t,e);var o=t.prototype;return o.setIcon=function(e){this.m_State=e,this.registerEvent(),this.registerStaffTask(),this.setLocalNode(e),this.MeunIcon.spriteFrame&&this.MeunIcon.spriteFrame.decRef(!1);var n=e.eMenuStart,t=s.getUIIcon(n);a.setSpriteFrame(r.LoadOnPlay,t,this.MeunIcon,this.node)},o.registerEvent=function(){var n;e.prototype.registerEvent.call(this);var t=null==(n=this.m_State.data)?void 0:n.findHanndle;t&&(this.m_findHanndle=t,i.on(this.m_findHanndle,this,this.findHanndleCallback))},o.findHanndleCallback=function(e){e==this.m_HanlderData&&(c.instance.findCookTask(e)&&this.resetNode())},o.removeEvent=function(){e.prototype.removeEvent.call(this),this.m_findHanndle&&i.off(this.m_findHanndle,this,this.findHanndleCallback)},o.resetNode=function(){e.prototype.resetNode.call(this),this.m_findHanndle=null},t}(l))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/SceneMenuMoney.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./OfflineEarningsConfig.ts","./EventUtility.ts","./UIConfig.ts"],(function(n){"use strict";var e,t,i,o,r,s,f,a,c,l,u,h;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,i=n._decorator,o=n.Label,r=n.Vec3,s=n.tween,f=n.Component},function(n){a=n.eventDispatcher},function(n){c=n.uiManager},function(n){l=n.offlineEarningsConfig},function(n){u=n.MEventNames},function(n){h=n.MUIConfig}],execute:function(){var g;t._RF.push({},"cbf9bEV/MBM1rgsGXbKOmHn","SceneMenuMoney",void 0);var E=i.ccclass;i.property,n("SceneMenuMoney",E("SceneMenuMoney")(g=function(n){function t(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))||this).m_monryLab=null,e}e(t,n);var i=t.prototype;return i.onDestory=function(){},i.onLoad=function(){this.initEvent(),this.m_monryLab=this.node.getComponentInChildren(o),this.enterGame()},i.start=function(){this.shakeTween1(this.node)},i.initEvent=function(){a.on(u.RefreshOfflineEarnings,this,this.refreshOfflineEarnings)},i.removeEvent=function(){a.off(u.RefreshOfflineEarnings,this,this.refreshOfflineEarnings)},i.showOfflineEarningsView=function(){c.getView(h.OfflineEarningsView.path)?a.event(u.RefreshOfflineEarnings):c.openView(h.OfflineEarningsView)},i.enterGame=function(){this.refreshOfflineEarnings()},i.refreshOfflineEarnings=function(){this.node.active=l.canGet(),this.m_monryLab.string=""+l.money},i.exitGame=function(){},i.onTouchCallback=function(){c.openView(h.OfflineEarningsView,null)},i.shakeTween1=function(n){var e=new r;s(n).repeatForever(s().repeat(3,s().call((function(n){e.set(0,0,-20)})).to(.05,{eulerAngles:e}).call((function(n){e.set(0,0,20)})).to(.1,{eulerAngles:e}).call((function(n){e.set(0,0,0)})).to(.05,{eulerAngles:e})).delay(2)).start()},t}(f))||g);t._RF.pop()}}}));

System.register("chunks:///_virtual/SceneMenuNoBuild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemConfig.ts","./StarConfig.ts"],(function(t){"use strict";var e,n,o,a,r,i,s,l,c,u,m,h,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,i=t._decorator,s=t.Label,l=t.Vec3,c=t.tween,u=t.Color,m=t.Component},function(t){h=t.itemConfig,f=t.EItemEnum},function(t){p=t.starConfig}],execute:function(){var d,g,b,_,v,y,L;r._RF.push({},"1a112G80kdMl7YcsWtzutgb","SceneMenuNoBuild",void 0);var C=i.ccclass,k=i.property;t("SceneMenuNoBuild",(d=C("SceneMenuNoBuild"),g=k(s),b=k(s),d((y=e((v=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,o(e,"m_monryLab",y,a(e)),o(e,"m_startLab",L,a(e)),e.m_BuildData=null,e.m_Taget=null,e}n(e,t);var r=e.prototype;return r.start=function(){},r.setBuildData=function(t){this.m_BuildData=t,this.m_Taget=t.Tager;var e=t.Gold,n=t.UnlockStar;this.m_monryLab.string="x"+e,this.m_startLab.string="x"+n,this.updateRootPos(n)},r.onTouchCallback=function(){this.m_Taget.FTouchCallback.call(this.m_Taget.ATagert)},r.shakeTween1=function(t){var e=new l;c(t).repeatForever(c().repeat(3,c().call((function(t){e.set(0,0,-20)})).to(.05,{eulerAngles:e}).call((function(t){e.set(0,0,20)})).to(.1,{eulerAngles:e}).call((function(t){e.set(0,0,0)})).to(.05,{eulerAngles:e})).delay(2)).start()},r.checkUnlock=function(){var t=h.getItemNum(f.money),e=p.getStar(),n=this.m_BuildData,o=n.Gold,a=n.UnlockStar,r=o<=t;this.m_monryLab.color=this.setColor(r);var i=a<=e;return this.m_startLab.color=this.setColor(i),(r&&!i||!i&&!r)&&(this.setRootPos(this.m_startLab.node),this.m_monryLab.node.parent.active=!1),i&&!r&&this.updateRootPos(a),r&&i},r.updateBuildStart=function(){var t=this.checkUnlock();return this.node.active=!t,t},r.setColor=function(t){return new u(t?"#24ae08":"#DC2020")},r.updateRootPos=function(t){var e=this.m_monryLab.node;this.setRootPos(e),this.m_startLab.node.parent.active=!1},r.setRootPos=function(t){var e=t.parent;e.setPosition(5,10),e.setScale(new l(1.2,1.2,1)),e.active=!0},e}(m)).prototype,"m_monryLab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(v.prototype,"m_startLab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=v))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/SceneMenuTime.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtils.ts"],(function(e){"use strict";var t,i,o,s,n,r,a,l,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,a=e.Sprite,l=e.find,u=e.Component},function(e){c=e.default}],execute:function(){var m,h,d,p,T;n._RF.push({},"b74718mISdIrYUl15nXtmRZ","SceneMenuTime",void 0);var f=r.ccclass,_=r.property;e("SceneMenuTime",(m=f("SceneMenuTime"),h=_(a),m((T=t((p=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,o(t,"m_progess",T,s(t)),t.outTime=0,t.m_TotalTime=0,t.isOpen=!1,t.m_State=void 0,t.m_rootNode=null,t}i(t,e);var n=t.prototype;return n.onLoad=function(){this.m_rootNode=l("GameCanvas/SceneTip")},n.start=function(){},n.update=function(e){this.isOpen&&(this.m_TotalTime<this.outTime?this.m_TotalTime+=e:(this.m_TotalTime=1,this.isOpen=!1,this.updateProgess(this.m_TotalTime),this.resetNode()),this.updateProgess(this.m_TotalTime/this.outTime))},n.updateProgess=function(e){this.m_progess.fillRange=e},n.setLocalNode=function(e){var t=e.worldPosition,i=e.rootNode;i=null==i?this.m_rootNode:i,this.node.worldPosition=t,i.addChild(this.node)},n.setTime=function(e,t){this.m_State=e,this.setLocalNode(e),this.outTime=t,this.isOpen=!0},n.resetNode=function(){this.unscheduleAllCallbacks(),c.remove(this.node),this.m_State=null,this.m_TotalTime=0,this.outTime=0,this.isOpen=!1,this.node.setScale(1,1,1)},t}(u)).prototype,"m_progess",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=p))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/SceneMenuTips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./StaffConfig.ts","./GameUtility.ts","./ResourceTool.ts","./UIConfig.ts","./Lobby.ts","./LobbyCameraControl.ts","./LobbyRoomData.ts","./LobbyUtility.ts","./KitchenCookMgr.ts"],(function(t){"use strict";var e,i,s,n,o,a,h,r,c,l,u,d,f,p,D,m,T,v,y,g,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,h=t.Sprite,r=t.Vec3,c=t.tween,l=t.Component},function(t){u=t.eventDispatcher},function(t){d=t.uiManager},function(t){f=t.staffConfig},function(t){p=t.EGameBundles},function(t){D=t.ResourceTool},function(t){m=t.MUIConfig},function(t){T=t.Lobby},function(t){v=t.LobbyCameraControl},function(t){y=t.ELobbyRoomId},function(t){g=t.MLobbyEvent},function(t){b=t.KitchenCookMgr}],execute:function(){var S,_,E,I,C;o._RF.push({},"d8bd46XOQhMpb5k0lYjABs9","SceneMenuTips",void 0);var k=a.ccclass,P=a.property;t("SceneMenuTips",(S=k("SceneMenuTips"),_=P(h),S((C=e((I=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).m_TipsData=[],s(e,"Smallbellcon",C,n(e)),e.m_tipsNum={},e.m_WashDish=!1,e}i(e,t);var o=e.prototype;return o.onDestory=function(){this.removeEvent()},o.onLoad=function(){this.initEvent(),this.node.active=!1},o.start=function(){this.shakeTween1(this.Smallbellcon.node)},o.initEvent=function(){u.on(g.CookingEnd,this,this.onCookingEnd),u.on(g.ServeDished,this,this.onServeDished),u.on(g.ServeDishes,this,this.onServeDished),u.on(g.PayEating,this,this.onPayEating),u.on(g.PayEated,this,this.onPayEated),u.on(g.PayEating2,this,this.onPayEated),u.on(g.CustomerSitDown,this,this.onCustomerSitDown),u.on(g.OrderDishes,this,this.onOrderDishes),u.on(g.ClearEatTable,this,this.onClearEatTable),u.on(g.WashDishing,this,this.onWashDishing),u.on(g.WashDished,this,this.OnWashDished)},o.removeEvent=function(){u.off(g.CookingEnd,this,this.onCookingEnd),u.off(g.ServeDished,this,this.onServeDished),u.off(g.ServeDishes,this,this.onServeDished),u.off(g.PayEating,this,this.onPayEating),u.off(g.PayEated,this,this.onPayEated),u.off(g.PayEating2,this,this.onPayEated),u.off(g.CustomerSitDown,this,this.onCustomerSitDown),u.off(g.OrderDishes,this,this.onOrderDishes),u.off(g.ClearEatTable,this,this.onClearEatTable),u.off(g.WashDishing,this,this.onWashDishing),u.off(g.WashDished,this,this.OnWashDished)},o.update=function(t){},o.onCookingEnd=function(t,e,i){this.updateTips({roomId:y.Kitchen,tipsId:["45_3"],deskId:t,serveDishes:i,serveType:i}),this.node.active=!0},o.onServeDished=function(t,e){for(var i=this.m_TipsData.length-1;i>=0;i--){var s=this.m_TipsData[i];s.deskId==t&&s.serveType==e&&this.m_TipsData.splice(i,1)}this.resetStart()},o.onPayEating=function(t){var e=this.getDeskIdToLobbyId(t);this.updateTips({roomId:e,tipsId:["45_11"],deskId:t,serveType:g.PayEated}),this.resetStart()},o.onPayEated=function(t){for(var e=this.m_TipsData.length-1;e>=0;e--){var i=this.m_TipsData[e];i.deskId==t&&i.serveType==g.PayEated&&this.m_TipsData.splice(e,1)}this.resetStart()},o.onCustomerSitDown=function(t){var e=this.getDeskIdToLobbyId(t);this.updateTips({roomId:e,tipsId:["45_7"],deskId:t,serveType:g.OrderDishes}),this.resetStart()},o.onOrderDishes=function(t){for(var e=this.m_TipsData.length-1;e>=0;e--){var i=this.m_TipsData[e];i.deskId==t&&i.serveType==g.OrderDishes&&this.m_TipsData.splice(e,1)}this.resetStart()},o.onClearEatTable=function(t){var e=this;-1==f.get_info(10)&&(this.m_WashDish||this.scheduleOnce((function(){b.instance.IsWashShow&&(e.updateTips({roomId:y.Kitchen,tipsId:["45_5"],deskId:t,serveType:g.WashDishing}),e.resetStart(),e.m_WashDish=!0)})))},o.onWashDishing=function(){for(var t=this.m_TipsData.length-1;t>=0;t--){this.m_TipsData[t].serveType==g.WashDishing&&this.m_TipsData.splice(t,1)}this.resetStart()},o.OnWashDished=function(){this.m_WashDish=!1},o.updateTips=function(t){this.m_TipsData.push(t)},o.onTouchCallback=function(){if(this.m_TipsData){var t=this.m_TipsData.length,e=this.m_TipsData[t-1],i=e.roomId,s=e.tipsId;i!=T.instance.getViewRoom()&&v.instance.jumpToRoomId(i),d.openView(m.ScreenTipsView,null,{content:s}),this.resetStart()}},o.resetStart=function(){this.node.active=0!=this.m_TipsData.length;var t=this.m_TipsData.length,e=this.m_TipsData[t-1],i=this.getSmallIcon(e);D.setSpriteFrame(p.LoadOnPlay,i,this.Smallbellcon,this.node)},o.getSmallIcon=function(t){return"Res/Texture/Hall/T_UI_Home_menu_0"+(t&&t.serveType==g.WashDishing?7:5)+"a"},o.shakeTween1=function(t){var e=new r;c(t).repeatForever(c().repeat(3,c().call((function(t){e.set(0,0,-20)})).to(.05,{eulerAngles:e}).call((function(t){e.set(0,0,20)})).to(.1,{eulerAngles:e}).call((function(t){e.set(0,0,0)})).to(.05,{eulerAngles:e})).delay(2)).start()},o.getDeskIdToLobbyId=function(t){var e=y.Lobby;return t>10?e=y.Auditorium:t>7&&(e=y.Private),e},e}(l)).prototype,"Smallbellcon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=I))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/SceneTipsView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./DataTable.ts"],(function(e){"use strict";var t,n,i,o,s,a,c,r,l,u,p,h;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.Vec3,s=e.Label,a=e.Tween,c=e.tween},function(e){r=e.dataTableManager},function(e){l=e.LocalizationHelper},function(e){u=e.uiManager},function(e){p=e.UIView},function(e){h=e.EDataTables}],execute:function(){var V;n._RF.push({},"5b2c9nu3MRM5KvYiT4DYd6T","SceneTipsView",void 0);var m=i.ccclass;i.property,e("SceneTipsView",m("SceneTipsView")(V=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).m_V3=null,t.m_MoveV3=null,t.m_LabVec=[],t.m_stopTime=0,t}t(n,e);var i=n.prototype;return i.onInit=function(){this.m_V3=this.node.children[0].getPosition(),this.m_MoveV3=new o(0,250,0),this.m_LabVec=this.node.getComponentsInChildren(s),this.m_stopTime=r.getData(h.Constant,20).Value},i.onOpen=function(e){for(var t=this,n=e.content,i=0;i<2;i++)null!=n[i]?this.m_LabVec[i].string=l.getString(n[i]):this.m_LabVec[i].node.active=!1;this.node.children[0].setPosition(this.m_V3),a.stopAllByTarget(this.node),c(this.node).by(1,{position:this.m_MoveV3},{easing:"expoOut"}).delay(this.m_stopTime).call((function(){u.closeView(t)})).start()},n}(p))||V);n._RF.pop()}}}));

System.register("chunks:///_virtual/SchemeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./ListItem.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./FacilityConfig.ts","./ItemConfig.ts","./SuitConfig.ts","./DataTable.ts","./EventUtility.ts","./UIConfig.ts"],(function(t){"use strict";var e,n,i,a,o,r,c,u,l,s,m,f,h,d,p,y,b,g,I,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,c=t.Label,u=t.Node},function(t){l=t.eventDispatcher},function(t){s=t.default},function(t){m=t.dataTableManager},function(t){f=t.LocalizationHelper},function(t){h=t.uiManager},function(t){d=t.facilityConfig},function(t){p=t.itemConfig,y=t.EItemEnum},function(t){b=t.suitConfig},function(t){g=t.EDataTables},function(t){I=t.MEventNames},function(t){L=t.MUIConfig}],execute:function(){var v,C,S,_,M,w,D,E,V,x,A;t("SchemeItemStart",void 0),o._RF.push({},"fd8e2rJoVZME6e8cN5ohywv","SchemeItem",void 0);var R,T=r.ccclass,k=r.property;!function(t){t[t.CREATE=1]="CREATE",t[t.ADD=2]="ADD",t[t.LOCK=3]="LOCK"}(R||(R=t("SchemeItemStart",{})));t("SchemeItem",(v=T("SchemeItem"),C=k(c),S=k(u),_=k(c),M=k(c),v((E=e((D=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).startChild=[],e.m_Idx=0,e.m_Monery=0,i(e,"nameLab",E,a(e)),i(e,"tipsLab",V,a(e)),i(e,"idLab",x,a(e)),i(e,"moneyLab",A,a(e)),e}n(e,t);var o=e.prototype;return o.onLoad=function(){this.startChild=this.node.children},o.initItem=function(t,e,n){this.m_Idx=t,this.setItemStart(n),n==R.LOCK&&this.updateMoneyLab(),n==R.CREATE&&(this.updateSchemeItemCreate(e),this.updateIdxLab(t+1))},o.setItemStart=function(t){for(var e=1;e<this.startChild.length;e++){this.startChild[e].active=e==t}},o.updateSchemeItemCreate=function(t){var e=f.getString("46_8");t&&t.name&&(e=t.name),this.nameLab.string=e},o.updateIdxLab=function(t){this.idLab.string=t+"",this.tipsLab.active=b.activation==t},o.updateMoneyLab=function(){var t=this.getBuyMonery();this.moneyLab.string=t+""},o.getBuyMonery=function(){var t=m.getData(g.Constant,9).Value;return t*=b.BuyConut,this.m_Monery=t,t},o.clickAddBtn=function(){h.openView(L.SchemeReplaceView,null,this.m_Idx)},o.onClickUnlock=function(){p.itemEnough(y.money,this.m_Monery)?(p.useItem(y.money,this.m_Monery),b.addRenovation(),this.setItemStart(R.ADD),l.event(I.addRenovationScheme)):h.openView(L.TipView,null,{content:f.getString("1_17")})},o.onClickSave=function(){h.openView(L.SchemeReplaceView,null,this.m_Idx)},o.onClickPlay=function(){b.activationId=this.m_Idx;var t=b.renovationLst[this.m_Idx],e=t.facilityVec;e?(d.useFacilityLst=e,d.useFacilityToareaId(),l.event(I.UpdateAllAreaUnlock)):t.facilityVec=d.useFacilityLst},o.onClickName=function(){h.openView(L.ReplaceNameView,null,this.m_Idx)},e}(s)).prototype,"nameLab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(D.prototype,"tipsLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(D.prototype,"idLab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(D.prototype,"moneyLab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=D))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/SchemeReplaceView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./UIView.ts","./SuitConfig.ts","./EventUtility.ts"],(function(e){"use strict";var t,n,i,c,o,s,a,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.eventDispatcher},function(e){o=e.uiManager},function(e){s=e.UIView},function(e){a=e.suitConfig},function(e){r=e.MEventNames}],execute:function(){var u;n._RF.push({},"01faaH/LI1PfrbYjp9DZjSh","SchemeReplaceView",void 0);var l=i.ccclass;i.property,e("SchemeReplaceView",l("SchemeReplaceView")(u=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).m_Idx=0,t}t(n,e);var i=n.prototype;return i.onOpen=function(e){this.m_Idx=e},i.clickClose=function(){o.closeView(this)},i.clickReplace=function(){a.saveRenovation(this.m_Idx),c.event(r.SaveRenovationScheme,this.m_Idx),this.clickClose()},n}(s))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/SClearEatState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts"],(function(t){"use strict";var e,n,a,s;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){a=t.cclegacy},function(t){s=t.FsmState}],execute:function(){a._RF.push({},"03160PhjZZGsY4qBGqMqqIP","SClearEatState",void 0),t("SClearEatState",function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var s=a.prototype;return s.onEnter=function(t,e){var n=t.task.data,a=t.getEatTable(n.tableId).config.servePos;t.seekPath0(a,t.getTableLayer(n.tableId)+""),t.animAgent.move()},s.onExecute=function(t,e){3==t.step&&t.fsm.currentStateTime>=t.getClearTime()&&t.endClearEat()},s.onExit=function(t){},s.onPathEnd=function(t){t.startClearEat()},s.onAnimComplete=function(t,e){},n(a,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new a),this.m_Instance}}]),a}(s)).m_Instance=void 0,a._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreUpTips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./UIView.ts"],(function(e){"use strict";var r,i,o,t,n,c,s,a,l,p,u,b,f;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){n=e.cclegacy,c=e._decorator,s=e.Node,a=e.Label,l=e.color,p=e.tween,u=e.v3},function(e){b=e.uiManager},function(e){f=e.UIView}],execute:function(){var g,h,v,d,m,y,I,w,L;n._RF.push({},"4e4d0Sr09RKi7IwuDHjcvpo","ScoreUpTips",void 0);var U=c.ccclass,A=c.property;e("ScoreUpTips",(g=U("ScoreUpTips"),h=A([s]),v=A(a),d=A(s),g((I=r((y=function(e){function r(){for(var r,i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return r=e.call.apply(e,[this].concat(n))||this,o(r,"scoreImgArr",I,t(r)),o(r,"scoreLab",w,t(r)),o(r,"moveNode",L,t(r)),r}return i(r,e),r.prototype.onOpen=function(e){var r=this;this.moveNode.setPosition(0,0,0);for(var i=[l(207,117,18),l(17,158,206),l(48,158,48)],o=0;o<this.scoreImgArr.length;o++)o==e.index?this.scoreImgArr[o].active=!0:this.scoreImgArr[o].active=!1;this.scoreLab.color=i[e.index],this.scoreLab.string="+"+e.score,p(this.moveNode).by(.8,{position:u(0,200,0)}).call((function(){b.closeView(r)})).start()},r}(f)).prototype,"scoreImgArr",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=r(y.prototype,"scoreLab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=r(y.prototype,"moveNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollViewDst.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts"],(function(t){"use strict";var e,n,o,r,i,a,c,l,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,c=t.ScrollView,l=t.v2,s=t.Component},function(t){u=t.eventDispatcher}],execute:function(){var h,g,p,d,f;i._RF.push({},"d1a7axeMIpGuKUA7Vq2tTQY","ScrollViewDst",void 0);var v=a.ccclass,_=a.property;t("ScrollViewDst",(h=v("ScrollViewDst"),g=_(c),h((f=e((d=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,o(e,"dst",f,r(e)),e._length=0,e}n(e,t);var i=e.prototype;return i.onLoad=function(){var t=this,e=this.dst;u.on("on.src.began",this,(function(t){e._onTouchBegan(t)})),u.on("on.src.moved",this,(function(n){var o=n.touch,r=(o.getUILocation().subtract(o.getUIStartLocation()),n.getDeltaX()),i=n.getDeltaY(),a=t.getAngle(o.getUILocation(),o.getUIStartLocation());return Math.abs(r)>Math.abs(i)?t._length=r>0?1:2:t._length=i>0?3:4,t._length>2&&e.horizontal&&Math.abs(a)<5||t._length<3&&e.vertical&&Math.abs(a)>5?(n.propagationStopped=!0,e._stopPropagationIfTargetIsMe(n),e._onTouchCancelled(n),void(e._touchMoved=!1)):void e._onTouchMoved(n)})),u.on("on.src.ended",this,(function(t){e._onTouchEnded(t)}))},i.onDestroy=function(){u.offAllCaller(this)},i.getAngle=function(t,e){var n=e.x-t.x,o=e.y-t.y;return-(l(n,o).signAngle(l(1,0))/Math.PI*180)},e}(s)).prototype,"dst",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=d))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollViewSrc.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts"],(function(t){"use strict";var e,n,o,c,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,c=t.ScrollView},function(t){r=t.eventDispatcher}],execute:function(){var i;n._RF.push({},"91979dKMTxO74I5Htv+EbdH","ScrollViewSrc",void 0);var l=o.ccclass;o.property,t("ScrollViewSrc",l("ScrollViewSrc")(i=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))||this)._length=0,e}e(n,t);var o=n.prototype;return o._onTouchBegan=function(e,n){this.getLock(e),this._length>2&&r.event("on.src.began",e),t.prototype._onTouchBegan.call(this,e,n)},o._onTouchMoved=function(e,n){this.getLock(e),this._length>2?r.event("on.src.moved",e):t.prototype._onTouchMoved.call(this,e,n)},o._onTouchEnded=function(e,n){t.prototype._onTouchEnded.call(this,e,n),r.event("on.src.ended",e)},o.getLock=function(t){var e=t.getDeltaX(),n=t.getDeltaY();Math.abs(e)>Math.abs(n)?this._length=e>0?1:2:this._length=n>0?3:4},n}(c))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/SCutDishState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts"],(function(t){"use strict";var n,e,s,i;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy},function(t){i=t.FsmState}],execute:function(){s._RF.push({},"4b78cIlVvBGiJTAFn7Vieh4","SCutDishState",void 0),t("SCutDishState",function(t){function s(){return t.apply(this,arguments)||this}n(s,t);var i=s.prototype;return i.onEnter=function(t,n){t.startToCutDish()},i.onExecute=function(t,n){},i.onExit=function(t){},i.onPathEnd=function(t){0==t.step&&t.startCutDish()},e(s,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new s),this.m_Instance}}]),s}(i)).m_Instance=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/SDKInfoMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./PurchaseGiftConfig.ts","./ShopCurrencyConfig.ts","./EventUtility.ts","./GameTool.ts","./UIConfig.ts","./GoogleBilling.ts"],(function(e){"use strict";var t,i,n,o,a,r,c,s,g,f,l,u,d,m,h;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,o=e.Enum,a=e.Component},function(e){r=e.default},function(e){c=e.eventDispatcher},function(e){s=e.LocalizationHelper},function(e){g=e.uiManager},function(e){f=e.purchaseGiftConfig},function(e){l=e.shopCurrencyConfig},function(e){u=e.MEventNames},function(e){d=e.GameTool},function(e){m=e.MUIConfig},function(e){h=e.googleBillinger}],execute:function(){var p,_;e("PurchaseIDEM",void 0),i._RF.push({},"61810DXYt5BlqTiB1iI6luT","SDKInfoMgr",void 0);var w,V=n.ccclass;n.property;!function(e){e.gift_1001="com.longames.restaurant.gift1",e.gift_1002="com.longames.restaurant.gift2",e.gift_1003="com.longames.restaurant.gift3",e.gift_1004="com.longames.restaurant.gift4",e.gift_1005="com.longames.restaurant.gift5",e.gift_1006="com.longames.restaurant.gift6",e.gift_1007="com.longames.restaurant.gift7",e.gift_1008="com.longames.restaurant.gift8",e.gift_2004="com.longames.restaurant.diamond.2000",e.gift_2005="com.longames.restaurant.diamond.1200",e.gift_2006="com.longames.restaurant.diamond.600",e.gift_2007="com.longames.restaurant.diamond.350",e.gift_2008="com.longames.restaurant.diamond.120",e.gift_2009="com.longames.restaurant.diamond.60"}(w||(w=e("PurchaseIDEM",{}))),o(w);e("SDKInfoMgr",V("SDKInfoMgr")(((_=function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.prototype.onLoad=function(){i.circleView=this.node.getChildByName("UI").getChildByName("CircleView")},i.SDKLoadShow=function(){this.sdkGetType=1,r.info("......SDKLoadShow....."),this.circleView&&this.circleView.isValid&&(this.circleView.active=!0)},i.SDKLoadClose=function(){this.sdkGetType=0,r.info("......SDKLoadClose....."),this.circleView&&this.circleView.isValid&&(this.circleView.active=!1)},i.noNetwork=function(){this.sdkGetType=0,g.openView(m.TipView,null,{content:s.getString("1_30")})},i.showADFail=function(){g.openView(m.TipView,null,{content:s.getString("1_27")})},i.rechargeNoInit=function(){g.openView(m.TipView,null,{content:s.getString("1_29")})},i.rechargeFail=function(){g.openView(m.TipView,null,{content:s.getString("1_28")})},i.getAllRechargeOrder=function(){var e=[];for(var t in w)e.push(w[t]);h.querySkuDetails(e,(function(e){r.info(".....order  info."),r.info(e);for(var t=0;t<e.length;t++)i.orderDic[e[t].productId]=e[t];i.isHaveOrderInfo=!0,c.event(u.RechargeRefresh)}))},i.rechargeSuccess=function(e,t){var i=0,n=null;switch(e+""){case w.gift_1001:case w.gift_1002:case w.gift_1003:case w.gift_1004:case w.gift_1005:case w.gift_1006:case w.gift_1007:case w.gift_1008:i=d.splitNumberArray(w[e])[1],n=f.fmtRewardData(f.getReward(i)),g.openView(m.CongratulationView,null,{data:n}),c.event(u.PurchaseGiftRecharge);break;case w.gift_2004:case w.gift_2005:case w.gift_2006:case w.gift_2007:case w.gift_2008:case w.gift_2009:i=d.splitNumberArray(w[e])[1],n=l.fmtRewardData(l.getReward(i)),g.openView(m.CongratulationView,null,{data:n}),c.event(u.ShopDiamondRecharge)}},i}(a)).orderDic={},_.isHaveOrderInfo=!1,_.sdkGetType=0,_.circleView=void 0,p=_))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/SDKTestView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./UnbiasedTime.ts","./UIView.ts","./GoogleAdMob.ts","./GoogleBilling.ts","./GoogleFirebase.ts","./SDKInfoMgr.ts"],(function(i){"use strict";var t,e,n,r,o,a,s,u,c,l,f,g,b,h,p,d;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){o=i.cclegacy,a=i._decorator,s=i.Label,u=i.color},function(i){c=i.default},function(i){l=i.unbiasedTimer},function(i){f=i.UIView},function(i){g=i.googleAdMober},function(i){b=i.googleBillinger},function(i){h=i.googleFirebaser,p=i.eAnalyticsEvent},function(i){d=i.PurchaseIDEM}],execute:function(){var m,L,T,v,w,y,D,S,k,A,C;o._RF.push({},"56397BCwtVM/La9D+ipgZ/k","SDKTestView",void 0);var M=a.ccclass,_=a.property;i("SDKTestView",(m=M("SDKTestView"),L=_(s),T=_(s),v=_(s),w=_(s),m((S=t((D=function(i){function t(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(t=i.call.apply(i,[this].concat(o))||this).mLongTime=1,t.mTimer=0,n(t,"tipLab",S,r(t)),n(t,"currTimeLab",k,r(t)),n(t,"unbiasedTimeLab",A,r(t)),n(t,"testErrorLab",C,r(t)),t}e(t,i);var o=t.prototype;return o.start=function(){this.showUnbiasedTime()},o.showUnbiasedTime=function(){this.currTimeLab.string=this.formatTime(new Date),this.unbiasedTimeLab.string=this.formatTime(l.date)},o.formatTime=function(i){return i.getFullYear()+"/"+(i.getMonth()+1)+"/"+i.getDate()+" "+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()},o.onBannerAdClick=function(){var i=this;g.showBannerAd((function(t){i.tipLab.string=t}))},o.onInterstitialAdClick=function(){var i=this;g.showInterstitialAd((function(t){i.tipLab.string=t}))},o.onRewardedAdClick=function(){var i=this;g.showRewardedAd((function(t){i.tipLab.string=t}),(function(t){i.tipLab.string=t}))},o.onEventClick=function(){var i=Math.floor(3*Math.random()+0);h.logEvent(p.event_guide,["guide_1","guide_2","guide_3"][i])},o.onTestErrorClick=function(){c.info("Start A JSError!"),this.testErrorLab.color=u(0,0,0)},o.onQuerySkuDetailsClick=function(){var i=this,t=d.gift_1001;b.querySkuDetails(t,(function(t){i.tipLab.string="";for(var e=0;e<t.length;e++){var n=t[e];i.tipLab.string+=JSON.stringify(n)+"\n"}}))},o.onPayClick=function(){var i=this,t=d.gift_1001;b.pay(t,(function(t){i.tipLab.string=JSON.stringify(t)}),(function(t){i.tipLab.string=t}))},o.onQueryPurchasesClick=function(){var i=this;b.queryPurchases((function(t){i.tipLab.string="";for(var e=[],n=0;n<t.length;n++){var r=t[n];i.tipLab.string+=JSON.stringify(r)+"\n",e.push(r.orderId)}b.consumeAsync(e)}))},o.onReviewClick=function(){var i=this;h.launchReviewFlow((function(){i.tipLab.string="评价结束"}))},o.update=function(i){this.mTimer+=i,this.mTimer>=this.mLongTime&&(this.mTimer=0,this.showUnbiasedTime())},t}(f)).prototype,"tipLab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(D.prototype,"currTimeLab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(D.prototype,"unbiasedTimeLab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(D.prototype,"testErrorLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=D))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/SelectItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationHelper.ts","./SelectTable.ts"],(function(e){"use strict";var t,n,r,i,c,o,a,l,s,u,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){c=e.cclegacy,o=e._decorator,a=e.Node,l=e.Label,s=e.Color,u=e.Component},function(e){p=e.LocalizationHelper},function(e){f=e.ESelectStart}],execute:function(){var b,m,L,S,h,y,g;c._RF.push({},"c9b02nmZjRPVrsMXPBIHNsd","SelectItem",void 0);var I=o.ccclass,d=o.property;e("SelectItem",(b=I("SelectItem"),m=d(a),L=d(l),b((y=t((h=function(e){function t(){for(var t,n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return t=e.call.apply(e,[this].concat(c))||this,r(t,"selectIcon",y,i(t)),r(t,"nameLab",g,i(t)),t}n(t,e);var c=t.prototype;return c.switchSelected=function(e){this.selectIcon.active=f.SELECT==e,this.nameLab.color=f.SELECT==e?new s("D4461A"):new s("83706A")},c.setNameLab=function(e){this.nameLab.string=p.getString(e)},t}(u)).prototype,"selectIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(h.prototype,"nameLab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=h))||S));c._RF.pop()}}}));

System.register("chunks:///_virtual/SelectTable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AreaTool.ts","./RegionTool.ts","./SelectItem.ts"],(function(e){"use strict";var t,n,c,i,o,l,s,a;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){c=e.cclegacy,i=e._decorator,o=e.Component},function(e){l=e.AreaTool},function(e){s=e.RegionTool},function(e){a=e.SelectItem}],execute:function(){var r;e("ESelectStart",void 0),c._RF.push({},"cedd8/+MO5Id4aXgDQmIf58","SelectTable",void 0);var u,h=i.ccclass;i.property;!function(e){e[e.NONE=0]="NONE",e[e.SELECT=1]="SELECT",e[e.UNLOCK=2]="UNLOCK"}(u||(u=e("ESelectStart",{})));e("SelectTable",h("SelectTable")(r=function(e){function c(){for(var t,n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))||this).m_selectedId=0,t.m_SelectVec=[],t.m_Taget=null,t}t(c,e);var i=c.prototype;return i.onLoad=function(){this.m_SelectVec=this.node.getComponentsInChildren(a),this.setSelectItemName()},i.onInit=function(e){this.m_Taget=e,this.isShow(!1)},i.onSelected=function(e,t){this.m_selectedId=t,this.switchStart(t),this.m_Taget.FTouchCallback.call(this.m_Taget.ATagert,this.RegionType)},i.switchStart=function(e){for(var t=0;t<this.m_SelectVec.length;t++){var n=this.m_SelectVec[t],c=t==e?u.SELECT:u.UNLOCK;n.switchSelected(c)}},i.isShow=function(e){this.node.active=e},i.setSelectItemName=function(){for(var e=0;e<this.m_SelectVec.length;e++){var t=this.m_SelectVec[e],n=this.getSubId(e),c=s.instance.getRegionData(n);t.setNameLab(c.Name)}},i.getSubId=function(e){return l.instance.getSubId(e)},n(c,[{key:"RegionType",get:function(){return this.getSubId(this.m_selectedId)}},{key:"Selelcted",set:function(e){this.onSelected(null,e)}},{key:"SelelctedId",get:function(){return this.m_selectedId}}]),c}(o))||r);c._RF.pop()}}}));

System.register("chunks:///_virtual/SettingConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts"],(function(t){"use strict";var n,i,s,e,c;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator},function(t){e=t.configName,c=t.default}],execute:function(){var o;i._RF.push({},"49054nEF6BKVJtXfSwgO9Sy","SettingConfig",void 0);s.ccclass,s.property;var u=e("SettingConfig")(o=function(t){function i(){for(var n,i=arguments.length,s=new Array(i),e=0;e<i;e++)s[e]=arguments[e];return(n=t.call.apply(t,[this].concat(s))||this).sound=1,n.music=1,n.musicID=0,n}n(i,t);var s=i.prototype;return s.setSound=function(){this.sound=1==this.sound?0:1},s.setMusic=function(){this.music=1==this.music?0:1},s.setSelectMusic=function(t){this.musicID=t},i}(c))||o;t("settingConfig",new u);i._RF.pop()}}}));

System.register("chunks:///_virtual/SettingView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./AudioManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./PlayerBaseConfig.ts","./SettingConfig.ts","./EventUtility.ts","./AudioTool.ts","./UIConfig.ts"],(function(e){"use strict";var i,n,t,o,u,c,s,a,r,l,g,f,p,d,h,m,y,b,C,N,v;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){u=e.cclegacy,c=e._decorator,s=e.Label,a=e.Toggle},function(e){r=e.default},function(e){l=e.eventDispatcher},function(e){g=e.audioManager},function(e){f=e.LocalizationHelper},function(e){p=e.uiManager},function(e){d=e.UIView},function(e){h=e.playerBaseConfig},function(e){m=e.settingConfig},function(e){y=e.MEventNames},function(e){b=e.AudioTool,C=e.ESoundType,N=e.EAudioGroup},function(e){v=e.MUIConfig}],execute:function(){var w,S,k,T,M,_,V,L,I;u._RF.push({},"6eb35W2N1BJaJbxgWbfyYaN","SettingView",void 0);var z=c.ccclass,A=c.property;e("SettingView",(w=z("SettingView"),S=A(s),k=A(a),T=A(a),w((V=i((_=function(e){function i(){for(var i,n=arguments.length,u=new Array(n),c=0;c<n;c++)u[c]=arguments[c];return i=e.call.apply(e,[this].concat(u))||this,t(i,"shopName",V,o(i)),t(i,"soundToggle",L,o(i)),t(i,"musicToggle",I,o(i)),i.musicConfig=[{id:0,name:"41_8"},{id:1,name:"41_9"}],i}n(i,e);var u=i.prototype;return u.onEnable=function(){l.on(y.ChangeName,this,this.refreshName)},u.onDisable=function(){l.off(y.ChangeName,this,this.refreshName)},u.onInit=function(){this.soundToggle.isChecked=1==m.sound,this.musicToggle.isChecked=1==m.music},u.onOpen=function(){this.refreshName(),b.play(C.ui_open)},u.refreshName=function(){this.shopName.string=h.playerName},u.onListVRender=function(e,i){e.getChildByName("nameLab").getComponent(s).string=f.getString(this.musicConfig[i].name)},u.onListSelected=function(e,i,n,t){e&&i!=m.musicID&&m.setSelectMusic(i)},u.clickSound=function(){m.setSound(),this.soundToggle.isChecked=1==m.sound;var e=g.getAudioGroup(N.Sound);e?e.volume=m.sound:r.debug("cant find group  "+N.Sound),b.play(C.ui_click)},u.clickMusic=function(){m.setMusic(),this.musicToggle.isChecked=1==m.music;var e=g.getAudioGroup(N.Music);e?e.volume=m.music:r.debug("cant find group  "+N.Music),b.play(C.ui_click)},u.clickClose=function(){b.play(C.ui_click),p.closeView(this)},u.clickChangeName=function(){b.play(C.ui_click),p.openView(v.ChangeNameViewNew)},i}(d)).prototype,"shopName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(_.prototype,"soundToggle",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(_.prototype,"musicToggle",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=_))||M));u._RF.pop()}}}));

System.register("chunks:///_virtual/ShopConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts"],(function(n){"use strict";var o,t,i,e;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy},function(n){i=n.configName,e=n.default}],execute:function(){var u;t._RF.push({},"4dfb0NwIhJBvo0OqtTpqxb2","ShopConfig",void 0);var r=i("ShopConfig")(u=function(n){function t(){return n.apply(this,arguments)||this}return o(t,n),t.prototype.onInit=function(n){},t}(e))||u;n("shopConfig",new r);t._RF.pop()}}}));

System.register("chunks:///_virtual/ShopConversionItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./ItemConfig.ts","./ShopInfoMgr.ts","./EventUtility.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts"],(function(e){"use strict";var t,n,i,o,r,a,u,l,c,s,f,b,p,h,g,m,v,d,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,u=e.Sprite,l=e.Label,c=e.Node,s=e.Component},function(e){f=e.eventDispatcher},function(e){b=e.LocalizationHelper},function(e){p=e.itemConfig},function(e){h=e.ShopInfoMgr},function(e){g=e.MEventNames},function(e){m=e.EGameBundles},function(e){v=e.AudioTool,d=e.ESoundType},function(e){I=e.ResourceTool}],execute:function(){var y,L,z,S,N,w,D,C,_,E,M,U,P,T,R,A,k,B,F;r._RF.push({},"20c0dPQRM9Kaopmi+bWeXhW","ShopConversionItem",void 0);var G=a.ccclass,H=a.property;e("ShopConversionItem",(y=G("ShopConversionItem"),L=H(u),z=H(l),S=H(l),N=H(l),w=H(l),D=H(l),C=H(c),_=H(c),y((U=t((M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"icon",U,o(t)),i(t,"nameLab",P,o(t)),i(t,"desLab",T,o(t)),i(t,"prizeLab",R,o(t)),i(t,"ownerLab",A,o(t)),i(t,"numLab",k,o(t)),i(t,"buttonNode1",B,o(t)),i(t,"buttonNode2",F,o(t)),t.m_ID=-1,t.config=null,t}n(t,e);var r=t.prototype;return r.onEnable=function(){f.on(g.ShopConversionEvent,this,this.refreshUI),this.refreshUI()},r.onDisable=function(){f.offAllCaller(this)},r.setData=function(e,t){this.m_ID=e,this.config=h.instance.conversionMgr.getDic(e),this.prizeLab.string=""+this.config.Price;var n=p.getDic(this.config.ItemId);n&&(this.nameLab.string=b.getString(n.Name),this.desLab.string=b.getString(n.Info),this.numLab.string=""+this.config.Num,I.setSpriteFrame(m.LoadOnPlay,p.getItemIconUrl(n.Id),this.icon,t)),this.refreshUI()},r.refreshUI=function(){this.config&&(this.buttonNode1.active=p.itemEnough(this.config.NeedItem,this.config.Price),this.buttonNode2.active=!this.buttonNode1.active,this.ownerLab.string=b.getString("22_8",[p.getItemNum(this.config.ItemId)]))},r.clickGet=function(){-1!=this.m_ID&&(v.play(d.ui_click),h.instance.conversionMgr.conversionOne(this.m_ID)&&f.event(g.ShopConversionEvent))},t}(s)).prototype,"icon",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(M.prototype,"nameLab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(M.prototype,"desLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(M.prototype,"prizeLab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(M.prototype,"ownerLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(M.prototype,"numLab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(M.prototype,"buttonNode1",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(M.prototype,"buttonNode2",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=M))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/ShopConversionMgr.ts",["cc","./DataTableManager.ts","./ItemConfig.ts","./DataTable.ts"],(function(n){"use strict";var e,t,i,r;return{setters:[function(n){e=n.cclegacy},function(n){t=n.dataTableManager},function(n){i=n.itemConfig},function(n){r=n.EDataTables}],execute:function(){e._RF.push({},"5f2c87z6klHuaUbzLCjrPK4","ShopConversionMgr",void 0);n("ShopConversionMgr",function(){function n(){}var e=n.prototype;return e.getDic=function(n){return t.getData(r.OpeningExchange,n)},e.conversionOne=function(n){var e=this.getDic(n);return!!e&&(!!this.canConversion(n)&&(i.addItem(e.ItemId,e.Num),i.useItem(e.NeedItem,e.Price),!0))},e.canConversion=function(n){var e=this.getDic(n);return i.itemEnough(e.NeedItem,e.Price)},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ShopConversionView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./ItemConfig.ts","./ShopInfoMgr.ts","./DataTable.ts","./EventUtility.ts","./AudioTool.ts","./ShopConversionItem.ts"],(function(e){"use strict";var n,t,o,i,r,a,s,c,u,l,f,p,h,v,m,d,g,y,I,b,C;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Label,c=e.Layout,u=e.Node},function(e){l=e.eventDispatcher},function(e){f=e.dataTableManager},function(e){p=e.uiManager},function(e){h=e.UIView},function(e){v=e.default},function(e){m=e.itemConfig},function(e){d=e.ShopInfoMgr},function(e){g=e.EDataTables},function(e){y=e.MEventNames},function(e){I=e.AudioTool,b=e.ESoundType},function(e){C=e.ShopConversionItem}],execute:function(){var w,D,E,S,T,L,M,U,_;r._RF.push({},"5295dcKMslD8aKT0n9HwoBu","ShopConversionView",void 0);var N=a.ccclass,V=a.property;e("ShopRewardConversionView",(w=N("ShopRewardConversionView"),D=V(s),E=V(c),S=V(u),w((M=n((L=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,o(n,"scoreLab",M,i(n)),o(n,"itemLayout",U,i(n)),o(n,"shopConversionItem",_,i(n)),n.m_NeedItem=60,n}t(n,e);var r=n.prototype;return r.onDestroy=function(){l.offAllCaller(this)},r.addEvent=function(){l.on(y.ShopConversionEvent,this,this.refreshUI)},r.onInit=function(){var e=this;this.addEvent();var n=f.getDataTableArray(g.OpeningExchange),t=[];n.forEach((function(e){1==e.ChangeType&&e.ItemId>0&&t.push(e)})),t.forEach((function(n,t){var o=v.instantiate(e.shopConversionItem.name,e.shopConversionItem,!0);o.active=!0,e.itemLayout.node.addChild(o),o.getComponent(C).setData(n.Id,e)}))},r.onOpen=function(){this.refreshUI()},r.refreshUI=function(){this.scoreLab.string=""+m.getItemNum(this.m_NeedItem)},r.clickConversion=function(e){I.play(b.ui_click);var n=Number(e.target.name);"number"==typeof n&&d.instance.conversionMgr.conversionOne(n)},r.clickClose=function(){I.play(b.ui_click),p.closeView(this)},n}(h)).prototype,"scoreLab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(L.prototype,"itemLayout",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(L.prototype,"shopConversionItem",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=L))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/ShopCurrencyConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./Configable.ts","./UnbiasedTime.ts","./DataTableManager.ts","./ItemData.ts","./DataTable.ts","./GoogleFirebase.ts","./GameTool.ts","./ItemConfig.ts","./StarConfig.ts"],(function(t){"use strict";var e,a,n,r,i,s,o,u,c,d,f,h,g,l,m;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy},function(t){n=t.default},function(t){r=t.configName,i=t.default},function(t){s=t.unbiasedTimer},function(t){o=t.dataTableManager},function(t){u=t.ItemData},function(t){c=t.EDataTables},function(t){d=t.googleFirebaser,f=t.eAnalyticsEvent},function(t){h=t.GameTool},function(t){g=t.itemConfig,l=t.EItemEnum},function(t){m=t.starConfig}],execute:function(){var p;a._RF.push({},"09b421j3ApN5ILIQsMNkUPS","ShopCurrencyConfig",void 0);var y=r("ShopCurrencyConfig")(p=function(t){function a(){for(var e,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).purchaseData={},e.firstDate="",e.timeArray=[0,0],e}e(a,t);var r=a.prototype;return r.onInit=function(t){this.firstDate||(this.firstDate=h.dateFormat(s.date,"yy-MM-dd"))},r.getConfig=function(t){return o.getData(c.ShopDiamond,t)},r.isFirstDate=function(){return this.firstDate==h.dateFormat(s.date,"yy-MM-dd")},r.isToday=function(t){return t==h.dateFormat(s.date,"yy-MM-dd")},r.getRewardTime=function(t){return this.getPurchaseData(t).time||-1},r.getRewardNumber=function(t){return this.getPurchaseData(t).num},r.setRefreshTime=function(t,e){this.timeArray[t]=e},r.getPurchaseData=function(t){if(!this.purchaseData[t]){var e=o.getData(c.ShopDiamond,t);this.purchaseData[t]={num:0},"string"==typeof e.PriceType&&(this.purchaseData[t].time=0)}return this.purchaseData[t]},r.canGetReward=function(t){var e=this.getPurchaseData(t),a=!1;switch(this.getRewardData(t)[2]){case 0:a=!this.isToday(e.getDate);break;case 1:a=!0;break;case 2:a=g.itemEnough(l.diamond,this.getConfig(t).Price);break;case 3:a=s.now>=e.time}return a},r.getReward=function(t){if(!this.canGetReward(t))return null;var e=this.getPurchaseData(t),a=this.getRewardData(t),n=this.getConfig(t);2==n.PriceType&&g.useItem(l.diamond,n.Price,1),g.addItem(a[0],a[1]),3==a[2]&&(e.time=s.now+6e4),"string"==typeof n.PriceType&&(e.getDate=h.dateFormat(s.date,"yy-MM-dd"));var r=t%1e3;return 1==n.PriceType&&r>3?d.logEvent(f.event_purchase,"purchase_diamond"+(r-1)):this.addLog(t),e.num++,a},r.fmtRewardData=function(t){var e=[];return t&&t.length&&(e[0]=new u(t[0],t[1])),e.length?e:null},r.getRewardData=function(t){var e=this.getConfig(t),a=this.getPurchaseData(t);if(!e)return null;var n=[e.ItemId],r=h.splitNumberArray(e.Number+""),i=h.splitNumberArray(e.PriceType+""),s=0,o=-1;if(i.length>1){var u=this.isFirstDate();o=i[s=u?0:1],n[1]=r[s],u||this.isToday(a.getDate)||(o=i[0])}else o=i[s],n[1]=r[s];return n[2]=o,n[0]==l.money&&(n[1]=r[s]*m.getCurStarDic().MaxGold),n},r.addLog=function(t){var e={2001:"ad_supplygold",2002:"ad_supplydiamond",2003:"ad_supplyphysical"}[t];e?d.logEvent(f.event_ad,e):n.info("addLog error   id : ",t)},r.testClear=function(){this.purchaseData={},this.firstDate="",this.onInit(!0)},a}(i))||p;t("shopCurrencyConfig",new y);a._RF.pop()}}}));

System.register("chunks:///_virtual/ShopCurrencyItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./UnbiasedTime.ts","./LocalizationHelper.ts","./UIManager.ts","./ItemConfig.ts","./ShopCurrencyConfig.ts","./EventUtility.ts","./GameUtility.ts","./GoogleAdMob.ts","./GoogleBilling.ts","./SDKInfoMgr.ts","./GameTool.ts","./ResourceTool.ts","./UIConfig.ts"],(function(e){"use strict";var t,i,n,r,o,c,a,s,l,f,u,h,g,p,d,y,_,m,b,I,v,D,w,C,T,S,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Node,s=e.Label,l=e.RichText,f=e.Component},function(e){u=e.default},function(e){h=e.eventDispatcher},function(e){g=e.unbiasedTimer},function(e){p=e.LocalizationHelper},function(e){d=e.uiManager},function(e){y=e.EItemEnum,_=e.itemConfig},function(e){m=e.shopCurrencyConfig},function(e){b=e.MEventNames},function(e){I=e.EGameBundles},function(e){v=e.googleAdMober},function(e){D=e.googleBillinger},function(e){w=e.SDKInfoMgr,C=e.PurchaseIDEM},function(e){T=e.GameTool},function(e){S=e.ResourceTool},function(e){R=e.MUIConfig}],execute:function(){var P,B,U,A,N,z,E,G,M,L,k,F,V,x,H;o._RF.push({},"40e771v1NlGAZgFP81jmi51","ShopCurrencyItem",void 0);var j=c.ccclass,K=c.property;e("ShopCurrencyItem",(P=j("ShopCurrencyItem"),B=K(a),U=K(a),A=K(s),N=K(s),z=K(s),E=K(a),P((L=t((M=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,n(t,"icon",L,r(t)),n(t,"off_icon",k,r(t)),n(t,"off_lab",F,r(t)),n(t,"num_lab",V,r(t)),n(t,"des_lab",x,r(t)),n(t,"type_par",H,r(t)),t._configID=0,t._typeID=-1,t._config=null,t}i(t,e);var o=t.prototype;return o.onEnable=function(){h.on(b.RechargeRefresh,this,this.refreshPrice),this._configID&&(this.updateUI(),this.refreshPrice())},o.onDisable=function(){h.offAllCaller(this)},o.onLoad=function(){this.schedule(this.updateUI.bind(this),1)},o.setData=function(e){this._configID=e.Id,this._config=e,this.refresUI()},o.refresUI=function(){var e=this,t=this._config,i=m.getRewardData(this._configID);this._typeID=0==i[2]||3==i[2]?0:i[2],this.des_lab.string=p.getString(t.Des),this.num_lab.string="x"+i[1],this.off_icon.active=t.Discount>0,this.off_icon.active&&(this.off_lab.string=t.Discount+"%");var n=t.ItemId==y.diamond?"Res/Texture/UI/Shop/Purchase/d"+t.Id:_.getItemIconUrl(t.ItemId);S.setNodeSpriteFrame(I.LoadOnPlay,n,this.icon,this.node.parent),this.type_par.children.forEach((function(t,i){t.active=i==e._typeID})),this.refresAllType()},o.refresAllType=function(){switch(this._typeID){case 0:this.refreshType0();break;case 1:this.refreshType1();break;case 2:this.refreshType2()}},o.refreshPrice=function(){this._config&&this.refresAllType()},o.getPriceStr=function(){var e="";if(w.isHaveOrderInfo){var t=(e=w.orderDic[C["gift_"+this._configID]].price).match(/-?([1-9]\d*(\.\d*)*|0\.[1-9]\d*)/g);Number(t[0])}else e="$"+this._config.Price;return e},o.refreshType0=function(){this.updateUI()},o.refreshType1=function(){this.type_par.children[1].getChildByName("button").getChildByName("price_lab").getComponent(s).string=this.getPriceStr()},o.refreshType2=function(){this.type_par.children[2].getChildByName("button").getChildByName("price_lab").getComponent(s).string="x"+this._config.Price},o.setAllChildActive=function(e,t){void 0===t&&(t=!1),e.children.forEach((function(e){e.active=t}))},o.buySuccess=function(){var e=m.getReward(this._configID);if(e){var t={data:m.fmtRewardData(e)};d.openView(R.CongratulationView,null,t),this.updateUI()}},o.clickBuy=function(){var e=this;if(m.canGetReward(this._configID))switch(m.getRewardData(this._configID)[2]){case 0:this.buySuccess();break;case 1:D.pay(C["gift_"+this._configID],(function(){}),(function(){u.error("buy failed")}));break;case 2:this.buySuccess();break;case 3:v.showRewardedAd((function(){e.buySuccess()}))}else 2==this._config.PriceType&&(d.openView(R.TipView,null,{content:p.getString("1_18")}),d.openView(R.PurchaseDiamondView),this.refreshType2())},o.updateUI=function(){if("string"==typeof this._config.PriceType){var e=m.getRewardData(this._configID),t=this.type_par.children[0],i=t.getChildByName("button_free"),n=t.getChildByName("button_watch"),r=t.getChildByName("noTip");this.setAllChildActive(t);var o=t.getChildByName("time_rt1").getComponent(l),c=t.getChildByName("time_lab1").getComponent(s);c.node.active=!0;var a=0;0==e[2]?m.canGetReward(this._configID)?i.active=!0:r.active=!0:3==e[2]?(a=m.getRewardTime(this._configID)-g.now,m.canGetReward(this._configID)?n.active=!0:o.node.active=!0):u.error("item error  rewardData :",e),c.string=p.getString("2_7",[T.getFmtTime((g.tomorrow-g.now)/1e3,"h")]),o.node.active&&(o.string="<color=#936748>"+p.getString("2_6",["<color=#219AC1> "+T.getFmtTime(a/1e3)+"</color>"])+"</color>")}},t}(f)).prototype,"icon",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(M.prototype,"off_icon",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(M.prototype,"off_lab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(M.prototype,"num_lab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(M.prototype,"des_lab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(M.prototype,"type_par",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=M))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopCurrencyMgr.ts",["cc","./UnbiasedTime.ts","./DataTableManager.ts","./ItemConfig.ts","./ShopCurrencyConfig.ts","./StarConfig.ts","./DataTable.ts","./GameTool.ts"],(function(r){"use strict";var t,e,a,n,i,u,s,o,c,h;return{setters:[function(r){t=r.cclegacy,e=r.director,a=r.macro},function(r){n=r.unbiasedTimer},function(r){i=r.dataTableManager},function(r){u=r.EItemEnum},function(r){s=r.shopCurrencyConfig},function(r){o=r.starConfig},function(r){c=r.EDataTables},function(r){h=r.GameTool}],execute:function(){t._RF.push({},"0161cj2A6BPQY+UoFt53Z7r","ShopCurrencyMgr",void 0);r("ShopCurrencyMgr",function(){function r(){this.rewardNumArray=[0,.5],this.rewardIDArray=[0,30],this.m_timeItervalArray=[],this.hasReward=!1;var r=h.splitNumberArray(i.getData(c.Constant,4).Value);this.rewardIDArray[0]=r[0],this.rewardNumArray[0]=r[1],this.m_timeItervalArray[0]=i.getData(c.Constant,5).Value,this.m_timeItervalArray[1]=i.getData(c.Constant,6).Value,this.initScheduler(),this.initScheduler=null}var t=r.prototype;return t.initScheduler=function(){var r=this,t=e.getScheduler();t.schedule((function(t){r.checkHasReward()}),t,1,a.REPEAT_FOREVER,0,!1)},t.checkHasReward=function(r){return!1},t.refreshNewTime=function(r){s.setRefreshTime(r,n.now+1e3*(60*this.m_timeItervalArray[r]-1))},t.getRewardNumber=function(r){var t=this.rewardNumArray[r]>=0?this.rewardNumArray[r]:0;return this.rewardIDArray[r]==u.money?t*o.getCurStarDic().MaxGold:t},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ShopCurrencyView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./List.ts","./DataTableManager.ts","./DataTable.ts","./GameUnlockTool.ts","./ShopCurrencyItem.ts"],(function(e){"use strict";var t,n,r,o,i,a,c,s,u,l,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.Component},function(e){s=e.default},function(e){u=e.dataTableManager},function(e){l=e.EDataTables},function(e){p=e.GameUnlockTool},function(e){f=e.ShopCurrencyItem}],execute:function(){var h,y,g,m,b;i._RF.push({},"4f281r9wLlB6IEopobauy4T","ShopCurrencyView",void 0);var d=a.ccclass,v=a.property;e("ShopCurrencyView",(h=d("ShopCurrencyView"),y=v(s),h((b=t((m=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"mList",b,o(t)),t._configs=null,t}n(t,e);var i=t.prototype;return i.onEnable=function(){var e=this._configs=u.getDataTableArray(l.ShopDiamond),t=[2002];p.instance.wareHouseIsUnlock()||t.push(2003);for(var n=0;n<e.length;n++)-1!=t.indexOf(e[n].Id)&&(e.splice(n,1),n--);this.mList.numItems=e.length},i.onListRender=function(e,t){e&&e.getComponent(f).setData(this._configs[t])},i.refreshPrice=function(){},t}(c)).prototype,"mList",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/ShopDepotConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts"],(function(r){"use strict";var t,e,i,n;return{setters:[function(r){t=r.inheritsLoose},function(r){e=r.cclegacy},function(r){i=r.configName,n=r.default}],execute:function(){var o;e._RF.push({},"947f5aJ0vNMjZRl5QI9lO2w","ShopDepotConfig",void 0);var a=i("ShopDepotConfig")(o=function(r){function e(){for(var t,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(t=r.call.apply(r,[this].concat(i))||this).timeArray=[0,0,0],t.rewardTimesArray=[],t}t(e,r);var i=e.prototype;return i.onInit=function(r){var t=this;this.timeArray.forEach((function(r,e){t.rewardTimesArray[e]=t.rewardTimesArray[e]||0}))},i.getRefreshTime=function(r){return this.timeArray[r]},i.setRefreshTime=function(r,t){this.timeArray[r]=t},i.getReward=function(r){this.timeArray[r]>-1&&this.timeArray[r]++},e}(n))||o;r("shopDepotConfig",new a);e._RF.pop()}}}));

System.register("chunks:///_virtual/ShopDepotMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./UnbiasedTime.ts","./DataTableManager.ts","./GameCensusConfig.ts","./ItemConfig.ts","./ShopDepotConfig.ts","./StarConfig.ts","./DataTable.ts","./GoogleFirebase.ts","./ItemData.ts"],(function(e){"use strict";var t,a,n,r,i,s,o,u,c,g,f,l,m;return{setters:[function(e){t=e.createClass},function(e){a=e.cclegacy},function(e){n=e.default},function(e){r=e.unbiasedTimer},function(e){i=e.dataTableManager},function(e){s=e.gameCensusConfig},function(e){o=e.itemConfig},function(e){u=e.shopDepotConfig},function(e){c=e.starConfig},function(e){g=e.EDataTables},function(e){f=e.googleFirebaser,l=e.eAnalyticsEvent},function(e){m=e.ItemData}],execute:function(){a._RF.push({},"dbbf1qwMx5ICIzjuDrbME0n","ShopDepotMgr",void 0);e("ShopDepotMgr",function(){function e(){this.m_timeItervalArray=[1,1,1],this.rewardIDArray=[30,31,59],this._logIds=["ad_supplygold","ad_supplydiamond","ad_supplyphysical"]}var a=e.prototype;return a.canGetReward=function(e){return!(this.getRemainTime(e)>0)},a.getReward=function(e){if(this.getRemainTime(e)>0)return null;var t=new m(this.rewardIDArray[e],this.getRewardNumber(e));o.addItem(t.id,t.num),this.refreshNewTime(e),this.m_DataBase.getReward(e);var a=this._logIds[e];return a?f.logEvent(l.event_ad,a):n.error("logEvent error  type : ad     eventID :"+a),{reslut:1,itemArray:[t]}},a.getRemainTime=function(e){var t=this.m_DataBase.getRefreshTime(e)||0;return t>-1?t-r.now:1},a.refreshNewTime=function(e){this.m_DataBase.setRefreshTime(e,r.now+60*this.m_timeItervalArray[e]*1e3)},a.getRewardNumber=function(e){var t=0;switch(e){case 0:var a=i.getData(g.Constant,47).Value,n=Math.floor(a*s.goldValue*c.getCurStarDic().Multiple),r=i.getData(g.Constant,46).Value;t=Math.max(n,r);break;case 1:t=20;break;case 2:t=30}return t},t(e,[{key:"m_DataBase",get:function(){return u}}]),e}());a._RF.pop()}}}));

System.register("chunks:///_virtual/ShopDepotView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./ItemConfig.ts","./ShopCurrencyConfig.ts","./ItemData.ts","./ShopInfoMgr.ts","./DataTable.ts","./GoogleAdMob.ts","./AudioTool.ts","./UIConfig.ts"],(function(t){"use strict";var e,i,n,o,a,r,c,s,u,h,l,f,p,g,w,d,b,m,_,y,I,D,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,c=t._decorator,s=t.Node,u=t.Label},function(t){h=t.dataTableManager},function(t){l=t.LocalizationHelper},function(t){f=t.uiManager},function(t){p=t.UIView},function(t){g=t.EItemEnum,w=t.itemConfig},function(t){d=t.shopCurrencyConfig},function(t){b=t.ItemData},function(t){m=t.ShopInfoMgr},function(t){_=t.EDataTables},function(t){y=t.googleAdMober},function(t){I=t.AudioTool,D=t.ESoundType},function(t){v=t.MUIConfig}],execute:function(){var C,S,V,B,L,M,W,N,T,z,R;r._RF.push({},"7fb70Pg6SBEsIPRhqFjW/Bi","ShopDepotView",void 0);var P=c.ccclass,U=c.property;t("ShopDepotView",(C=P("ShopDepotView"),S=U(s),V=U(s),B=U(s),L=U(u),C((N=e((W=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"icon",N,o(e)),n(e,"watchButton",T,o(e)),n(e,"buyButton",z,o(e)),n(e,"priceLab",R,o(e)),e._costNum=10,e._showWatch=!1,e._configID=2002,e._reward=new b(g.money,0),e}i(e,t);var r=e.prototype;return r.onLoad=function(){this._costNum=h.getData(_.Constant,35).Value,this.priceLab.string="x"+this._costNum},r.onOpen=function(t){void 0===t&&(t=2002),this._configID=t,I.play(D.ui_open),this.showWatch=!1,this.refreshUI()},r.refreshUI=function(){var t=this._configID+"";this.icon.children.forEach((function(e){e.active=e.name==t}));var e=d.getRewardData(this._configID);this._reward.set(e[0],e[1]),e[0]==g.money&&(this._reward.num=m.instance.depotMgr.getRewardNumber(0)),this.icon.getChildByName(""+this._configID).getChildByName("numLab").getComponent(u).string="x"+this._reward.num},r.refreshRewardData=function(){},r.refreshShowWatch=function(){this.buyButton.active=!this._showWatch,this.watchButton.active=this._showWatch},r.buySuccess=function(){var t={data:[this._reward]};w.addItem(this._reward.id,this._reward.num),f.openView(v.CongratulationView,null,t),d.addLog(this._configID),f.closeView(this)},r.clickBuy=function(){var t=this,e=d.getConfig(this._configID);d.canGetReward(this._configID)&&e.Price>0&&w.useItem(g.diamond,e.Price)?this.buySuccess():(f.openView(v.TipView,null,{content:l.getString("1_18")}),f.openView(v.PurchaseDiamondView,null,{needNum:this._costNum,callback:function(){t.showWatch=!0}}))},r.clickWatch=function(){var t=this;y.showRewardedAd((function(e){t.buySuccess()}))},r.clickClose=function(){f.closeView(this)},a(e,[{key:"showWatch",set:function(t){this._showWatch=!0,this.refreshShowWatch()}}]),e}(p)).prototype,"icon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(W.prototype,"watchButton",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(W.prototype,"buyButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(W.prototype,"priceLab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=W))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/ShopGiftItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./FoodConfig.ts","./ItemConfig.ts","./PurchaseGiftConfig.ts","./ItemData.ts","./EventUtility.ts","./GameUtility.ts","./GoogleBilling.ts","./SDKInfoMgr.ts","./ResourceTool.ts","./UIConfig.ts"],(function(e){"use strict";var i,t,n,r,o,c,a,s,f,h,l,u,d,g,p,m,v,I,y,P,b,_,D;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Node,s=e.Label,f=e.Component},function(e){h=e.eventDispatcher},function(e){l=e.uiManager},function(e){u=e.foodConfig},function(e){d=e.itemConfig},function(e){g=e.purchaseGiftConfig},function(e){p=e.ItemData,m=e.EItemType},function(e){v=e.MEventNames},function(e){I=e.EGameBundles},function(e){y=e.googleBillinger},function(e){P=e.SDKInfoMgr,b=e.PurchaseIDEM},function(e){_=e.ResourceTool},function(e){D=e.MUIConfig}],execute:function(){var w,S,C,R,N,A,E,G,L,U,B,z,F,M,T;o._RF.push({},"a64f2TnmSNPpp0r3Qsu5c3m","ShopGiftItem",void 0);var k=c.ccclass,O=c.property;e("ShopGiftItem",(w=k("ShopGiftItem"),S=O(a),C=O(s),R=O(a),N=O(a),A=O(a),E=O(a),w((U=i((L=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return i=e.call.apply(e,[this].concat(o))||this,n(i,"itemPar",U,r(i)),n(i,"moneyLab",B,r(i)),n(i,"icon",z,r(i)),n(i,"role",F,r(i)),n(i,"foodPar",M,r(i)),n(i,"discount_icon",T,r(i)),i._configID=0,i._config=null,i}t(i,e);var o=i.prototype;return o.onEnable=function(){h.on(v.PurchaseGiftRecharge,this,this.refreshShow),h.on(v.RechargeRefresh,this,this.refreshPrice),this.refreshPrice()},o.onDisable=function(){h.off(v.PurchaseGiftRecharge,this,this.refreshShow),h.off(v.RechargeRefresh,this,this.refreshPrice)},o.setData=function(e){this._config=e,this._configID=e.Id,this.refreshUI(),this.refreshShow(),this.refreshPrice()},o.refreshShow=function(e){if(void 0===e&&(e=0),!e||e==this._configID){var i=g.getPurchaseData(this._configID);i?2==this._config.PurchasesNumber&&i.num>0?this.node.active=!1:this.node.active=!0:this.node.active=!1}},o.refreshPrice=function(){this._config&&(this.moneyLab.string=this.getPriceStr())},o.refreshUI=function(){var e=this,i=this._config,t=g.getRewardData(i.Id);if(t.item){var n=this.itemPar.getChildByName("icon"),r=this.itemPar.getChildByName("lab");this.setAllChildActive(n,!1),this.setAllChildActive(r,!1),t.item.forEach((function(i,t){n.children[t]&&(n.children[t].active=!0),r.children[t]&&(r.children[t].active=!0),_.setNodeSpriteFrame(I.LoadOnPlay,d.getItemIconUrl(i[0]),n.children[t],e.node.parent),r.children[t]&&(r.children[t].getComponent(s).string="x"+i[1])}))}2==i.PurchasesNumber?this.refreshLimit():_.setNodeSpriteFrame(I.LoadOnPlay,"Res/Texture/UI/Shop/Purchase/gift_"+this._configID,this.icon,this.node.parent)},o.refreshLimit=function(){var e=this,i=this._config,t=g.getRewardData(i.Id);if(t.food){var n=this.foodPar.getChildByName("bg"),r=this.foodPar.getChildByName("food");this.setAllChildActive(n,!1),this.setAllChildActive(r,!1),t.food.forEach((function(i,t){n.children[t]&&(n.children[t].active=!0),r.children[t]&&(r.children[t].active=!0),_.setNodeSpriteFrame(I.LoadOnPlay,u.getUIIcon(i),r.children[t],e.node.parent)}))}t.skin>0&&_.setNodeSpriteFrame(I.LoadOnPlay,"Res/Texture/UI/AvatarFull/"+t.skin,this.role,this.node.parent)},o.setAllChildActive=function(e,i){e.children.forEach((function(e){e.active=i}))},o.getPriceStr=function(){var e="";if(P.isHaveOrderInfo){var i=(e=P.orderDic[b["gift_"+this._configID]].price).match(/-?([1-9]\d*(\.\d*)*|0\.[1-9]\d*)/g);Number(i[0])}else e="$"+this._config.Price;return e},o.buySuccess=function(){var e=g.getReward(this._configID);if(e){var i=[];if(e.item&&e.item.forEach((function(e){i.push(new p(e[0],e[1]))})),e.food&&e.food.forEach((function(e){i.push(new p(e,1,m.food))})),e.skin>0&&i.push(new p(e.skin,1,m.skin)),i.length){var t={data:i};l.openView(D.CongratulationView,null,t)}this.refreshShow()}},o.clickBuy=function(){g.canGetReward(this._configID)&&1==this._config.PriceType&&y.pay(b["gift_"+this._configID],(function(){}))},i}(f)).prototype,"itemPar",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(L.prototype,"moneyLab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(L.prototype,"icon",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(L.prototype,"role",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(L.prototype,"foodPar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(L.prototype,"discount_icon",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=L))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopGiftView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./NodeUtils.ts","./DataTable.ts","./EventUtility.ts","./ShopGiftItem.ts"],(function(t){"use strict";var e,n,i,r,o,a,s,f,c,l,u,h,p,b,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,f=t.Prefab,c=t.Component},function(t){l=t.eventDispatcher},function(t){u=t.dataTableManager},function(t){h=t.default},function(t){p=t.EDataTables},function(t){b=t.MEventNames},function(t){d=t.ShopGiftItem}],execute:function(){var I,m,g,y,G,v,P,D,S;o._RF.push({},"b81c4MXzTROUblr6ox3S/q/","ShopGiftView",void 0);var w=a.ccclass,_=a.property;t("ShopGiftView",(I=w("ShopGiftView"),m=_(s),g=_(f),y=_(f),I((P=e((v=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"content",P,r(e)),i(e,"shopGiftItemPrefab2",D,r(e)),i(e,"shopGiftItemPrefab3",S,r(e)),e._idArray=[],e._isInit=!1,e}n(e,t);var o=e.prototype;return o.onLoad=function(){var t=this;u.getDataTableArray(p.ShopGift).forEach((function(e,n){if(t._idArray.push(e.Id),t.content.children[n])t.content.children[n].getComponent(d).setData(e);else{var i=h.instantiate(1008==e.Id?t.shopGiftItemPrefab3:t.shopGiftItemPrefab2);t.content.addChild(i),i.getComponent(d).setData(e)}}))},o.onDisable=function(){l.off(b.PurchaseGiftRecharge,this,this.refreshUI)},o.onEnable=function(){l.on(b.PurchaseGiftRecharge,this,this.refreshUI),this._isInit?this.refreshUI():this._isInit=!0},o.refreshUI=function(){this.content.children.forEach((function(t){t.getComponent(d).refreshShow()}))},o.refreshPrice=function(){},e}(c)).prototype,"content",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(v.prototype,"shopGiftItemPrefab2",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(v.prototype,"shopGiftItemPrefab3",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=v))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopInfoMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShopConversionMgr.ts","./ShopCurrencyMgr.ts","./ShopDepotMgr.ts","./ShopItemMgr.ts","./ShopRewardMgr.ts"],(function(n){"use strict";var t,r,e,o,s,i,c;return{setters:[function(n){t=n.createClass},function(n){r=n.cclegacy},function(n){e=n.ShopConversionMgr},function(n){o=n.ShopCurrencyMgr},function(n){s=n.ShopDepotMgr},function(n){i=n.ShopItemMgr},function(n){c=n.ShopRewardMgr}],execute:function(){r._RF.push({},"479d4VZFbVFyb3ONN3RlfFW","ShopInfoMgr",void 0),n("ShopInfoMgr",function(){function n(){this.currencyMgr=null,this.itemMgr=null,this.rewardMgr=null,this.conversionMgr=null,this.depotMgr=null,this.currencyMgr=new o,this.itemMgr=new i,this.rewardMgr=new c,this.conversionMgr=new e,this.depotMgr=new s}return t(n,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new n),this.m_Instance}}]),n}()).m_Instance=void 0,r._RF.pop()}}}));

System.register("chunks:///_virtual/ShopItemConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts"],(function(t){"use strict";var e,n,r,i,u;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){i=t.configName,u=t.default}],execute:function(){var s;r._RF.push({},"7dfaffb5yZFMoZOcKfWuMFL","ShopItemConfig",void 0);var o=i("ShopItemConfig")(s=function(t){function r(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).m_CurID=0,e.m_RefreshTime=0,e.m_RefreshCount=0,e.itemIDArray=[],e.itemNumArray=[],e}e(r,t);var i=r.prototype;return i.onInit=function(t){t&&this.newDayRefresh()},i.newDayRefresh=function(){this.m_RefreshCount=0},i.getItemNum=function(t){return this.itemNumArray[t]},i.setItemNum=function(t,e){return this.itemNumArray[t]=e},i.buyItem=function(t){return this.itemNumArray[t]>0&&(this.itemNumArray[t]--,!0)},i.getItemID=function(t){return this.itemIDArray[t]},i.setItemID=function(t,e){return this.itemIDArray[t]=e},n(r,[{key:"curID",get:function(){return this.m_CurID},set:function(t){this.m_CurID=t}},{key:"refreshTime",get:function(){return this.m_RefreshTime},set:function(t){this.m_RefreshTime=t}},{key:"refreshCount",get:function(){return this.m_RefreshCount},set:function(t){this.m_RefreshCount=t}}]),r}(u))||s;t("shopItemConfig",new o);r._RF.pop()}}}));

System.register("chunks:///_virtual/ShopItemMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UnbiasedTime.ts","./DataTableManager.ts","./LocalizationHelper.ts","./ItemConfig.ts","./ShopItemConfig.ts","./DataTable.ts","./EventUtility.ts","./GameTool.ts","./ItemData.ts"],(function(t){"use strict";var e,i,s,r,n,a,m,h,u,o,f,c,I,g,_;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,s=t.director,r=t.macro},function(t){n=t.eventDispatcher},function(t){a=t.unbiasedTimer},function(t){m=t.dataTableManager},function(t){h=t.LocalizationHelper},function(t){u=t.itemConfig,o=t.EItemEnum},function(t){f=t.shopItemConfig},function(t){c=t.EDataTables},function(t){I=t.MEventNames},function(t){g=t.GameTool},function(t){_=t.ItemData}],execute:function(){i._RF.push({},"793c9Iqrp9Ni405lE/Hf9U9","ShopItemMgr",void 0);t("ShopItemMgr",function(){function t(){var t=this;this.m_CurConfig=null,this.m_RefreshInterval=.01,this.m_MaxRefreshCount=10,this.m_RefreshItem=null,this.m_Prize=5e3,this.m_AddPrize=.1,this.m_MaxSaleNum=0,this.m_CostItemID=0,this.m_ConfigArray=null,this.initConfig(),this.m_DataBase.curID?this.refreshData():this.refreshNew();var e=s.getScheduler();e.schedule((function(){t.onUpdate()}),e,.3,r.REPEAT_FOREVER,0,!1)}var i=t.prototype;return i.initConfig=function(){this.m_RefreshInterval=m.getData(c.Constant,1).Value,this.m_MaxRefreshCount=m.getData(c.Constant,2).Value;var t=g.splitNumberArray(m.getData(c.Constant,3).Value);this.m_RefreshItem=new _(t[0],t[1]),this.m_ConfigArray=m.getDataTableArray(c.Shop)},i.canRefreshNew=function(t){void 0===t&&(t=!1);return t?this.m_DataBase.refreshCount<this.maxRefreshCount?u.itemEnough(this.m_RefreshItem.id,this.m_RefreshItem.num)?1:-1:-2:a.now>=this.m_DataBase.refreshTime?1:-2},i.refreshNew=function(t){void 0===t&&(t=!1);var e=this.canRefreshNew(t);if(e<0)return e;t&&(this.m_DataBase.refreshCount++,u.useItem(this.refreshItem.id,this.refreshItem.num));var i=g.getArrayRandomElementByWeight(this.m_ConfigArray,"Probability");return this.m_DataBase.curID=i.Id,this.m_DataBase.refreshTime=a.now+60*this.m_RefreshInterval*1e3,this.refreshData(!0),e},i.refreshData=function(t){if(void 0===t&&(t=!1),this.m_DataBase.curID||this.refreshNew(),this.m_CurConfig=this.m_ConfigArray[this.m_DataBase.curID-1],this.m_Prize=this.m_CurConfig.Price,this.m_MaxSaleNum=this.m_CurConfig.Num,this.m_CostItemID=2==this.m_CurConfig.Cost?o.diamond:o.money,t){for(var e=m.stringFmtNumberArray(this.m_CurConfig.ItemId),i=0;i<this.itemTypeNum;i++)this.m_DataBase.setItemID(i,e.splice(g.getRandomInt(0,e.length-1),1)[0]),this.m_DataBase.setItemNum(i,this.m_MaxSaleNum);n.event(I.ShopItemRefresh)}return 1},i.getItemPrize=function(t){return this.m_Prize+(this.m_MaxSaleNum-this.getItemNum(t))*(2==this.m_CurConfig.Cost?5:500)},i.getItemNum=function(t){return this.m_DataBase.getItemNum(t)||0},i.getItemID=function(t){return this.m_DataBase.getItemID(t)||0},i.buyItem=function(t){var e=this.canBuy(t);return e.result<0||(u.itemEnough(this.costItemID,this.getItemPrize(t))?u.addItem(this.getItemID(t),1)?(u.useItem(this.costItemID,this.getItemPrize(t)),this.m_DataBase.buyItem(t)):e.result=-3:e.result=-2),e},i.canBuy=function(t){var e={result:1};return this.getItemNum(t)<=0&&(e.result=-1,e.data=h.getString("2_21")),e},i.onUpdate=function(){this.canRefreshNew()&&this.refreshNew()},i.getRemainRefreshTimes=function(){return this.maxRefreshCount-this.m_DataBase.refreshCount},e(t,[{key:"m_DataBase",get:function(){return f}},{key:"refreshTime",get:function(){return this.m_DataBase.refreshTime}},{key:"itemTypeNum",get:function(){return 6}},{key:"maxRefreshCount",get:function(){return this.m_MaxRefreshCount}},{key:"refreshItem",get:function(){return this.m_RefreshItem}},{key:"costItemID",get:function(){return this.m_CostItemID}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/ShopItemView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UnbiasedTime.ts","./LocalizationHelper.ts","./UIManager.ts","./NodeUtils.ts","./ItemConfig.ts","./ShopInfoMgr.ts","./EventUtility.ts","./AudioTool.ts","./GameTool.ts","./ResourceTool.ts","./UIConfig.ts","./ShopItemViewTemplate.ts"],(function(e){"use strict";var t,i,n,r,o,a,s,u,l,c,f,m,h,p,g,b,I,w,d,y,T,L,S,v,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Node,u=e.Layout,l=e.Label,c=e.Sprite,f=e.Component},function(e){m=e.eventDispatcher},function(e){h=e.unbiasedTimer},function(e){p=e.LocalizationHelper},function(e){g=e.uiManager},function(e){b=e.default},function(e){I=e.itemConfig},function(e){w=e.ShopInfoMgr},function(e){d=e.MEventNames},function(e){y=e.AudioTool,T=e.ESoundType},function(e){L=e.GameTool},function(e){S=e.ResourceTool},function(e){v=e.MUIConfig},function(e){C=e.ShopItemViewTemplate}],execute:function(){var V,_,M,U,R,z,D,N,A,F,P,k,E,H,B,G,O;o._RF.push({},"95cf0LMXtFP04HOKRHQu4rQ","ShopItemView",void 0);var Q=a.ccclass,j=a.property;e("ShopItemView",(V=Q("ShopItemView"),_=j(s),M=j(u),U=j(l),R=j(c),z=j(l),D=j(l),N=j(l),V((P=t((F=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"itemTemplate",P,r(t)),n(t,"itemLayout",k,r(t)),n(t,"timeLab",E,r(t)),n(t,"refreshCostItemIcon",H,r(t)),n(t,"refreshCostLab",B,r(t)),n(t,"refreshCountLab",G,r(t)),n(t,"refreshTimeLab",O,r(t)),t.m_ItemPrefabArray=[],t}i(t,e);var o=t.prototype;return o.onLoad=function(){var e=w.instance;this.itemTemplate.active=!1;for(var t=0;t<e.itemMgr.itemTypeNum;t++){var i=b.instantiate(this.itemTemplate.uuid,this.itemTemplate);this.m_ItemPrefabArray.push(i),i.active=!0,i.getComponent(C).setData(t,this.node),this.itemLayout.node.addChild(i)}this.schedule(this.updateUI.bind(this),.5),this.refreshCostLab.string=w.instance.itemMgr.refreshItem.num+"",S.setSpriteFrame(I.getIconBundleName(),I.getItemIconUrl(e.itemMgr.refreshItem.id),this.refreshCostItemIcon,this.node)},o.onEnable=function(){m.on(d.NewDayRefresh,this,this.newDayRefresh),this.refreshUI()},o.onDisable=function(){m.offAllCaller(this)},o.newDayRefresh=function(){var e=this;this.scheduleOnce((function(){e.refreshUI()}))},o.refreshUI=function(){this.refreshCountLab.string=p.getString("2_8")+w.instance.itemMgr.getRemainRefreshTimes(),this.updateUI(0)},o.clickRefresh=function(){var e=this;y.play(T.ui_click);var t=w.instance.itemMgr.canRefreshNew(!0);t>0||-2==t?(g.openView(v.ConfirmView,null,{title:p.getString("2_10"),desc:p.getString("2_11"),content:p.getString("2_12"),okCallback:function(){w.instance.itemMgr.refreshNew(!0)>0?(e.refreshUI(),g.openView(v.TipView,null,{content:p.getString("2_15")})):g.openView(v.TipView,null,{content:p.getString("2_22")})}}),this.refreshUI()):-1==t&&(g.openView(v.PurchaseDiamondView),g.openView(v.TipView,null,{content:p.getString("1_18")}))},o.updateUI=function(e){this.timeLab.string=p.getString("2_7",[L.getFmtTime((w.instance.itemMgr.refreshTime-h.now)/1e3,"h")]),this.refreshTimeLab.string=p.getString("2_7",[L.getFmtTime((h.tomorrow-h.now)/1e3,"h")])},t}(f)).prototype,"itemTemplate",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(F.prototype,"itemLayout",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(F.prototype,"timeLab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(F.prototype,"refreshCostItemIcon",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(F.prototype,"refreshCostLab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(F.prototype,"refreshCountLab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(F.prototype,"refreshTimeLab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=F))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopItemViewTemplate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./ItemConfig.ts","./ShopInfoMgr.ts","./EventUtility.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts","./UIConfig.ts"],(function(t){"use strict";var e,i,n,o,r,a,l,s,u,c,m,p,h,f,I,g,b,d,y,L,_,w,D,S,M;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Sprite,s=t.Button,u=t.Label,c=t.Node,m=t.Color,p=t.LabelOutline,h=t.Component},function(t){f=t.eventDispatcher},function(t){I=t.LocalizationHelper},function(t){g=t.uiManager},function(t){b=t.itemConfig,d=t.EItemEnum},function(t){y=t.ShopInfoMgr},function(t){L=t.MEventNames},function(t){_=t.EGameBundles},function(t){w=t.AudioTool,D=t.ESoundType},function(t){S=t.ResourceTool},function(t){M=t.MUIConfig}],execute:function(){var v,U,C,z,E,T,x,F,V,B,N,P,A,H,O,R,k;r._RF.push({},"d198bH6EidBSak6JUxXLGlA","ShopItemViewTemplate",void 0);var G=a.ccclass,X=a.property;t("ShopItemViewTemplate",(v=G("ShopItemViewTemplate"),U=X(l),C=X(s),z=X(l),E=X(u),T=X(u),x=X(u),F=X(c),v((N=e((B=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"iconSprite",N,o(e)),n(e,"buyButton",P,o(e)),n(e,"costIcon",A,o(e)),n(e,"nameLab",H,o(e)),n(e,"numLab",O,o(e)),n(e,"moneyLab",R,o(e)),n(e,"sellOut",k,o(e)),e.m_Idx=-1,e.m_ItemID=0,e.targetNode=null,e.labColor=new m,e}i(e,t);var r=e.prototype;return r.onDestory=function(){},r.onDisable=function(){f.offAllCaller(this)},r.onEnable=function(){f.on(L.ShopItemRefresh,this,this.refreshUI),this.refreshUI()},r.start=function(){this.schedule(this.updateUI.bind(this),.5)},r.setData=function(t,e){this.m_Idx=t,this.targetNode=e,this.refreshUI()},r.refreshUI=function(){if(-1!=this.m_Idx){var t=y.instance.itemMgr.getItemID(this.m_Idx),e=b.getDic(t);t!=this.m_ItemID&&(S.setSpriteFrame(_.LoadOnPlay,b.getItemIconUrl(t),this.iconSprite,this.targetNode),S.setSpriteFrame(_.LoadOnPlay,b.getItemIconUrl(y.instance.itemMgr.costItemID),this.costIcon,this.targetNode),this.nameLab.string=I.getString(e.Name)),this.m_ItemID=t,this.numLab.string=I.getString("2_9")+y.instance.itemMgr.getItemNum(this.m_Idx),this.moneyLab.string=""+y.instance.itemMgr.getItemPrize(this.m_Idx);var i=y.instance.itemMgr.getItemNum(this.m_Idx)<=0;this.sellOut.active=i,this.updateUI()}},r.clickButton=function(){w.play(D.ui_shop_getitem);var t=y.instance.itemMgr.buyItem(this.m_Idx);t.result>0?this.refreshUI():"string"==typeof t.data?g.openView(M.TipView,null,{content:t.data}):-2==t.result&&y.instance.itemMgr.costItemID==d.diamond&&(g.openView(M.PurchaseDiamondView),g.openView(M.TipView,null,{content:I.getString("1_18")}))},r.updateUI=function(){var t=y.instance.itemMgr.costItemID==d.diamond||b.itemEnough(y.instance.itemMgr.costItemID,y.instance.itemMgr.getItemPrize(this.m_Idx));this.labColor.fromHEX(t?"#FFFFF6":"#FC7D70"),this.moneyLab.color=this.labColor,this.labColor.fromHEX(t?"#384b0e":"#7A1D14"),this.moneyLab.getComponent(p).color=this.labColor,this.buyButton.interactable=t},e}(h)).prototype,"iconSprite",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(B.prototype,"buyButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(B.prototype,"costIcon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(B.prototype,"nameLab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(B.prototype,"numLab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(B.prototype,"moneyLab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(B.prototype,"sellOut",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=B))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/ShopRewardConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./GoogleFirebase.ts","./ItemConfig.ts"],(function(e){"use strict";var n,t,i,s,o,r,a,u;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){i=e.cclegacy},function(e){s=e.configName,o=e.default},function(e){r=e.googleFirebaser,a=e.eAnalyticsEvent},function(e){u=e.itemConfig}],execute:function(){var c;i._RF.push({},"7ea31cQPfNBW4IoVkqrR9UD","ShopRewardConfig",void 0);var f=s("ShopRewardConfig")(c=function(e){function i(){for(var n,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(n=e.call.apply(e,[this].concat(i))||this).m_RewardTimes=0,n.m_BonusTimes=0,n}n(i,e);var s=i.prototype;return s.onInit=function(e){e&&this.newDayRefresh()},s.newDayRefresh=function(){this.m_RewardTimes=0},s.drawOne=function(){this.m_RewardTimes++,this.m_BonusTimes++,this.m_RewardTimes>1&&r.logEvent(a.event_ad,"ad_luckdraw")},s.getBonusReward=function(e,n,t){return this.m_BonusTimes-t>0&&(this.m_BonusTimes-=t,u.addItem(e,n),!0)},t(i,[{key:"rewardTimes",get:function(){return this.m_RewardTimes}},{key:"bonusTimes",get:function(){return this.m_BonusTimes}}]),i}(o))||c;e("shopRewardConfig",new f);i._RF.pop()}}}));

System.register("chunks:///_virtual/ShopRewardMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./ItemConfig.ts","./ShopRewardConfig.ts","./DataTable.ts","./GameTool.ts","./ItemData.ts"],(function(e){"use strict";var t,a,r,n,s,i,u,m;return{setters:[function(e){t=e.createClass},function(e){a=e.cclegacy},function(e){r=e.dataTableManager},function(e){n=e.itemConfig},function(e){s=e.shopRewardConfig},function(e){i=e.EDataTables},function(e){u=e.GameTool},function(e){m=e.ItemData}],execute:function(){a._RF.push({},"77318ZSBFxFOblx7cspmYbY","ShopRewardMgr",void 0);e("ShopRewardMgr",function(){function e(){this.rewardArray=null,this.m_MaxRewardTimes=51,this.m_FreeTimes=1,this.m_MaxBonusTimes=10,this.m_BounsReward=null,this.rewardArray=r.getDataTableArray(i.OpeningReward),this.m_MaxBonusTimes=r.getData(i.Constant,7).Value,this.m_BounsReward=u.splitNumberArray(r.getData(i.Constant,8).Value)}var a=e.prototype;return a.canGetReward=function(){return!(this.m_DataBase.rewardTimes>=this.m_MaxRewardTimes)},a.getLunPanReward=function(){if(!this.canGetReward())return null;var e=u.getArrayRandomElementByWeight(this.rewardArray,"Weight");return this.m_DataBase.drawOne(),this.m_DataBase.bonusTimes>=this.m_MaxBonusTimes&&this.m_DataBase.getBonusReward(this.m_BounsReward[0],this.m_BounsReward[1],this.maxBonusTimes),n.addItem(e.ItemId,e.Num),e},a.getRewardID=function(e){return this.rewardArray[e]?this.rewardArray[e].ItemId:0},a.getRewardNum=function(e){return this.rewardArray[e]?this.rewardArray[e].Num:0},a.getRewardData=function(e){var t=this.getRewardID(e),a=this.getRewardNum(e);return[new m(t,a)]},t(e,[{key:"m_DataBase",get:function(){return s}},{key:"rewardTimes",get:function(){return this.m_DataBase.rewardTimes}},{key:"bonusTimes",get:function(){return this.m_DataBase.bonusTimes}},{key:"maxRewardTimes",get:function(){return this.m_MaxRewardTimes}},{key:"freeTimes",get:function(){return this.m_FreeTimes}},{key:"maxBonusTimes",get:function(){return this.m_MaxBonusTimes}}]),e}());a._RF.pop()}}}));

System.register("chunks:///_virtual/ShopRewardView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UnbiasedTime.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./NodeUtils.ts","./ItemConfig.ts","./ShopRewardConfig.ts","./ShopInfoMgr.ts","./DataTable.ts","./EventUtility.ts","./GoogleAdMob.ts","./GameTool.ts","./ResourceTool.ts","./UIConfig.ts","./ShopRewardZhuanPan.ts"],(function(e){"use strict";var t,n,i,r,a,o,l,s,c,u,h,f,p,b,d,g,w,m,v,I,T,P,R,y,L,S,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Node,s=e.Label,c=e.RichText,u=e.Vec3,h=e.Component},function(e){f=e.eventDispatcher},function(e){p=e.unbiasedTimer},function(e){b=e.dataTableManager},function(e){d=e.LocalizationHelper},function(e){g=e.uiManager},function(e){w=e.default},function(e){m=e.itemConfig},function(e){v=e.shopRewardConfig},function(e){I=e.ShopInfoMgr},function(e){T=e.EDataTables},function(e){P=e.MEventNames},function(e){R=e.googleAdMober},function(e){y=e.GameTool},function(e){L=e.ResourceTool},function(e){S=e.MUIConfig},function(e){M=e.ShopRewardZhuanPan}],execute:function(){var z,C,N,U,V,_,D,k,x,B,E,A,F,W,G,H,O,Z,j,Y,q,J,K,Q,X,$,ee,te,ne,ie,re,ae,oe,le,se;a._RF.push({},"e615fzvYrREH7gN5134xgRS","ShopRewardView",void 0);var ce=o.ccclass,ue=o.property;e("ShopRewardView",(z=ce("ShopRewardView"),C=ue(M),N=ue(l),U=ue(l),V=ue(l),_=ue(l),D=ue(l),k=ue(l),x=ue(l),B=ue(l),E=ue(s),A=ue(c),F=ue(s),W=ue(l),G=ue(l),H=ue(s),O=ue(s),z((Y=t((j=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"lunpan",Y,r(t)),i(t,"posPar",q,r(t)),i(t,"cellBgPar",J,r(t)),i(t,"cellIconPar",K,r(t)),i(t,"bgTemplate",Q,r(t)),i(t,"iconTemplate",X,r(t)),i(t,"lunpanLabPar",$,r(t)),i(t,"labTemplate",ee,r(t)),i(t,"blockInputView",te,r(t)),i(t,"scoreLab",ne,r(t)),i(t,"bonusTimesLab",ie,r(t)),i(t,"buttonLab2",re,r(t)),i(t,"freeNode",ae,r(t)),i(t,"watchNode",oe,r(t)),i(t,"costLab",le,r(t)),i(t,"refreshTimeLab",se,r(t)),t.m_ResultIndex=0,t._costNum=20,t}n(t,e);var a=t.prototype;return a.onLoad=function(){this._costNum=b.getData(T.Constant,36).Value,this.bgTemplate.parent.active=!1,this.initLunPanUI(),this.schedule(this.refreshSelect.bind(this),1.5),this.blockInputView.active=!1,this.schedule(this.updateUI.bind(this),1)},a.onDisable=function(){f.offAllCaller(this)},a.onEnable=function(){f.on(P.ShopConversionEvent,this,this.refreshUI),f.on(P.NewDayRefresh,this,this.newDayRefresh),this.refreshUI()},a.newDayRefresh=function(){var e=this;this.scheduleOnce((function(){e.refreshUI()}))},a.refreshUI=function(){this.buttonLab2.string=0==I.instance.rewardMgr.rewardTimes?d.getString("2_23"):d.getString("2_8")+(I.instance.rewardMgr.maxRewardTimes-I.instance.rewardMgr.rewardTimes),this.bonusTimesLab.string="<color=#24ae08>"+d.getString("2_18",["<color=#c33e39>"+(I.instance.rewardMgr.maxBonusTimes-I.instance.rewardMgr.bonusTimes)+"</color>"])+"</color>",this.scoreLab.string=""+m.getItemNum(60),this.freeNode.active=I.instance.rewardMgr.rewardTimes<I.instance.rewardMgr.freeTimes,this.watchNode.active=!this.freeNode.active,this.updateUI()},a.initLunPanUI=function(){for(var e=this,t=new u(0,0,0),n=0;n<this.posPar.children.length;n++){var i=w.instantiate(this.bgTemplate);i.active=!0,this.cellBgPar.addChild(i),this.posPar.children[n].getWorldPosition(t),i.setWorldPosition(t)}for(var r=0;r<this.posPar.children.length;r++){var a=w.instantiate(this.iconTemplate);a.active=!0,this.cellIconPar.addChild(a),this.posPar.children[r].getWorldPosition(t),a.setWorldPosition(t)}for(var o=0;o<this.posPar.children.length;o++){var l=w.instantiate(this.labTemplate);l.active=!0,this.lunpanLabPar.addChild(l),this.posPar.children[o].getWorldPosition(t),l.setWorldPosition(t)}this.cellIconPar.children.forEach((function(t,n){var i=I.instance.rewardMgr.getRewardID(n),r=m.getDic(i);if(r&&(L.setNodeSpriteFrame(m.getIconBundleName(),m.getItemIconUrl(i),t.children[0],e.node),e.lunpanLabPar.children[n])){var a=e.lunpanLabPar.children[n];a.children[0].getComponent(s).string=d.getCapitalString(r.Name),a.children[1].getComponent(s).string="x"+I.instance.rewardMgr.getRewardNum(n)}}))},a.lunpanAniOver=function(){var e=this,t={data:I.instance.rewardMgr.getRewardData(this.m_ResultIndex),okCallback:function(){e.refreshUI(),e.blockInputView.active=!1}};g.openView(S.CongratulationView,null,t)},a.refreshSelect=function(){this.blockInputView.active||this.lunpan.setSelectPostition()},a.successFunc=function(){var e=I.instance.rewardMgr.getLunPanReward();this.m_ResultIndex=e.Id-1,this.blockInputView.active=!0,this.lunpan.on_start_click(this.m_ResultIndex,this.lunpanAniOver.bind(this))},a.watchSuccess=function(){this.successFunc()},a.clickButton=function(e,t){var n=this;I.instance.rewardMgr.canGetReward()&&(v.rewardTimes<1?this.successFunc():R.showRewardedAd((function(){n.watchSuccess()})))},a.clickConversion=function(){g.openView(S.ShopConversionView)},a.updateUI=function(e){this.refreshTimeLab.string=d.getString("2_7",[y.getFmtTime((p.tomorrow-p.now)/1e3,"h")])},t}(h)).prototype,"lunpan",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(j.prototype,"posPar",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(j.prototype,"cellBgPar",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(j.prototype,"cellIconPar",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(j.prototype,"bgTemplate",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(j.prototype,"iconTemplate",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(j.prototype,"lunpanLabPar",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(j.prototype,"labTemplate",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(j.prototype,"blockInputView",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(j.prototype,"scoreLab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(j.prototype,"bonusTimesLab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(j.prototype,"buttonLab2",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(j.prototype,"freeNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(j.prototype,"watchNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(j.prototype,"costLab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(j.prototype,"refreshTimeLab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=j))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShopRewardZhuanPan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts"],(function(t){"use strict";var e,i,s,o,a,n,h,m,r,l,_,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,n=t._decorator,h=t.Node,m=t.Vec3,r=t.UIOpacity,l=t.tween,_=t.Component},function(t){d=t.default}],execute:function(){var c,u,p,S,x,R,I;a._RF.push({},"8feadgykhxM66ODG6w5bdGg","ShopRewardZhuanPan",void 0);var f=n.ccclass,P=n.property;t("ShopRewardZhuanPan",(c=f("ShopRewardZhuanPan"),u=P(h),p=P(h),c((R=e((x=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,s(e,"selectItem",R,o(e)),s(e,"itemRoot",I,o(e)),e.m_IsWalking=!1,e.m_StartIndex=0,e.m_EndIndex=0,e.m_RoadData=[],e.m_SelectPos=null,e.m_ChildPosArr=[],e.m_StartMoveTime=.15,e.m_AddSpeed=.01,e.m_EndMoveTime=.3,e.m_SubSpeed=.02,e.m_MinMoveTime=.03,e.m_V=1,e.m_NextStep=1,e.m_ItemCount=0,e.m_WalkTime=0,e.m_PassedTime=0,e.m_Callback=null,e}i(e,t);var a=e.prototype;return a.start=function(){this.m_IsWalking=!1,this.m_ItemCount=this.itemRoot.children.length,this.selectItem.setWorldPosition(this.itemRoot.children[this.m_StartIndex].getWorldPosition()),this.m_SelectPos=new m;for(var t=0;t<this.selectItem.children.length;t++)this.m_ChildPosArr.push(new m)},a.play_anim=function(){var t=7+2*Math.random();t=Math.floor(t),this.m_RoadData=[];for(var e=new m,i=0;i<t;i++){for(var s=this.m_StartIndex;s<this.itemRoot.children.length;s++)this.itemRoot.children[s].getWorldPosition(e),this.m_RoadData.push([e.x,e.y,e.z]);for(var o=0;o<this.m_StartIndex;o++)this.itemRoot.children[o].getWorldPosition(e),this.m_RoadData.push([e.x,e.y,e.z])}if(this.m_StartIndex<=this.m_EndIndex)for(var a=this.m_StartIndex;a<=this.m_EndIndex;a++)this.itemRoot.children[a].getWorldPosition(e),this.m_RoadData.push([e.x,e.y,e.z]);else{for(var n=this.m_StartIndex;n<this.itemRoot.children.length;n++)this.itemRoot.children[n].getWorldPosition(e),this.m_RoadData.push([e.x,e.y,e.z]);for(var h=0;h<=this.m_EndIndex;h++)this.itemRoot.children[h].getWorldPosition(e),this.m_RoadData.push([e.x,e.y,e.z])}this.m_RoadData.length<2||(this.m_SelectPos.set(this.m_RoadData[0][0],this.m_RoadData[0][1],this.m_RoadData[0][2]),this.selectItem.setWorldPosition(this.m_SelectPos),this.m_V=5e3,this.m_NextStep=1,this.walk_to_next())},a.walk_to_next=function(){if(this.m_NextStep>=this.m_RoadData.length)return this.m_IsWalking=!1,this.m_StartIndex=this.m_EndIndex,void this.walkOver();this.m_IsWalking=!0;var t=this.selectItem.getWorldPosition();new m(this.m_RoadData[this.m_NextStep][0],this.m_RoadData[this.m_NextStep][1],this.m_RoadData[this.m_NextStep][2]).subtract(t);this.m_PassedTime=0,this.m_SelectPos.set(this.m_RoadData[this.m_NextStep][0],this.m_RoadData[this.m_NextStep][1],this.m_RoadData[this.m_NextStep][2]),this.selectItem.setWorldPosition(this.m_SelectPos),this.m_NextStep<this.m_RoadData.length/2?this.m_WalkTime=Math.max(this.m_StartMoveTime-this.m_NextStep*this.m_AddSpeed,this.m_MinMoveTime):this.m_WalkTime=Math.max(this.m_EndMoveTime-(this.m_RoadData.length-this.m_NextStep)*this.m_SubSpeed,this.m_MinMoveTime)},a.setSelectPostition=function(){this.m_StartIndex++,this.m_StartIndex%=this.m_ItemCount,this.itemRoot.children[this.m_StartIndex].getWorldPosition(this.m_SelectPos),this.selectItem.setWorldPosition(this.m_SelectPos)},a.update=function(t){!1!==this.m_IsWalking&&(this.m_PassedTime+=t,this.m_PassedTime>=this.m_WalkTime&&(this.m_NextStep++,this.walk_to_next()))},a.on_start_click=function(t,e){return this.selectItem.active=!0,!this.m_IsWalking&&(this.m_Callback=null,this.itemRoot.children[t]||d.error("itemrood  end_index "),this.m_EndIndex=t,this.play_anim(),this.m_Callback=e,!0)},a.walkOver=function(){var t=this;this.blickTween(this.selectItem.getComponent(r),(function(){t.m_Callback&&t.m_Callback(),t.m_Callback=null}))},a.blickTween=function(t,e,i,s){void 0===i&&(i=.2),void 0===s&&(s=3),l(t).repeat(s,l().to(i,{opacity:0}).to(i,{opacity:255})).call((function(){e&&e()})).start()},e}(_)).prototype,"selectItem",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(x.prototype,"itemRoot",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=x))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShopView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./ItemConfig.ts","./SDKInfoMgr.ts","./AudioTool.ts","./GameUnlockTool.ts","./ResourceTool.ts","./TopItemPrefab.ts","./ViewButtonListPrefab.ts"],(function(t){"use strict";var e,i,n,o,r,a,c,s,l,u,f,h,d,p,m,w,_,b,y,g,V;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Prefab,s=t.Node,l=t.Label},function(t){u=t.LocalizationHelper},function(t){f=t.uiManager},function(t){h=t.UIView},function(t){d=t.default},function(t){p=t.EItemEnum},function(t){m=t.SDKInfoMgr},function(t){w=t.AudioTool,_=t.ESoundType},function(t){b=t.GameUnlockTool},function(t){y=t.ResourceTool},function(t){g=t.TopItemPrefab},function(t){V=t.ViewButtonListPrefab}],execute:function(){var I,A,S,v,T,k,B,L,P,C,z;r._RF.push({},"73700QhNtFHnoWUAoTwcq6a","ShopView",void 0);var D=a.ccclass,U=a.property;t("ShopView",(I=D("ShopView"),A=U(V),S=U([c]),v=U(s),T=U(s),I((L=e((B=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"viewButtonList",L,o(e)),n(e,"childViewPrefab",P,o(e)),n(e,"bottomBg",C,o(e)),n(e,"topBg",z,o(e)),e.m_StanceTab=["2_25","2_2","2_3","2_4"],e.m_SelectedId=-1,e._lockArray=null,e.m_ViewArray=[],e.clerkAniArray=[],e.clerkAniIdx=0,e}i(e,t);var r=e.prototype;return r.onInit=function(){m.isHaveOrderInfo||m.getAllRechargeOrder(),y.addTopItemPrefab(this.topBg,(function(t,e){e.getComponent(g).setData({data:[p.money,p.diamond],dir:2})})),this.initClerkAni()},r.onOpen=function(t){void 0===t&&(t=-1),this.refreshViewButton(),t>-1&&(this.viewButtonList.selectedID=t),w.play(_.ui_open)},r.refreshViewButton=function(){var t=this,e=[];b.instance.wareHouseIsUnlock()||e.push(2);var i=!1;this._lockArray&&this._lockArray.length==e.length?e.forEach((function(e,n){e!=t._lockArray[n]&&(i=!0)})):i=!0,this._lockArray=e,i&&this.viewButtonList.setData(this.m_StanceTab,e)},r.initClerkAni=function(){},r.onListTabVRender=function(t,e){var i=this.m_StanceTab[e];t.active=!0,t.getComponentsInChildren(l).forEach((function(t){t.string=u.getString(i)}))},r.onListTabSelected=function(t,e){t&&this.m_SelectedId!=e&&(this.m_SelectedId=e,w.play(_.ui_nextpage),this.updateTableView())},r.updateTableView=function(){this.m_ViewArray[this.m_SelectedId]&&this.m_ViewArray[this.m_SelectedId].isValid||this.childViewPrefab[this.m_SelectedId]&&(this.m_ViewArray[this.m_SelectedId]=d.instantiate(this.childViewPrefab[this.m_SelectedId]),this.bottomBg.addChild(this.m_ViewArray[this.m_SelectedId])),this.setViewActive()},r.setViewActive=function(){var t=this;this.m_ViewArray.forEach((function(e,i){e&&e.isValid&&(e.active=t.m_SelectedId===i)}))},r.destroyClass=function(){f.closeView(this)},r.clickClose=function(t){w.play(_.ui_click),this.destroyClass()},e}(h)).prototype,"viewButtonList",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(B.prototype,"childViewPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(B.prototype,"bottomBg",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(B.prototype,"topBg",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=B))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/SHostessState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts","./StaffAnimAgent.ts"],(function(t){"use strict";var n,s,e,o,i;return{setters:[function(t){n=t.inheritsLoose,s=t.createClass},function(t){e=t.cclegacy},function(t){o=t.FsmState},function(t){i=t.EStaffAnim}],execute:function(){e._RF.push({},"c7646FSaaRBzLVFk6wVBw7R","SHostessState",void 0),t("SHostessState",function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onEnter=function(t,n){t.startToHostess()},o.onExecute=function(t,n){},o.onExit=function(t){},o.onPathEnd=function(t){0==t.step&&t.startHostess()},o.onAnimComplete=function(t,n){n==i.Hostess&&t.animAgent.loopCount>=1&&t.endHostess()},s(e,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new e),this.m_Instance}}]),e}(o)).m_Instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/SignConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./UnbiasedTime.ts","./DataTableManager.ts","./ItemData.ts","./DataTable.ts","./ItemConfig.ts"],(function(t){"use strict";var n,e,i,a,r,o,s,u,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.configName,a=t.default},function(t){r=t.unbiasedTimer},function(t){o=t.dataTableManager},function(t){s=t.ItemData},function(t){u=t.EDataTables},function(t){c=t.itemConfig}],execute:function(){var g;e._RF.push({},"a98e5DJRRBLFrFpoJDAeX2i","SignConfig",void 0);var f=i("SignConfig")(g=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).rewardArray=[],n.lastDate="",n.signID=0,n}n(e,t);var i=e.prototype;return i.onInit=function(){},i.getDic=function(t){return void 0===t&&(t=0),o.getData(u.Sign,t)},i.getMaxDicID=function(){return o.getDataTableArray(u.Sign).length},i.canGetReward=function(){return this.lastDate!=r.date.toLocaleDateString()},i.openView=function(){return this.canGetReward()?this.getReward():null},i.getReward=function(){if(!this.canGetReward())return null;this.lastDate=r.date.toLocaleDateString();var t=this.getMaxDicID();this.signID++,t<this.signID&&(this.signID=1);var n=this.getDic(this.signID),e=new s(n.Item,n.Vaule);return c.addItem(e.id,e.num),e},e}(a))||g;t("signConfig",new f);e._RF.pop()}}}));

System.register("chunks:///_virtual/SignView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./ItemConfig.ts","./SignConfig.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts","./UIConfig.ts"],(function(e){"use strict";var t,i,n,a,l,r,o,u,c,s,h,d,f,m,p,b,g,w,y,T,v,I,_,D,P,N,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,o=e.ScrollView,u=e.Layout,c=e.Node,s=e.Vec3,h=e.Vec2,d=e.UITransform,f=e.Label},function(e){m=e.eventDispatcher},function(e){p=e.dataTableManager},function(e){b=e.uiManager},function(e){g=e.UIView},function(e){w=e.default},function(e){y=e.itemConfig},function(e){T=e.signConfig},function(e){v=e.EDataTables},function(e){I=e.MEventNames},function(e){_=e.EGameBundles},function(e){D=e.AudioTool,P=e.ESoundType},function(e){N=e.ResourceTool},function(e){L=e.MUIConfig}],execute:function(){var z,V,C,S,M,A,U,k,B,E,R,G,O,F,W,j,x,H,K,X,Y,q,J,Q,Z,$,ee,te,ie,ne,ae,le,re,oe,ue,ce,se;l._RF.push({},"cff45k1VhtIwpXPKIl8zsts","SignView",void 0);var he=r.ccclass,de=r.property;e("SignView",(z=he("SignView"),V=de(o),C=de(u),S=de(c),M=de(c),A=de(c),U=de(c),k=de(c),B=de(c),E=de(c),R=de(c),G=de(c),O=de(c),F=de(c),W=de(c),j=de(c),x=de(c),H=de(c),z((Y=t((X=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,n(t,"mScrollview",Y,a(t)),n(t,"itemLayout",q,a(t)),n(t,"itemTemplate",J,a(t)),n(t,"cellBg1",Q,a(t)),n(t,"iconTemplate",Z,a(t)),n(t,"markNodeTemplate",$,a(t)),n(t,"numLabNodeTemplate",ee,a(t)),n(t,"nameLabNodeTemplate",te,a(t)),n(t,"dateLabNodeTemplate",ie,a(t)),n(t,"cellBg2",ne,a(t)),n(t,"hasGetLabNode",ae,a(t)),n(t,"cellPar",le,a(t)),n(t,"nodePar1",re,a(t)),n(t,"nodePar2",oe,a(t)),n(t,"labPar1",ue,a(t)),n(t,"labPar2",ce,a(t)),n(t,"touchMask",se,a(t)),t.m_V3=new s,t.m_SignID=0,t._isNewDate=!1,t._rewardData=null,t._signID=0,t._isInit=!1,t}i(t,e);var l=t.prototype;return l.onInit=function(){this.itemTemplate.active=!1},l.onOpen=function(){var e=this;this._rewardData=T.getReward(),this._signID=T.signID,this._isNewDate=!!this._rewardData,this.touchMask.active=this._isNewDate,this._rewardData?(this.refreshUI(),this.scheduleOnce((function(){e.spineComleteCall()}),.5)):this._isInit||this.refreshUI(),this._isInit=!0},l.moveScorllToTarget=function(){var e=this._signID,t=new h(0,Math.floor((e-1)/5)*(this.itemLayout.spacingY+this.itemTemplate.getComponent(d).height));this.mScrollview.scrollToOffset(t,0),this.onTouchMoved()},l.spineComleteCall=function(){var e=this;this.moveScorllToTarget(),m.event(I.RefreshRed),this.nodePar2.children[0].children[T.signID-1].active=!0,this.labPar2.children[0].children[T.signID-1].active=!0,this.scheduleOnce((function(){b.openView(L.CongratulationView,(function(){e.touchMask.active=!1}),{data:[e._rewardData]})}),.6)},l.refreshUI=function(){var e=this,t=p.getDataTableArray(v.Sign);this.addAll(this.cellBg1,this.itemLayout.node,t),this.itemLayout.updateLayout(),this.addAll(this.markNodeTemplate,this.nodePar1.children[0],t),this.addAll(this.numLabNodeTemplate,this.labPar1.children[0],t,(function(e,i){e.children[0].getComponent(f).string=t[i].Vaule+""})),this.addAll(this.dateLabNodeTemplate,this.labPar1.children[1],t,(function(e,t){e.children[0].getComponent(f).string=t+1+""})),this.addAll(this.nameLabNodeTemplate,this.labPar1.children[2],t,(function(e,i){e.children[0].getComponent(f).string=y.getItemName(t[i].Item)})),this.addAll(this.cellBg2,this.nodePar2.children[0],t,(function(t,i){t.active=e._isNewDate?e._signID>i+1:e._signID>=i+1})),this.addAll(this.hasGetLabNode,this.labPar2.children[0],t,(function(t,i){t.active=e._isNewDate?e._signID>i+1:e._signID>=i+1})),this.addAll(this.iconTemplate,this.nodePar1.children[1],t,(function(i,n){N.setNodeSpriteFrame(_.LoadOnPlay,y.getItemIconUrl(t[n].Item),i.children[0],e)}))},l.addAll=function(e,t,i,n){var a=this;t.children.forEach((function(e,t){e.active=t<i.length})),i.forEach((function(i,l){var r=t.children[l];r||(r=w.instantiate(e),t.addChild(r),a.itemLayout.node.children[l].getWorldPosition(a.m_V3),r.setWorldPosition(a.m_V3)),n&&n(r,l)}))},l.onTouchMoved=function(){this.mScrollview.content.getPosition(this.m_V3),this.cellPar.setPosition(this.m_V3)},l.clickClose=function(){D.play(P.ui_click),b.closeView(this)},t}(g)).prototype,"mScrollview",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(X.prototype,"itemLayout",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(X.prototype,"itemTemplate",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(X.prototype,"cellBg1",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(X.prototype,"iconTemplate",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(X.prototype,"markNodeTemplate",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(X.prototype,"numLabNodeTemplate",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(X.prototype,"nameLabNodeTemplate",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(X.prototype,"dateLabNodeTemplate",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(X.prototype,"cellBg2",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(X.prototype,"hasGetLabNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(X.prototype,"cellPar",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(X.prototype,"nodePar1",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(X.prototype,"nodePar2",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(X.prototype,"labPar1",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(X.prototype,"labPar2",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(X.prototype,"touchMask",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=X))||K));l._RF.pop()}}}));

System.register("chunks:///_virtual/SOrderDishesState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts"],(function(t){"use strict";var e,n,s,i;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){s=t.cclegacy},function(t){i=t.FsmState}],execute:function(){s._RF.push({},"c8f4ajVBORG/rvOiqL9ZCUj","SOrderDishesState",void 0),t("SOrderDishesState",function(t){function s(){return t.apply(this,arguments)||this}e(s,t);var i=s.prototype;return i.onEnter=function(t,e){var n=t.task.data,s=t.getEatTable(n.tableId).config.servePos;t.seekPath0(s,t.getTableLayer(n.tableId)+""),t.animAgent.move()},i.onExecute=function(t,e){},i.onExit=function(t){},i.onPathEnd=function(t){t.startOrderDishes()},n(s,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new s),this.m_Instance}}]),s}(i)).m_Instance=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/SplashState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts","./AssetHelper.ts","./AssetLoader.ts","./DataTableManager.ts","./GameUtility.ts","./ConfigManager.ts"],(function(e){"use strict";var n,t,a,s,o,r,i,c,u,l,d,h,f,p,m,S,_;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e.director,i=e.find,c=e.Camera,u=e.Color,l=e.Prefab},function(e){d=e.FsmState},function(e){h=e.AssetHelper},function(e){f=e.assetLoader},function(e){p=e.dataTableManager},function(e){m=e.EGameBundles,S=e.MLoadOnPlayRes},function(e){_=e.ConfigManager}],execute:function(){o._RF.push({},"c025fJkymNMuICZVvbCMIYj","SplashState",void 0),e("SplashState",function(e){function o(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return(n=e.call.apply(e,[this].concat(a))||this).m_SplashEnded=!1,n.m_PreloadEnded=!1,n.m_Scene=void 0,n}n(o,e);var d=o.prototype;return d.onEnter=function(e,n){this.initSplash()},d.onExecute=function(e,n){this.m_Scene&&this.m_SplashEnded&&this.m_PreloadEnded&&r.runScene(this.m_Scene)},d.onExit=function(e){this.m_SplashEnded=this.m_PreloadEnded=!1,this.m_Scene=null},d.initSplash=function(){var e=i("Main Camera").getComponent(c);this.m_SplashEnded=!0,e.clearColor=new u(255,255,255,255)},d.loadJson=function(){var e=a(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.getAssetKeeper(n.node,!0),e.next=3,p.readData(m.LoadOnPlay,t);case 3:_.instance.getData(),this.preLoadRes();case 5:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),d.preLoadRes=function(){var e=this,n=m.LoadOnPlay;f.load(n,S.LobbyOutsideNode,l,(function(){e.m_PreloadEnded=!0})),f.loadScene(m.LoadOnPlay,"Lobby",(function(n,t){e.m_Scene=t}))},t(o,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new o),this.m_Instance}}]),o}(d)).m_Instance=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/SServeDishesState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts"],(function(t){"use strict";var e,n,s,i;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){s=t.cclegacy},function(t){i=t.FsmState}],execute:function(){s._RF.push({},"bfcf4rNd2JJvoSAzhmZwXxT","SServeDishesState",void 0),t("SServeDishesState",function(t){function s(){return t.apply(this,arguments)||this}e(s,t);var i=s.prototype;return i.onEnter=function(t,e){t.startGetDish()},i.onExecute=function(t,e){},i.onExit=function(t){},i.onPathEnd=function(t){0==t.step?t.endGetDish():t.endServeDishes()},n(s,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new s),this.m_Instance}}]),s}(i)).m_Instance=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/SServeHotPotState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts"],(function(t){"use strict";var n,e,o,s;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy},function(t){s=t.FsmState}],execute:function(){o._RF.push({},"0f13bYfMndIgYdz2lsMoRa3","SServeHotPotState",void 0),t("SServeHotPotState",function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var s=o.prototype;return s.onEnter=function(t,n){t.startGetHotPot()},s.onExecute=function(t,n){},s.onExit=function(t){},s.onPathEnd=function(t){0==t.step?t.endGetHotPot():t.endServeHotPot()},e(o,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new o),this.m_Instance}}]),o}(s)).m_Instance=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/SSlackState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts","./StaffAnimAgent.ts"],(function(t){"use strict";var n,e,c,i,s;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){c=t.cclegacy},function(t){i=t.FsmState},function(t){s=t.EStaffAnim}],execute:function(){c._RF.push({},"58e68JdSM9CHYgKO2AZJU0/","SSlackState",void 0),t("SSlackState",function(t){function c(){return t.apply(this,arguments)||this}n(c,t);var i=c.prototype;return i.onEnter=function(t,n){t.startSlack(!0)},i.onExecute=function(t,n){t.fsm.currentStateTime>=t.config.Rest&&t.endSlack(!1)},i.onExit=function(t){},i.onPathEnd=function(t){t.slack()},i.onAnimComplete=function(t,n){n==s.Slack?t.startSlack(!0):n==s.ToWork&&t.endSlack(!0)},e(c,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new c),this.m_Instance}}]),c}(i)).m_Instance=void 0,c._RF.pop()}}}));

System.register("chunks:///_virtual/StaffActor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtils.ts","./StaffConfig.ts","./LobbyRoomData.ts","./LobbyUtility.ts","./SActorState.ts","./StaffBase.ts"],(function(t){"use strict";var e,o,n,i,s,r,a,c,f,u,h,l;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator},function(t){i=t.default},function(t){s=t.staffConfig},function(t){r=t.LobbyRoomData,a=t.ELobbyRoomId},function(t){c=t.ELobbyLayer},function(t){f=t.SActorState},function(t){u=t.EStaffBehavior,h=t.EStaffMoveState,l=t.StaffBase}],execute:function(){var p,m;o._RF.push({},"3766fGZ9PJLFoup2mrT+yHl","StaffActor",void 0);var A=n.ccclass;n.property,t("StaffActor",A("StaffActor")(((m=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).taskTypes=[],e}e(o,t),o.getProfit=function(t){if(r.getTableRoom(t)!=a.Auditorium)return 1;var e=this.currentActor;return e&&e.buff&&e.buff[u.Earn]||1};var n=o.prototype;return n.onEnable=function(){t.prototype.onEnable.call(this)},n.onDisable=function(){o.currentActor=null,t.prototype.onDisable.call(this)},n.initStaff=function(t,e,n,i){this.initBase(t,e,n,i),this.fsm.changeState(f.instance),o.currentActor=this},n.startToActor=function(){this.step=0,this.m_TransferStep=h.TransferLeave,this.seekPath0(r.getActorPos(),this.idleLayer,!0),this.animAgent.move()},n.startActor=function(){this.step=1,s.actor_play_start(),this.animAgent.actor()},n.startToRest=function(){this.step=2,this.movePath(r.getActorRestPos(),this.idleLayer,!0),this.animAgent.move()},n.startRest=function(){this.step=3,this.fsm.resetStateTime(),this.animAgent.actorRest()},n.startToActor2=function(){this.step=4,this.movePath(r.getActorPos(),this.idleLayer,!0),this.animAgent.move()},n.checkToLeave=function(){if(s.get_actor_left_time()<=0){this.step=5;var t=c.Lobby+"";this.seekPath0(this.idlePos,t,!0),this.animAgent.move()}},n.onTransfer=function(){return i.remove(this.node),s.actor_play_end(),!1},o}(l)).currentActor=void 0,p=m))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/StaffAnimAgent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StaffBase.ts"],(function(i){"use strict";var t,e,n,o,s,a,r,h,m,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,s=i.createClass},function(i){a=i.cclegacy,r=i._decorator,h=i.sp,m=i.Component},function(i){u=i.EStaffBehavior}],execute:function(){var l,v,c,f,p,_;i("EStaffAnim",void 0),a._RF.push({},"b4fc5PH5CNBd4r35tMTdZTQ","StaffAnimAgent",void 0);var d,C,B=r.ccclass,g=r.property;!function(i){i.Idle="idle",i.Move="move",i.Slack="towork",i.ToWork="toworkold",i.OrderDishes="diancai",i.ServeDishes="move_duancai",i.ServeHotPot="move_duancai",i.ClearEat="shoushi",i.Cashier="work",i.CutDish="work",i.Hostess="work",i.Wash="work",i.Actor="work",i.ActorRest="rest01"}(d||(d=i("EStaffAnim",{}))),function(i){i[i.None=0]="None",i[i.Idle=1]="Idle"}(C||(C={}));var A={};i("StaffAnimAgent",(l=B("StaffAnimAgent"),v=g(h.Skeleton),l(((_=function(i){function t(){for(var t,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return t=i.call.apply(i,[this].concat(s))||this,n(t,"m_Spine",p,o(t)),t.m_AnimTag=C.None,t.m_TagAnims=void 0,t.m_AnimIndex=0,t.m_CurrSpeed=1,t.m_CurrBehavior=-1,t.m_LastAnim=null,t.fsm=void 0,t.loopCount=0,t.config=void 0,t.buff=void 0,t.onBehavior=void 0,t}e(t,i);var a=t.prototype;return a.start=function(){this.m_Spine.setCompleteListener(this.onComplete.bind(this))},a.onDisable=function(){this.config=this.buff=null,this.m_CurrSpeed=1,this.m_CurrBehavior=-1,this.onBehavior=null,this.stop(),this.loopCount=0,this.m_TagAnims=null,this.m_AnimTag=C.None,this.m_LastAnim=null},a.update=function(){var i=this.m_CurrBehavior,t=1;i>0&&(t=this.buff[i]||1),t!=this.m_CurrSpeed&&(this.m_CurrSpeed=t,this.m_Spine.timeScale=t)},a.onComplete=function(i){if(this.loopCount++,this.m_AnimTag>0){var t=this.m_TagAnims,e=t[this.m_AnimIndex];this.play(e),this.m_AnimIndex++,this.m_AnimIndex>=t.length&&(this.m_AnimIndex=0)}var n=this.fsm,o=n.currentState;o.onAnimComplete&&o.onAnimComplete(n.owner,i.animation.name)},a.move=function(){this.play(d.Move),this.animTag=C.None;var i=u.Move;this.m_CurrBehavior=i,this.onBehavior&&this.onBehavior(i)},a.idle=function(){this.play(d.Idle),this.animTag=C.Idle,this.m_CurrBehavior=-1},a.orderDishes=function(){this.play(d.OrderDishes),this.animTag=C.None,this.m_CurrBehavior=-1},a.serveDishes=function(){this.play(d.ServeDishes),this.animTag=C.None;var i=u.Move;this.m_CurrBehavior=i,this.onBehavior&&this.onBehavior(i)},a.serveHotPot=function(){this.play(d.ServeHotPot),this.animTag=C.None;var i=u.Move;this.m_CurrBehavior=i,this.onBehavior&&this.onBehavior(i)},a.clearEat=function(){this.play(d.ClearEat),this.animTag=C.None;var i=u.ClearEat;this.m_CurrBehavior=i,this.onBehavior&&this.onBehavior(i)},a.cashier=function(){this.play(d.Cashier),this.animTag=C.None;var i=u.Cashier;this.m_CurrBehavior=i,this.onBehavior&&this.onBehavior(i)},a.cutDish=function(){this.play(d.CutDish),this.animTag=C.None;var i=u.CutDish;this.m_CurrBehavior=i,this.onBehavior&&this.onBehavior(i)},a.hostess=function(){this.play(d.Hostess),this.animTag=C.None,this.m_CurrBehavior=-1},a.wash=function(){this.play(d.Wash),this.animTag=C.None;var i=u.Wash;this.m_CurrBehavior=i,this.onBehavior&&this.onBehavior(i)},a.slack=function(){this.play(d.Slack),this.animTag=C.None,this.m_CurrBehavior=-1},a.toWork=function(){this.play(d.ToWork),this.animTag=C.None,this.m_CurrBehavior=-1},a.actor=function(){this.play(d.Actor),this.animTag=C.None,this.m_CurrBehavior=-1,this.onBehavior&&this.onBehavior(u.Earn)},a.actorRest=function(){this.play(d.ActorRest),this.animTag=C.None,this.m_CurrBehavior=-1},a.changeSkin=function(){this.play(this.m_LastAnim)},a.play=function(i){this.loopCount=0,this.m_LastAnim=i,this.m_Spine.setAnimation(0,i,!0)},a.stop=function(){var i=this.m_Spine;i.isAnimationCached()?i.setToSetupPose():i.clearTracks()},s(t,[{key:"animTag",set:function(i){this.m_AnimTag=i,this.m_TagAnims=null,this.m_AnimIndex=1,i==C.Idle&&(this.m_TagAnims=A[this.config.Id]||t.s_IdleTypes)}}]),t}(m)).s_IdleTypes=["idle","idle","idle","rest"],p=t((f=_).prototype,"m_Spine",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=f))||c));a._RF.pop()}}}));

System.register("chunks:///_virtual/StaffBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./ReferencePool.ts","./EventBuiltin.ts","./Fsm.ts","./JSUtils.ts","./AssetHelper.ts","./AssetLoader.ts","./NodeUtils.ts","./StaffConfig.ts","./EventUtility.ts","./GameUtility.ts","./CustomerNode.ts","./CustomerTable.ts","./StaffTable.ts","./CommonTalkNode.ts","./DropoutNode.ts","./Lobby.ts","./LobbyNode.ts","./LobbyRoomData.ts","./LobbyUtility.ts","./MapManager.ts","./MapRoadManager.ts","./RoadSeekerAgent.ts","./SCashierState.ts","./SClearEatState.ts","./SCutDishState.ts","./SHostessState.ts","./SOrderDishesState.ts","./SServeDishesState.ts","./SServeHotPotState.ts","./SSlackState.ts","./StaffAnimAgent.ts","./StaffTaskQueue.ts","./SWaitState.ts","./SWashState.ts"],(function(t){"use strict";var e,i,a,s,n,o,f,r,h,l,m,c,d,u,S,_,k,v,g,T,p,y,b,C,L,P,B,A,R,N,D,E,I,x,M,H,O,V,W,w,U,F,G,K,Q,Z,j,z,J,q;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,a=t._decorator,s=t.v3,n=t.sp,o=t.randomRangeInt,f=t.Prefab,r=t.Layers,h=t.randomRange,l=t.Node,m=t.Component},function(t){c=t.default},function(t){d=t.default},function(t){u=t.eventDispatcher},function(t){S=t.Fsm},function(t){_=t.default},function(t){k=t.AssetHelper},function(t){v=t.assetLoader},function(t){g=t.default},function(t){T=t.staffConfig},function(t){p=t.MEventNames},function(t){y=t.EGameBundles,b=t.MLoadOnPlayRes},function(t){C=t.CustomerNode},function(t){L=t.CustomerTable},function(t){P=t.StaffTable},function(t){B=t.CommonTalkNode},function(t){A=t.DropoutNode},function(t){R=t.Lobby},function(t){N=t.LobbyNode},function(t){D=t.LobbyRoomData,E=t.StaffHostessData},function(t){I=t.MLobbyEvent,x=t.MPersonResPath},function(t){M=t.MapManager},function(t){H=t.default},function(t){O=t.RoadSeekerAgent},function(t){V=t.SCashierState},function(t){W=t.SClearEatState},function(t){w=t.SCutDishState},function(t){U=t.SHostessState},function(t){F=t.SOrderDishesState},function(t){G=t.SServeDishesState},function(t){K=t.SServeHotPotState},function(t){Q=t.SSlackState},function(t){Z=t.StaffAnimAgent},function(t){j=t.EStaffTaskType,z=t.StaffTaskQueue},function(t){J=t.SWaitState},function(t){q=t.SWashState}],execute:function(){var X,Y;t({EStaffBehavior:void 0,EStaffMoveState:void 0}),i._RF.push({},"9b276vBGZhFzZm2kKktn7Sk","StaffBase",void 0);var $,tt,et=a.ccclass;a.property;!function(t){t[t.TransferLeave=1]="TransferLeave"}($||($=t("EStaffMoveState",{}))),function(t){t[t.ClearEat=1]="ClearEat",t[t.Cashier=2]="Cashier",t[t.CutDish=3]="CutDish",t[t.Wash=4]="Wash",t[t.Customer=5]="Customer",t[t.Move=6]="Move",t[t.Earn=7]="Earn"}(tt||(tt=t("EStaffBehavior",{})));t("StaffBase",et("StaffBase")(((Y=function(t){function i(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).m_talkNode=void 0,e.m_Talk=void 0,e.m_Slack=void 0,e.m_Lobby=void 0,e.m_LobbyNode=void 0,e.m_RoadAgent=void 0,e.m_TalkTimer=-1,e.m_CdTime=-1,e.m_ClockTimer=0,e.m_Road0={px:0,py:0},e.m_Road1={px:0,py:0},e.m_ResNodes=[],e.m_SpineNode=void 0,e.m_TransformNode=void 0,e.m_ResId=-1,e.m_AreaId=-1,e.m_TransferStep=-1,e.m_TransferHandler=void 0,e.m_EndSlacking=void 0,e.m_SkillBuff=void 0,e.m_LastSkillBuff=void 0,e.m_Vec0=s(),e.m_Vec1=s(),e.m_Vec2=s(),e.m_Vec3=s(),e.fsm=void 0,e.animAgent=void 0,e.step=0,e.idlePos=void 0,e.idleLayer=void 0,e.dynLayer=void 0,e.config=void 0,e.task=void 0,e.taskTypes=void 0,e.workTime=0,e.buff={},e}e(i,t),i.initTaskState=function(){var t=this.m_TaskState;t[j.OrderDishes]=F.instance,t[j.ServeDishes]=G.instance,t[j.ServeHotPot]=K.instance,t[j.ClearEat]=W.instance,t[j.Cashier]=V.instance,t[j.CutDish]=w.instance,t[j.Hostess]=U.instance,t[j.Wash]=q.instance};var a=i.prototype;return a.onLoad=function(){this.fsm=S.get(this);var t=this.getComponent(Z);this.animAgent=t,t.fsm=this.fsm,this.m_SpineNode=t.m_Spine.node,this.m_TransformNode=this.node.getChildByName("Transform");var e=this.getComponent(O);this.m_RoadAgent=e,e.rotateHandler=this.onRotate.bind(this),e.endHandler=this.onPathEnd.bind(this),this.m_talkNode||(this.m_talkNode=this.node.getChildByName("Talk"))},a.onDestroy=function(){this.fsm&&d.recover(this.fsm),this.fsm=this.m_RoadAgent=this.animAgent=null,this.m_ResNodes=this.m_Road0=this.m_Road1=null},a.onEnable=function(){var t=this;this.m_Lobby=R.instance,this.m_LobbyNode=N.instance,u.on(I.AddStaffTask,this,(function(e){t.taskTypes.indexOf(e)<0||t.checkTask()})),u.on(I.ReceiveStaffTask,this,(function(e){t.task==e&&e.owner!=t&&t.startWait()})),u.on(p.Staff_update,this,(function(e){e==t.config.Id&&t.initBuff()})),u.on(p.Staff_fire,this,(function(e){e==t.config.Id&&g.remove(t.node)})),u.on(p.Staff_change_skin,this,(function(e){if(e.id==t.config.Id){var i=x.staff+e.spine_res;v.load(y.LoadOnPlay,i,n.SkeletonData,(function(e,a){e?c.error("Load staff spine failed id:",i):(t.releaseRes(),t.m_ResId=t.config.Id,t.animAgent.m_Spine.skeletonData=k.assign(a,t.node,!0),t.animAgent.changeSkin())}))}}))},a.onDisable=function(){this.m_Lobby=this.m_LobbyNode=null,this.fsm.changeState(null),this.m_TransformNode.targetOff(this),u.offAllCaller(this),this.idlePos=this.idleLayer=this.config=this.task=null,this.step=0;var t=this.m_TalkTimer;t>-1&&clearInterval(t),this.m_AreaId=-1,this.m_TalkTimer=-1,this.m_TransferStep=-1,this.m_CdTime=-1,this.m_TransferHandler=null,this.workTime=0,this.m_ClockTimer=0,this.m_EndSlacking=!1,this.m_SkillBuff&&(this.m_SkillBuff.buff=null),this.m_LastSkillBuff&&(this.m_LastSkillBuff.type=null),this.m_Talk&&g.remove(this.m_Talk),this.m_Talk=null,this.m_Slack&&g.remove(this.m_Slack),this.m_Slack=null,_.clearMap(this.buff),this.releaseRes()},a.update=function(t){this.m_ClockTimer+=t;var e=this.m_LastSkillBuff;e&&e.type&&this.m_ClockTimer>=e.time&&(this.addBuff(e.type,e.num,!0),e.type=null),this.workTime+=t,this.fsm.update(t)},a.initBase=function(t,e,i,a,s){this.idlePos=t,this.idleLayer=e,this.dynLayer=e,this.config=i,this.animAgent.config=i,this.animAgent.buff=this.buff,this.animAgent.onBehavior=this.startSkill.bind(this),this.startTalk(),this.initBuff(),this.setFace(1),"number"==typeof s&&(this.m_AreaId=s),this.m_ResId<0&&(this.m_ResId=this.config.Id,this.animAgent.m_Spine.skeletonData=k.assign(a,this.node,!0))},a.seekPath0=function(t,e,i){var a=this;void 0===i&&(i=!1);var s=this.m_Vec3,n=this.m_TransferStep,o=this.dynLayer;s.set(t.x,t.y);var f=i,r=e;switch(n){case-1:if(o==e)this.m_TransferHandler=null,this.seekPath(t,i);else this.m_TransferHandler=function(){a.m_TransferStep=$.TransferLeave,a.seekPath0(s,r,f)},t=D.getTransferPos(o)[1],i=!0,this.seekPath(t,i);break;case $.TransferLeave:if(o==e)this.m_TransferHandler=function(){a.m_TransferStep=-1,a.seekPath0(s,r,f)},t=D.getTransferPos(o)[1],i=!0,this.movePath(t,e,i);else this.m_TransferHandler=function(){a.onTransfer()&&(a.transfer(r),a.m_TransferStep=$.TransferLeave,a.seekPath0(s,r,f))},t=D.getTransferPos(o)[0],i=!0,this.movePath(t,e,i)}},a.seekPath=function(t,e){var i=this.m_Vec0,a=this.m_Vec1;this.node.getPosition(i);var s=M.get(this.dynLayer);e&&(s.roadManager.getPixelByUI(t.x,t.y,a),t=a);var n=!1,o=s.getNodeByPixel(i.x,i.y);0==o.value&&(n=!0,o.value=1);var f=!1,r=s.getNodeByPixel(t.x,t.y);0==r.value&&(f=!0,r.value=1);var h=s.seekPathByPixel(i,t,this.m_ResNodes);n&&(o.value=0),f&&(r.value=0),this.replaceSafePath(h,i,t),this.m_RoadAgent.path=h},a.movePath=function(t,e,i){var a=this.m_Vec0,s=this.m_Vec1;this.node.getPosition(a);var n=M.get(this.dynLayer);i&&(n.roadManager.getPixelByUI(t.x,t.y,s),t=s);var o=this.m_ResNodes;o.length=0,this.replaceSafePath(o,a,t),this.m_RoadAgent.path=o},a.setFace=function(t){var e=this.m_Vec0,i=C.baseScale,a=this.m_SpineNode;e.set(t*i,i,i),a.setScale(e)},a.startSkill=function(t){var e=this.m_SkillBuff;if(e){var i=e.buff;if(e&&i&&t==i.Type){var a=this.m_CdTime;if(!(a>=0&&this.m_ClockTimer-a<e.cd))if(!(o(0,100)>=e.prob)){var s=this.m_LastSkillBuff;s.type=t,s.num=this.buff[t],s.time=this.m_ClockTimer+e.duration,this.m_CdTime=this.m_ClockTimer,this.addBuff(t,i.Attribute/1e3)}}}},a.onWaitStart=function(){},a.onTransfer=function(){return!0},a.getEatTable=function(t){return this.m_LobbyNode.getEatTable(t)},a.getStaffConfig=function(){return this.m_LobbyNode.staffConfig},a.getTableLayer=function(t){return D.getTableLayer(t)},a.startWait=function(){this.task=null,this.checkTask()||this.fsm.changeState(J.instance)},a.startSlack=function(t){var e=this;if(t){var i=b.SlackNode;this.m_Slack||v.load(y.LoadOnPlay,i,f,(function(t,a){var s=g.instantiate(i,a);g.setLayer(r.Enum.DEFAULT,s),e.m_Slack=s,e.onSlackClick(),e.m_SpineNode.addChild(s)}));var a=this.config.slackRoomId,s=a[o(0,a.length)]+"",n=D.getRoomData(s).roadable,h=n[o(0,n.length)],l=this.m_Vec2;l.set(h.px,h.py);var m=D.getRoomLayer(s);this.seekPath0(l,m+""),this.animAgent.move()}else this.fsm.changeState(Q.instance)},a.slack=function(){this.animAgent.slack()},a.stopMove=function(){this.m_RoadAgent.enabled=!1,this.animAgent.idle()},a.readyEndSlack=function(){this.m_EndSlacking||(this.m_EndSlacking=!0,this.m_Slack&&g.remove(this.m_Slack),this.m_Slack=null,this.stopMove(),this.animAgent.toWork(),this.offSlackClick())},a.endSlack=function(t){var e=this;if(this.workTime=0,this.fsm.changeState(J.instance),this.startWait(),this.m_Slack&&g.remove(this.m_Slack),this.m_Slack=null,this.m_EndSlacking=!1,this.offSlackClick(),t){var i=P.getDrop(this.config.Res_id+"");if(i){var a=i.DropItem;if(a)if(h(0,100)<=i.DropPr){var n=b.DropoutNode;v.load(y.LoadOnPlay,n,f,(function(t,i){var o=g.instantiate(n,i);o.getComponent(A).initNode(a);var f=s(),r=R.instance.tipNode;r.inverseTransformPoint(f,e.node.worldPosition),f.y+=100,o.setPosition(f),r.addChild(o)}))}}}},a.receiveTask=function(){z.instance.receive(this.task,this)},a.finishTask=function(){z.instance.finish(this.task),this.task=null},a.offSlackClick=function(){this.m_TransformNode.targetOff(this)},a.onSlackClick=function(){var t=this,e=this.m_TransformNode;e.targetOff(this),e.on(l.EventType.TOUCH_START,(function(){t.fsm.currentState==Q.instance&&t.readyEndSlack()}),this)},a.checkTask=function(){if(this.task)return!1;if(this.fsm.currentState==Q.instance)return!1;for(var t=this.taskTypes,e=this.config.Area+"",i=t.length,a=this.m_AreaId,s=a>-1,n=0;n<i;n++){var o=t[n],f=s?z.instance.getByOId(o,a,e):z.instance.get(o,e);if(f)return this.updateTask(f),!0}return!1},a.updateTask=function(t){this.task=t,this.fsm.changeState(i.m_TaskState[t.type])},a.replaceSafePath=function(t,e,i){var a=this.m_Road0,s=this.m_Road1;a.px=e.x,a.py=e.y,s.px=i.x,s.py=i.y,t[0]=a,t[t.length>1?t.length-1:1]=s},a.onRotate=function(t,e,i){var a=this.m_Vec0;this.m_SpineNode.getScale(a);var s=a.x>0?1:-1;e.x-t.x>0?s=1:e.x-t.x<0&&(s=-1),this.setFace(s)},a.onPathEnd=function(){var t=this.m_TransferHandler;if(t)t();else{var e=this.fsm.currentState;e.onPathEnd&&e.onPathEnd(this)}},a.transfer=function(t){this.dynLayer=t;var e=this.m_Lobby.getDynNode(t);this.node.setParent(e);var i=D.getTransferPos(t),a=this.m_Vec0,s=i[0];H.get(t).getPixelByUI(s.x,s.y,a),this.node.setPosition(a)},a.startTalk=function(){var t=this,e=this.config,i=this.fsm,a=this.m_talkNode;this.m_TalkTimer=setInterval((function(){var s,n=i.currentState;if(n==J.instance||(s=n==Q.instance?e.slackId:e.workId),s&&s.length){var r=s[o(0,s.length)];if("0"==r)return;o(0,100);var h=L.getTalk(r),l=b.CommonTalkNode;v.load(y.LoadOnPlay,l,f,(function(e,i){var s=g.instantiate(l,i);t.m_Talk=s,a.addChild(s),s.getComponent(B).refresh(h,1,(function(){t.m_Talk=null}))}))}}),1e3*e.TalkInterval)},a.initBuff=function(){var t=this.config,e=this.buff;_.clearMap(e);var i=Math.max(T.get_info(t.Id),0),a=parseInt(t.moveBuff[i])/100;this.addBuff(tt.Move,a);var s=t.workBuffId[i];if("0"!=s){var n=P.getBuff(s);this.addBuff(n.Type,n.Attribute/1e3)}var o=t.Skill+"";if("0"!=o){this.m_SkillBuff||(this.m_SkillBuff={buff:null,prob:0,cd:0,duration:0}),this.m_LastSkillBuff||(this.m_LastSkillBuff={type:null,num:0,time:-1});var f=P.getBuff(o),r=parseInt(t.skillProb[i]),h=t.Cd,l=t.Duration,m=this.m_SkillBuff;m.buff=f,m.prob=r,m.cd=h,m.duration=l}},a.addBuff=function(t,e,i){void 0===i&&(i=!1);var a=this.buff;if(a[t]||(a[t]=1),a[t]=i?e:a[t]+e,t==tt.Move)this.initSpeed();else if(t==tt.CutDish){var s=this.m_AreaId;s>-1&&u.event(I.CutDishSpeedChange,[s,a[tt.CutDish]])}else t==tt.Customer&&E.setBuff(Math.max(0,a[t]-1))},a.initSpeed=function(){this.m_RoadAgent.speed=i.baseSpeed*this.buff[tt.Move]},a.releaseRes=function(){var t=this.animAgent.m_Spine;k.getAssetKeeper(this.node).releaseAsset(t.skeletonData,!0),t.skeletonData=null,this.m_ResId=-1},i}(m)).m_TaskState={},Y.baseSpeed=2.8,X=Y))||X);i._RF.pop()}}}));

System.register("chunks:///_virtual/StaffCashier.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./Lobby.ts","./LobbyRoomData.ts","./LobbyUtility.ts","./StaffBase.ts","./StaffTaskQueue.ts"],(function(t){"use strict";var e,a,i,s,n,o,r,f,c,h;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,i=t._decorator},function(t){s=t.eventDispatcher},function(t){n=t.Lobby},function(t){o=t.LobbyRoomData},function(t){r=t.MLobbyEvent},function(t){f=t.EStaffBehavior,c=t.StaffBase},function(t){h=t.EStaffTaskType}],execute:function(){var u;a._RF.push({},"f9336KrmN1LfIWPi20KJB9+","StaffCashier",void 0);var l=i.ccclass;i.property,t("StaffCashier",l("StaffCashier")(u=function(t){function a(){for(var e,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).taskTypes=[h.Cashier],e.m_PayTime=void 0,e}e(a,t);var i=a.prototype;return i.onEnable=function(){t.prototype.onEnable.call(this)},i.onDisable=function(){t.prototype.onDisable.call(this)},i.initStaff=function(t,e,a,i){this.initBase(t,e,a,i),this.startWait()},i.startToCashier=function(){this.step=0;var t=this.task.data,e=this.getEatTable(t.tableId),a=e.config.servePos;this.seekPath0(a,this.getTableLayer(t.tableId)+""),this.animAgent.move(),this.m_PayTime=e.payTime},i.endToCashier=function(){this.receiveTask(),this.fsm.resetStateTime(),this.step=1;var t=this.task.data;s.event(r.PayEating2,t.tableId),this.animAgent.cashier()},i.getPayTime=function(){var t=this.buff[f.Cashier]||1;return this.m_PayTime/t},i.endCashier=function(){var t=this.task.data.tableId;n.instance.getViewRoom()==o.getTableRoom(t)?s.event(r.PayEated,[t,!0]):s.event(r.PayEated,t),this.finishTask(),this.startWait()},a}(c))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/StaffConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./Configable.ts","./EventBuiltin.ts","./DataTableManager.ts","./LocalizationHelper.ts","./Debugtest_game.ts","./DataTable.ts","./EventUtility.ts","./GoogleFirebase.ts","./GameTool.ts","./StarConfig.ts"],(function(t){"use strict";var n,e,a,i,s,r,_,f,o,u,c,l,h,p,g,d,k,v;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,i=t.director,s=t.macro},function(t){r=t.default},function(t){_=t.configName,f=t.default},function(t){o=t.eventDispatcher},function(t){u=t.dataTableManager},function(t){c=t.LocalizationHelper},function(t){l=t.debugtest},function(t){h=t.EDataTables},function(t){p=t.MEventNames},function(t){g=t.googleFirebaser,d=t.eAnalyticsEvent},function(t){k=t.GameTool},function(t){v=t.starConfig}],execute:function(){var y;e._RF.push({},"f5feasZeIdGjLu4zQGxT/pd","StaffConfig",void 0);a.ccclass,a.property;var S=_("StaffConfig")(y=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this).staff_info=Object.create(null),n._used_skins=Object.create(null),n._have_skins=[],n._unlock_plan_num=1,n._plan_array=[],n._first_act_time=0,n}n(e,t);var a=e.prototype;return a.get_info=function(t){return null==this.staff_info[t]?-1:this.staff_info[t]},a.unlock_staff=function(t){var n=this;if(null!=this.staff_info[t])r.error("reunlock staff:",t,this.staff_info[t]);else{this.staff_info[t]=0,o.event(p.Staff_unlock,t);var e=this.get_all_person_score();this._update_all_person_score();var a={index:1,score:this.get_all_person_score()-e};v.checkStarIsUp(a),g.logEvent(d.staff_hire,"hire_"+t)}var i=0;return u.getDataTableArray(h.Staff).forEach((function(t){-1!=n.get_info(t.Id)&&i++})),i},a.update_staff=function(t){if(null!=this.staff_info[t]){this.staff_info[t]=Math.min(6,++this.staff_info[t]),o.event(p.Staff_update,t);var n=this.get_all_person_score();this._update_all_person_score();var e={index:1,score:this.get_all_person_score()-n};v.checkStarIsUp(e)}else r.error("update staff not exist:",t)},a.fire_staff=function(t){return null!=this.staff_info[t]?(delete this.staff_info[t],o.event(p.Staff_fire,t),this._flushPlanAfterFire(t),this._update_all_person_score(),!0):(r.error("fire staff not exist:",t),!1)},a.get_all_person_score=function(){return-1==m&&this._update_all_person_score(),m},a._update_all_person_score=function(){var t=this,n=u.getDataTableArray(h.Staff),e=0;n.forEach((function(n){var a=t.get_info(n.Id);-1!=a&&(e+=~~n.Score.split("_")[a])})),r.info("update all persons score:",e),m=e,o.event(p.HomeRefreshScore,2)},a.get_employ_staffs=function(){var t=this,n=[];return u.getDataTableArray(h.Staff).forEach((function(e){t.get_person_info(e.Id);var a=t.get_info(e.Id);-1!=a&&n.push({id:e.Id,star:a,skinRes:t.get_staff_res(e.Id)})})),r.info("emply staff",n),n},a.get_unlock_plan_num=function(){return this._unlock_plan_num},a.unlock_plan=function(){return this._unlock_plan_num<4&&(this._unlock_plan_num++,!0)},a.get_actor_plan=function(){return this._plan_array.slice()},a.set_actor_plan=function(t,n){void 0===n&&(n=-1),r.info("set new plan");var e=0;if(this._plan_array.forEach((function(n,a){n==t&&e++})),e>=2)return!1;var a=!1;return 0==this._plan_array.length&&(this._reset_act_time(),a=!0),-1!=n?this._plan_array[n]=t:this._plan_array.push(t),a&&o.event(p.StaffPlan_check_actor_wait),!0},a.get_actor_left_time=function(){return I?Math.max(0,this._first_act_time):-1},a.actor_play_start=function(){r.info("actor play start"),I=!0},a.actor_play_end=function(t){void 0===t&&(t=!1),r.info("actor play end"),I=!1,t||this._plan_array.shift(),this._reset_act_time(),o.event(p.StaffPlan_flush_after_set),o.event(p.StaffPlan_check_actor_wait)},a._reset_act_time=function(){this._first_act_time=1200,l.short_actor_time&&(this._first_act_time=20)},a.set_staff_skin=function(t,n){this._used_skins[t]=n},a.get_staff_skin=function(t){var n=this.get_person_info(t);return 1==n.skins.length&&this._used_skins[t]!=n.skins[0]&&(this._used_skins[t]=n.skins[0]),this._used_skins[t]||(this._used_skins[t]=n.skins[0]),this._used_skins[t]},a.get_staff_res=function(t){var n=Object.create(null);n.id=t;var e=this.get_person_info(t);if(this._used_skins[t]||(this._used_skins[t]=e.skins[0]),this._used_skins[t]){var a=u.getData(h.Skin,this._used_skins[t]);n.icon=a.Icon,n.spine_res=a.Res}else r.error("套装信息不完整",t);return n},a.get_person_info=function(t){var n=b[t];if(!n){var e=u.getData(h.Staff,t),a=u.getData(h.Person,e.Res_id);n={Name:c.getString(a.Name),Content:c.getString(e.Content),Tag:c.getString(e.Tag),Star:e.Star,res_id:a.Icon,spine_res:a.Res,Score:e.Score,Info:c.getString(a.Info),Skill:e.Skill,Cost:e.Cost,Point:e.Point,Duration:e.Duration,Sub_id:e.Sub_id,workBuffId:e.workBuffId,skillProb:e.skillProb,moveBuff:e.moveBuff,skins:k.splitNumberArray(a.Skin),QuickBuy:k.splitNumberArray(e.QuickBuy)}}return n},a.getStaffsByQuickId=function(t){var n=this,e=u.getDataTableArray(h.Staff),a=[];return e.forEach((function(e){-1!=n.get_person_info(e.Id).QuickBuy.indexOf(t)&&a.push(e)})),a=a.sort((function(t,n){return 6!=t.Sub_id&&6==n.Sub_id?-1:1}))},a.buy_skin=function(t){-1==t?this._have_skins=[]:-1==this._have_skins.indexOf(t)?this._have_skins.push(t):r.error("duplicate buy skin!:",t)},a.check_have_skin=function(t){return 1==u.getData(h.Skin,t).CostType||-1!=this._have_skins.indexOf(t)},a.onInit=function(t){l.delete_all_actor_plan&&(this._plan_array=[]),this._start_actor_time_count(),this._start_actor_time_count=function(){}},a._start_actor_time_count=function(){var t=this,n=i.getScheduler();n.schedule((function(n){I&&t._plan_array.length>0&&t._first_act_time>0&&(t._first_act_time-=n)}),n,.3,s.REPEAT_FOREVER,0,!1)},a._flushPlanAfterFire=function(t){if(-1!=[15,20].indexOf(t)){var n=!1;this._plan_array=this._plan_array.filter((function(e,a){return t!=e||(0==a&&(n=!0,o.event(p.StaffPlan_fire_playing_actor,e)),!1)})),n&&this.actor_play_end(!0),n&&this._plan_array.length>0&&this._reset_act_time(),o.event(p.StaffPlan_flush_after_set)}},e}(f))||y,m=-1,b={},I=!1;t("staffConfig",new S);e._RF.pop()}}}));

System.register("chunks:///_virtual/StaffCutDish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LobbyUtility.ts","./StaffBase.ts","./StaffTaskQueue.ts"],(function(t){"use strict";var i,s,e,n,a,o,h;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy,e=t._decorator},function(t){n=t.eventDispatcher},function(t){a=t.MLobbyEvent},function(t){o=t.StaffBase},function(t){h=t.EStaffTaskType}],execute:function(){var u;s._RF.push({},"57666+ZtdBPs70Hio4zXdvZ","StaffCutDish",void 0);var c=e.ccclass;e.property,t("StaffCutDish",c("StaffCutDish")(u=function(t){function s(){for(var i,s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this).taskTypes=[h.CutDish],i}i(s,t);var e=s.prototype;return e.onEnable=function(){t.prototype.onEnable.call(this),n.on(a.CookDished,this,this.endCutDish),n.on(a.ImmediatelyDrinkId,this,this.endCutDish)},e.onDisable=function(){t.prototype.onDisable.call(this)},e.initStaff=function(t,i,s,e,n){this.initBase(t,i,s,e,n),this.startWait(),this.setFace(-1)},e.startToCutDish=function(){this.receiveTask(),this.step=0,this.seekPath0(this.idlePos,this.idleLayer,!0),this.animAgent.move()},e.startCutDish=function(){this.animAgent.cutDish(),this.setFace(-1)},e.endCutDish=function(t){var i=this.task;i&&i.data.tableId==t&&(this.finishTask(),this.startWait())},s}(o))||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/StaffHostess.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StaffBase.ts","./StaffTaskQueue.ts"],(function(t){"use strict";var s,e,i,n,a;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){n=t.StaffBase},function(t){a=t.EStaffTaskType}],execute:function(){var o;e._RF.push({},"cebc1wREORFoInJpcRtfVo8","StaffHostess",void 0);var c=i.ccclass;i.property,t("StaffHostess",c("StaffHostess")(o=function(t){function e(){for(var s,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(s=t.call.apply(t,[this].concat(i))||this).taskTypes=[a.Hostess],s}s(e,t);var i=e.prototype;return i.onEnable=function(){t.prototype.onEnable.call(this)},i.onDisable=function(){t.prototype.onDisable.call(this)},i.initStaff=function(t,s,e,i){this.initBase(t,s,e,i),this.startWait(),this.setFace(1)},i.startToHostess=function(){this.step=0,this.seekPath0(this.idlePos,this.idleLayer,!0),this.animAgent.move()},i.startHostess=function(){this.receiveTask(),this.setFace(1),this.animAgent.hostess()},i.endHostess=function(){this.finishTask(),this.startWait()},i.onWaitStart=function(){this.setFace(1)},e}(n))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/StaffInfoView_skin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./StaffConfig.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./ResourceTool.ts","./UIConfig.ts"],(function(e){"use strict";var t,i,n,s,r,a,o,_,l,c,u,h,f,p,d,k,g,b,y,m,v,x,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,o=e.Sprite,_=e.Label,l=e.Node,c=e.director,u=e.Vec3,h=e.Component},function(e){f=e.default},function(e){p=e.eventDispatcher},function(e){d=e.dataTableManager},function(e){k=e.LocalizationHelper},function(e){g=e.uiManager},function(e){b=e.staffConfig},function(e){y=e.EDataTables},function(e){m=e.MEventNames},function(e){v=e.EGameBundles},function(e){x=e.ResourceTool},function(e){w=e.MUIConfig}],execute:function(){var S,I,P,T,A,D,L,U,z,R,C,F,N,E,M,V,B;r._RF.push({},"d6790+4EPlO67wl+Lg/nErL","StaffInfoView_skin",void 0);var O=a.ccclass,H=a.property;e("StaffInfoView_skin",(S=O("StaffInfoView_skin"),I=H({type:o,displayName:""}),P=H({type:_,displayName:""}),T=H({type:l,displayName:""}),A=H({type:_,displayName:""}),D=H({type:l,displayName:""}),L=H({type:l,displayName:""}),U=H({type:l,displayName:""}),S((C=t((R=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"headicon",C,s(t)),n(t,"use_btn_lab",F,s(t)),n(t,"skin_select_icon",N,s(t)),n(t,"skin_name_lab",E,s(t)),n(t,"skin1",M,s(t)),n(t,"skin0",V,s(t)),n(t,"use_btn",B,s(t)),t._person_id=0,t._asset=void 0,t._select_index=-1,t._use_index=-1,t._skinsArr=[],t}i(t,e);var r=t.prototype;return r.setData=function(e,t){this._person_id=e,this._asset=t,this._skinsArr=b.get_person_info(this._person_id).skins,this.skin0.active=this.skin1.active=!1;for(var i=0;i<this._skinsArr.length;i++){this["skin"+i].active=!0;var n=this["skin"+i].getChildByName("icon").getComponent(o);n.spriteFrame&&n.spriteFrame.reset();var s=d.getData(y.Skin,this._skinsArr[i]);x.setSpriteFrame(v.LoadOnPlay,"Res/Texture/UI/SkinIcon/"+s.Icon,n,this._asset,(function(e,t){}))}-1!=b.get_info(this._person_id)&&(this.use_btn.active=!0),b.get_staff_skin(this._person_id)==this._skinsArr[0]?(this._select_index=0,this._use_index=0):(this._select_index=1,this._use_index=1),this._flush_show(),this._flush_update_show()},r.update=function(e){c.getTotalFrames()%10==0&&this._flush_update_show()},r._flush_update_show=function(){-1==b.get_info(this._person_id)||this._select_index==this._use_index?this.use_btn.active=!1:this.use_btn.active=!0;var e=d.getData(y.Skin,this._skinsArr[this._select_index]);this.skin_name_lab.string=k.getString(e.Des)},r._flush_show=function(){var e=d.getData(y.Skin,this._skinsArr[this._select_index]);if(e){var t,i,n=e.Id;b.check_have_skin(n)?this.use_btn_lab.string=k.getString("33_39"):this.use_btn_lab.string=k.getString("33_38"),1==this._skinsArr.length?(t=i="Res/Texture/UI/Personnel/skin_rect",this.skin0.position=new u(168,228,0),this.skin_select_icon.setPosition(217,280)):(t=0==this._select_index?"Res/Texture/UI/Personnel/skin_select":"Res/Texture/UI/Personnel/skin_rect",i=0==this._select_index?"Res/Texture/UI/Personnel/skin_rect":"Res/Texture/UI/Personnel/skin_select",this.skin0.position=new u(82,228,0),this.skin_select_icon.setPosition(0==this._use_index?129:325,280)),x.setSpriteFrame(v.LoadOnPlay,t,this.skin0.getComponent(o),this._asset,(function(e,t){})),x.setSpriteFrame(v.LoadOnPlay,i,this.skin1.getComponent(o),this._asset,(function(e,t){}))}else f.error("skin error!",this._select_index,this._skinsArr[this._select_index])},r.c_preview_skin=function(e,t){this._select_index=t;var i=d.getData(y.Skin,this._skinsArr[t]);x.setSpriteFrame(v.LoadOnPlay,"Res/Texture/UI/AvatarFull/"+i.Icon,this.headicon,this._asset,(function(e,t){})),this._flush_show()},r.c_use_skin=function(){var e=this,t=d.getData(y.Skin,this._skinsArr[this._select_index]).Id;b.check_have_skin(t)?(b.set_staff_skin(this._person_id,this._skinsArr[this._select_index]),this._use_index=this._select_index,this.skin_select_icon.setPosition(0==this._use_index?129:325,280)):g.openView(w.ShopView,(function(){e.node.destroy(),p.event(m.StaffEmplyBackScene)}),0)},r.onClose=function(){var e=b.get_staff_res(this._person_id);p.event(m.Staff_change_skin,e)},t}(h)).prototype,"headicon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(R.prototype,"use_btn_lab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(R.prototype,"skin_select_icon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(R.prototype,"skin_name_lab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(R.prototype,"skin1",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(R.prototype,"skin0",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(R.prototype,"use_btn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=R))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/StaffInfoView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./GoodReputationConfig.ts","./ItemConfig.ts","./PurchaseGiftConfig.ts","./StaffConfig.ts","./StarConfig.ts","./TaskConfig.ts","./Debugtest_game.ts","./NoviceGuideMgr.ts","./LobbyNode.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts","./UITool.ts","./UIConfig.ts","./StaffInfoView_skin.ts"],(function(e){"use strict";var t,i,o,n,r,a,l,s,c,u,_,f,p,d,h,b,g,m,y,w,S,v,N,k,C,I,V,G,T,z,D,P,L,E,B,A,R,U,F,M,x,O,H,W;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,s=e.Label,c=e.RichText,u=e.Sprite,_=e.misc,f=e.Vec3,p=e.color,d=e.LabelOutline,h=e.director},function(e){b=e.default},function(e){g=e.eventDispatcher},function(e){m=e.dataTableManager},function(e){y=e.LocalizationHelper},function(e){w=e.uiManager},function(e){S=e.UIView},function(e){v=e.goodReputationConfig,N=e.EGoodReputationEnum},function(e){k=e.itemConfig,C=e.EItemEnum},function(e){I=e.purchaseGiftConfig},function(e){V=e.staffConfig},function(e){G=e.starConfig},function(e){T=e.taskConfig,z=e.ETaskType},function(e){D=e.debugtest},function(e){P=e.NoviceGuideMgr,L=e.EGuideStep,E=e.EGuideClickEnum},function(e){B=e.LobbyNode},function(e){A=e.EDataTables},function(e){R=e.MEventNames},function(e){U=e.EGameBundles},function(e){F=e.AudioTool,M=e.ESoundType},function(e){x=e.ResourceTool},function(e){O=e.UITool},function(e){H=e.MUIConfig},function(e){W=e.StaffInfoView_skin}],execute:function(){var j,q,J,K,Q,X,Y,Z,$,ee,te,ie,oe,ne,re,ae,le,se,ce,ue,_e,fe,pe,de,he,be,ge,me,ye,we,Se,ve,Ne,ke,Ce,Ie,Ve;r._RF.push({},"22172R6GVREv7uG3yl841sb","StaffInfoView",void 0);var Ge=a.ccclass,Te=a.property;e("StaffInfoView",(j=Ge("StaffInfoView"),q=Te({type:l,displayName:""}),J=Te({type:s,displayName:""}),K=Te({type:s,displayName:""}),Q=Te({type:l,displayName:""}),X=Te({type:s,displayName:""}),Y=Te({type:l,displayName:""}),Z=Te({type:s,displayName:""}),$=Te({type:l,displayName:""}),ee=Te({type:l,displayName:""}),te=Te({type:c,displayName:""}),ie=Te({type:c,displayName:""}),oe=Te({type:u,displayName:""}),ne=Te({type:s,displayName:""}),re=Te({type:s,displayName:""}),ae=Te({type:s,displayName:""}),le=Te({type:l,displayName:""}),se=Te({type:l,displayName:""}),j((_e=t((ue=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"actor_hide_lab",_e,n(t)),o(t,"toggle_hide_show_lab",fe,n(t)),o(t,"have_lab",pe,n(t)),o(t,"max_lab",de,n(t)),o(t,"update_price_lab",he,n(t)),o(t,"updateNode",be,n(t)),o(t,"price_lab",ge,n(t)),o(t,"employ_node",me,n(t)),o(t,"fire_btn",ye,n(t)),o(t,"service_rich",we,n(t)),o(t,"info_rich",Se,n(t)),o(t,"headicon",ve,n(t)),o(t,"work_lab",Ne,n(t)),o(t,"desLabl",ke,n(t)),o(t,"nameLabel",Ce,n(t)),o(t,"starNode",Ie,n(t)),o(t,"employBtn",Ve,n(t)),t.m_LobbyNode=void 0,t.m_person_id=0,t}i(t,e);var r=t.prototype;return r.onOpen=function(e){g.on(R.guideClick,this,this.guideClick),g.on(R.refreshGuildPos,this,this.refreshGuildPos),this.getComponent(W).setData(e,this),F.play(M.ui_open),this.m_person_id=e;var t=V.get_person_info(this.m_person_id);this.nameLabel.string=t.Name;var i=V.get_staff_res(this.m_person_id);x.setSpriteFrame(U.LoadOnPlay,"Res/Texture/UI/AvatarFull/"+i.icon,this.headicon,this,(function(e,t){})),this.desLabl.string=t.Info,this.work_lab.string=t.Content,this._flushInfo(),this.m_LobbyNode=B.instance,this._updatePriceShow(),this.scheduleOnce((function(){P.instance.isNeedShowNoviceView(L.Guide_Staff)}),.6)},r.onClose=function(){g.offAllCaller(this),this.m_LobbyNode=null,this.headicon.spriteFrame&&this.headicon.spriteFrame.reset(),g.event(R.CloseGoldAdView),this.getComponent(W).onClose()},r.refreshGuildPos=function(e){e.click==E.layerButton&&this.employBtn.getWorldPosition(O.instance.guideHandWorldPos)},r.guideClick=function(e){e.click==E.layerButton&&this.c_employ()},r._add_color_to_str=function(e,t){return"<color="+e+">"+t+"</color>"},r._flushInfo=function(){var e=this,t=V.get_info(this.m_person_id),i=_.clampf(t,0,6);3==i&&v.canReputate(N.staffStar3);var o,n,r=V.get_person_info(this.m_person_id),a=r.workBuffId[i],l=m.getData(A.StaffAttribute,a);"0"!=r.Skill?(o=m.getData(A.StaffAttribute,r.Skill),this.toggle_hide_show_lab.node.position=new f(-119,-171,0),"6"==r.Sub_id?(this.toggle_hide_show_lab.node.position=new f(-119,-232,0),this.actor_hide_lab.active=!1,n=[[y.getString(l.Des,[this._add_color_to_str("#24ae08",l.Attribute/10+"%")])+"<br/>","#83706a"],[y.getString(o.Des,[this._add_color_to_str("#24ae08",r.skillProb[i]+"%"),this._add_color_to_str("#24ae08",o.Attribute/10+"%"),this._add_color_to_str("#24ae08",""+r.Duration)])+"<br/>","#83706a"]]):(this.actor_hide_lab.active=!0,n=[[y.getString(l.Des,[this._add_color_to_str("#24ae08",l.Attribute/10+"%")])+"<br/>","#83706a"],[y.getString(o.Des,[this._add_color_to_str("#24ae08",r.skillProb[i]+"%"),this._add_color_to_str("#24ae08",o.Attribute/10+"%"),this._add_color_to_str("#24ae08",""+r.Duration)])+"<br/>","#83706a"],[y.getString("35_31",[this._add_color_to_str("#24ae08",r.moveBuff[i]+"%")]),"#83706a"]]),this.toggle_hide_show_lab.string=y.getString("33_17")):(n=[[y.getString(l.Des,[this._add_color_to_str("#24ae08",l.Attribute/10+"%")])+"<br/><br/>","#83706a"],[y.getString("35_31",[this._add_color_to_str("#24ae08",r.moveBuff[i]+"%")]),"#83706a"]],this.toggle_hide_show_lab.string="");var s="";if(n.forEach((function(t,i){s+=e._add_color_to_str(t[1],t[0])})),this.info_rich.string=s,this.fire_btn.active=-1!=t,this.starNode.active=-1!=t,this.employ_node.active=-1==t,this.updateNode.active=-1!=t,-1!=t)for(var c=1;c<=6;c++)this.starNode.getChildByName("star"+c).active=t>=c;else O.isOpenADGetGold(r.Cost);var u=r.Score.split("_");this.max_lab.active=6==t,this.updateNode.getChildByName("upgradebtn").active=6!=t,this.service_rich.string=i<6?"<color=#83706a>"+y.getString("33_30")+"</color>  <color=#219ac1>"+u[i]+"</color>   <outline color=black width=1.5><color=#3CB82C> >>   </color></outline><color=#83706a>"+y.getString("33_15")+"  "+u[i+1]+"</color>":"<color=#83706a>"+y.getString("33_30")+"</color>  <color=#219ac1>"+u[i]+"</color>",g.event(R.StaffFlushPerson,this.m_person_id)},r._updatePriceShow=function(){var e=V.get_person_info(this.m_person_id);this.price_lab.string=e.Cost+"",k.getItemNum(C.money)<e.Cost?this.price_lab.color=p(255,0,0):this.price_lab.color=p(43,150,77);var t=V.get_info(this.m_person_id),i=_.clampf(t,0,6),o=~~e.Point.split("_")[i+1];k.getItemNum(C.worker_book)<o?(this.update_price_lab.color=p(252,125,112,255),this.update_price_lab.getComponent(d).color=p(122,29,20,255)):(this.update_price_lab.color=p(255,255,246),this.update_price_lab.getComponent(d).color=p(23,107,155,255)),this.update_price_lab.string="x "+o,this.have_lab.string=y.getString("22_9",[k.getItemNum(C.worker_book)])},r.update=function(){h.getTotalFrames()%20==0&&this._updatePriceShow()},r.c_employ=function(){F.play(M.ui_click);var e=V.get_person_info(this.m_person_id);e.Star>G.getStar()?w.openView(H.TipView,null,{content:y.getString("33_31",[G.getStarNameByStar(e.Star)])}):k.getItemNum(C.money)<e.Cost?O.instance.haveNoAD?w.openView(H.ShopDepotView):w.openView(H.TipView,null,{content:y.getString("1_17")}):(k.useItem(C.money,e.Cost),V.unlock_staff(this.m_person_id)>=4&&v.canReputate(N.staff4),this.c_clickClose(),g.event(R.StaffEmplyBackScene),T.addTaskPro(z.EmployPlayer,this.m_person_id))},r.c_update_staff=function(){F.play(M.ui_click);var e=V.get_person_info(this.m_person_id),t=V.get_info(this.m_person_id),i=~~e.Point.split("_")[t+1];k.getItemNum(C.worker_book)>=i?(k.useItem(C.worker_book,i),V.update_staff(this.m_person_id),this._flushInfo()):I.canGetReward(1003)>0?w.openView(H.PurchaseGiftView1003,null):w.openView(H.PurchaseGiftView1005,null,1006)},r.c_fire=function(){var e=this;F.play(M.ui_click),w.openView(H.ConfirmView,null,{title:y.getString("2_10"),desc:y.getString("33_24"),content:y.getString("33_25"),okCallback:function(){var t=!0;D.fire_person_no_work||(t=e.m_LobbyNode.staffCanFire(e.m_person_id)),b.debug("Staff can fire:",t),t?(V.fire_staff(e.m_person_id),e._flushInfo()):w.openView(H.TipView,null,{content:y.getString("33_28")})}})},r.c_clickClose=function(){F.play(M.ui_click),w.closeView(this)},t}(S)).prototype,"actor_hide_lab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ue.prototype,"toggle_hide_show_lab",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ue.prototype,"have_lab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ue.prototype,"max_lab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(ue.prototype,"update_price_lab",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ue.prototype,"updateNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(ue.prototype,"price_lab",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(ue.prototype,"employ_node",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ue.prototype,"fire_btn",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(ue.prototype,"service_rich",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(ue.prototype,"info_rich",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(ue.prototype,"headicon",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(ue.prototype,"work_lab",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(ue.prototype,"desLabl",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(ue.prototype,"nameLabel",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(ue.prototype,"starNode",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(ue.prototype,"employBtn",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=ue))||ce));r._RF.pop()}}}));

System.register("chunks:///_virtual/StaffPlanView_exchange_list.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./LocalizationHelper.ts","./StaffConfig.ts","./DataTable.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts"],(function(t){"use strict";var e,i,n,a,r,o,l,c,s,u,_,f,p,d,h,b,g,m,y,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,l=t.Node,c=t.RichText,s=t.Sprite,u=t.Label,_=t.misc,f=t.Component},function(t){p=t.dataTableManager},function(t){d=t.LocalizationHelper},function(t){h=t.staffConfig},function(t){b=t.EDataTables},function(t){g=t.EGameBundles},function(t){m=t.AudioTool,y=t.ESoundType},function(t){v=t.ResourceTool}],execute:function(){var w,S,T,D,z,N,k,x,A,L,P;r._RF.push({},"76c9dbNWqFNELbnk75RX6e9","StaffPlanView_exchange_list",void 0);var R=o.ccclass,I=o.property,E=(t("StaffPlanView_exchange_list",(w=R("StaffPlanView_exchange_list"),S=I({type:l,displayName:""}),T=I({type:c,displayName:""}),D=I({type:s,displayName:""}),z=I({type:u,displayName:""}),w((x=e((k=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"select_icon",x,a(e)),n(e,"work_rich",A,a(e)),n(e,"head",L,a(e)),n(e,"name_lab",P,a(e)),e.m_person_id=-1,e}i(e,t);var r=e.prototype;return r.onDestroy=function(){E=-1},r.setData=function(t,e){var i=this;this.m_person_id=t;var n=h.get_person_info(this.m_person_id),a=h.get_info(this.m_person_id),r=_.clampf(a,0,6);this.name_lab.string=n.Name,v.setSpriteFrame(g.LoadOnPlay,"Res/Texture/UI/Avatar/UI_Icon_Avatar_"+n.res_id,this.head,e,(function(t,e){}));var o=n.workBuffId[r],l=p.getData(b.StaffAttribute,o),c=[[d.getString("33_16"),"#83706a"],[d.getString(l.Des,[this._add_color_to_str("#24ae08",l.Attribute/10+"%")])+"<br/><br/>","#83706a"]],s="";c.forEach((function(t,e){s+=i._add_color_to_str(t[1],t[0])})),this.work_rich.string=s},r._add_color_to_str=function(t,e){return"<color="+t+">"+e+"</color>"},r.update=function(t){this.select_icon.active=this.m_person_id==E},r.c_certain=function(){m.play(y.ui_click),E=this.m_person_id},e.getSelectId=function(){return E},e}(f)).prototype,"select_icon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(k.prototype,"work_rich",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(k.prototype,"head",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(k.prototype,"name_lab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=k))||N)),-1);r._RF.pop()}}}));

System.register("chunks:///_virtual/StaffPlanView_exchange.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./StaffConfig.ts","./EventUtility.ts","./AudioTool.ts","./UIConfig.ts","./StaffPlanView_exchange_list.ts"],(function(t){"use strict";var e,n,i,a,l,o,c,r,s,f,u,p,_,h,g,d,y,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){l=t.cclegacy,o=t._decorator,c=t.Node},function(t){r=t.eventDispatcher},function(t){s=t.LocalizationHelper},function(t){f=t.uiManager},function(t){u=t.UIView},function(t){p=t.default},function(t){_=t.staffConfig},function(t){h=t.MEventNames},function(t){g=t.AudioTool,d=t.ESoundType},function(t){y=t.MUIConfig},function(t){v=t.StaffPlanView_exchange_list}],execute:function(){var w,x,S,C,V,m,P;l._RF.push({},"7dd3b7MwkpClYKZMJgRePyU","StaffPlanView_exchange",void 0);var b=o.ccclass,U=o.property;t("StaffPlanView_exchange",(w=b("StaffPlanView_exchange"),x=U({type:c,displayName:""}),S=U({type:c,displayName:""}),w((m=e((V=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return e=t.call.apply(t,[this].concat(l))||this,i(e,"content",m,a(e)),i(e,"template_plan_actor",P,a(e)),e._exchange_index=-1,e}n(e,t);var l=e.prototype;return l.onClose=function(){this._exchange_index=-1,r.offAllCaller(this),this.content.destroyAllChildren()},l.onOpen=function(t){g.play(d.ui_open),this.template_plan_actor.active=!1,r.on(h.StaffPlan_flush_after_set,this,this.c_clickClose),null!=t&&(this._exchange_index=t);for(var e=[15,20],n=0;n<e.length;n++){if(-1!=_.get_info(e[n])){var i=p.instantiate(this.template_plan_actor);i.active=!0,this.content.addChild(i),i.getComponent(v).setData(e[n],this)}}},l.c_certain=function(){g.play(d.ui_click);var t=v.getSelectId();-1!=t?_.set_actor_plan(t,this._exchange_index)?(this.c_clickClose(),r.event(h.StaffPlan_flush_after_set)):f.openView(y.TipView,null,{content:s.getString("34_16")}):f.openView(y.TipView,null,{content:s.getString("34_16")})},l.c_clickClose=function(){g.play(d.ui_click),f.closeView(this)},e}(u)).prototype,"content",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(V.prototype,"template_plan_actor",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=V))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/StaffPlanView_list_person.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationHelper.ts","./UIManager.ts","./StaffConfig.ts","./Debugtest_game.ts","./GameUtility.ts","./AudioTool.ts","./GameTool.ts","./ResourceTool.ts","./UIConfig.ts"],(function(e){"use strict";var t,i,n,a,r,o,l,s,u,c,p,_,f,g,m,b,h,d,y,w,v,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Label,s=e.Node,u=e.Sprite,c=e.color,p=e.director,_=e.Component},function(e){f=e.LocalizationHelper},function(e){g=e.uiManager},function(e){m=e.staffConfig},function(e){b=e.debugtest},function(e){h=e.EGameBundles},function(e){d=e.AudioTool,y=e.ESoundType},function(e){w=e.GameTool},function(e){v=e.ResourceTool},function(e){x=e.MUIConfig}],execute:function(){var N,S,T,z,I,C,P,k,L,A,R,U,V,B,D,F,M;r._RF.push({},"ca70cXLJ6BEI6cAip9dghYN","StaffPlanView_list_person",void 0);var G=o.ccclass,E=o.property;e("StaffPlanView_list_person",(N=G("StaffPlanView_list_person"),S=E({type:l,displayName:""}),T=E({type:s,displayName:""}),z=E({type:s,displayName:""}),I=E({type:u,displayName:""}),C=E({type:l,displayName:""}),P=E({type:l,displayName:""}),k=E({type:l,displayName:""}),N((R=t((A=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"sort_lab",R,a(t)),n(t,"progress_time",U,a(t)),n(t,"btn_exchange",V,a(t)),n(t,"head",B,a(t)),n(t,"des_lab",D,a(t)),n(t,"work_lab",F,a(t)),n(t,"name_lab",M,a(t)),t.m_index=-1,t.m_person_id=0,t}i(t,e);var r=t.prototype;return r.setData=function(e,t,i){this.m_index=e,this.m_person_id=t,this.sort_lab.string=e+1+"";var n=m.get_person_info(this.m_person_id);this.name_lab.string=n.Name,v.setSpriteFrame(h.LoadOnPlay,"Res/Texture/UI/Avatar/UI_Icon_Avatar_"+n.res_id,this.head,i,(function(e,t){}));var a=n.Tag.split("_");this.des_lab.string=a[0],0==e?(this.work_lab.string=f.getString("34_4"),this.btn_exchange.active=!1):(this.progress_time.active=!1,this.work_lab.string=f.getString("34_14"),this.work_lab.color=c(219,112,58,255)),this._flushInfo()},r._flushInfo=function(){var e=this.progress_time,t=m.get_actor_left_time();t=Math.max(0,t);var i=1200;b.short_actor_time&&(i=20),e.getChildByName("bar").getComponent(u).fillRange=t/i,e.getChildByName("time_lab").getComponent(l).string=w.getFmtTime(t,"m")},r.update=function(){0==this.m_index&&p.getTotalFrames()%30==0&&this._flushInfo()},r.c_open_exchange=function(){d.play(y.ui_click),g.openView(x.StaffPlanView_exchange,null,this.m_index)},t}(_)).prototype,"sort_lab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(A.prototype,"progress_time",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(A.prototype,"btn_exchange",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(A.prototype,"head",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(A.prototype,"des_lab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(A.prototype,"work_lab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(A.prototype,"name_lab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=A))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/StaffPlanView_list_set.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./AudioTool.ts","./UIConfig.ts"],(function(t){"use strict";var n,e,i,o,a,s,c,u;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.Component},function(t){a=t.uiManager},function(t){s=t.AudioTool,c=t.ESoundType},function(t){u=t.MUIConfig}],execute:function(){var l;e._RF.push({},"98aaeo1UyRNjLXwGPz4M79P","StaffPlanView_list_set",void 0);var r=i.ccclass;i.property,t("StaffPlanView_list_set",r("StaffPlanView_list_set")(l=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.c_open_exchange=function(){s.play(c.ui_click),a.openView(u.StaffPlanView_exchange,null)},e}(o))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/StaffPlanView_list_unlock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./ItemConfig.ts","./StaffConfig.ts","./EventUtility.ts","./AudioTool.ts","./UIConfig.ts"],(function(t){"use strict";var n,e,i,o,l,c,r,a,u,s,f,_,p,m,g,y,h,v,b,d,k;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,c=t._decorator,r=t.Label,a=t.color,u=t.LabelOutline,s=t.director,f=t.Component},function(t){_=t.eventDispatcher},function(t){p=t.LocalizationHelper},function(t){m=t.uiManager},function(t){g=t.itemConfig,y=t.EItemEnum},function(t){h=t.staffConfig},function(t){v=t.MEventNames},function(t){b=t.AudioTool,d=t.ESoundType},function(t){k=t.MUIConfig}],execute:function(){var I,S,w,C,V;l._RF.push({},"37532jSc8VJSbeIrDVFAIzv","StaffPlanView_list_unlock",void 0);var P=c.ccclass,z=c.property;t("StaffPlanView_list_unlock",(I=P("StaffPlanView_list_unlock"),S=z({type:r,displayName:""}),I((V=n((C=function(t){function n(){for(var n,e=arguments.length,l=new Array(e),c=0;c<e;c++)l[c]=arguments[c];return n=t.call.apply(t,[this].concat(l))||this,i(n,"m_price_lab",V,o(n)),n}e(n,t);var l=n.prototype;return l.start=function(){this._flush_money()},l._flush_money=function(){var t=2e5*h.get_unlock_plan_num();this.m_price_lab.string=t+"",g.getItemNum(y.money)<t?(this.m_price_lab.color=a(252,125,112,255),this.m_price_lab.getComponent(u).color=a(122,29,20,255)):(this.m_price_lab.color=a(255,255,246),this.m_price_lab.getComponent(u).color=a(23,107,155,255))},l.update=function(){s.getTotalFrames()%30==0&&this._flush_money()},l.c_unlock=function(){b.play(d.ui_click);var t=2e5*h.get_unlock_plan_num();g.getItemNum(y.money)>=t?(g.useItem(y.money,t),h.unlock_plan()&&_.event(v.StaffPlan_unlock_new)):m.openView(k.TipView,null,{content:p.getString("1_17")})},n}(f)).prototype,"m_price_lab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=C))||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/StaffPlanView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./StaffConfig.ts","./EventUtility.ts","./AudioTool.ts","./StaffPlanView_list_person.ts"],(function(t){"use strict";var e,n,i,l,a,o,s,r,c,u,p,f,_,h,d,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.Node},function(t){r=t.eventDispatcher},function(t){c=t.uiManager},function(t){u=t.UIView},function(t){p=t.default},function(t){f=t.staffConfig},function(t){_=t.MEventNames},function(t){h=t.AudioTool,d=t.ESoundType},function(t){y=t.StaffPlanView_list_person}],execute:function(){var m,v,w,g,b,k,C,P,S,N,V;a._RF.push({},"f568aoBYCFEVK6yNI9Acuwv","StaffPlanView",void 0);var A=o.ccclass,z=o.property;t("StaffPlanView",(m=A("StaffPlanView"),v=z({type:s,displayName:""}),w=z({type:s,displayName:""}),g=z({type:s,displayName:""}),b=z({type:s,displayName:""}),m((P=e((C=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"content",P,l(e)),i(e,"template_plan_unlock",S,l(e)),i(e,"template_plan_set",N,l(e)),i(e,"template_plan_person",V,l(e)),e._list_unlock=null,e}n(e,t);var a=e.prototype;return a.onClose=function(){r.offAllCaller(this),this.content.destroyAllChildren()},a.onOpen=function(){h.play(d.ui_open),this.template_plan_set.active=this.template_plan_person.active=this.template_plan_unlock.active=!1,r.on(_.StaffPlan_unlock_new,this,this._addNewPlan),r.on(_.StaffPlan_flush_after_set,this,this._flushList),this._flushList()},a._flushList=function(){this.content.destroyAllChildren();for(var t=f.get_unlock_plan_num(),e=f.get_actor_plan(),n=0;n<t;n++){var i=void 0;e[n]?(i=p.instantiate(this.template_plan_person)).getComponent(y).setData(n,e[n],this):i=p.instantiate(this.template_plan_set),i.active=!0,this.content.addChild(i)}if(t<4){var l=p.instantiate(this.template_plan_unlock);l.active=!0,this.content.addChild(l),this._list_unlock=l}},a._addNewPlan=function(){var t=f.get_unlock_plan_num(),e=p.instantiate(this.template_plan_set);e.active=!0,this.content.insertChild(e,this.content.children.length-1),t>=4&&this._list_unlock.destroy()},a.c_clickClose=function(){c.closeView(this)},e}(u)).prototype,"content",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(C.prototype,"template_plan_unlock",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(C.prototype,"template_plan_set",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(C.prototype,"template_plan_person",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=C))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/StaffServeDish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LobbyUtility.ts","./StaffBase.ts","./StaffTaskQueue.ts"],(function(t){"use strict";var e,s,i,a,n,r,o,h,f;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,i=t._decorator},function(t){a=t.eventDispatcher},function(t){n=t.ELobbyLayer,r=t.MLobbyEvent,o=t.ELobbyServeDishes},function(t){h=t.StaffBase},function(t){f=t.EStaffTaskType}],execute:function(){var c;s._RF.push({},"aed6bhu/WhEj5tAP0RZETP+","StaffServeDish",void 0);var u=i.ccclass;i.property,t("StaffServeDish",u("StaffServeDish")(c=function(t){function s(){for(var e,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).taskTypes=[f.ServeDishes],e}e(s,t);var i=s.prototype;return i.onEnable=function(){t.prototype.onEnable.call(this)},i.onDisable=function(){t.prototype.onDisable.call(this)},i.initStaff=function(t,e,s,i){this.initBase(t,e,s,i),this.startWait()},i.startGetDish=function(){this.step=0;var t=this.getStaffConfig().dishPos;this.seekPath0(t,n.Lobby+"",!0),this.animAgent.move()},i.endGetDish=function(){this.receiveTask();var t=this.task.data;a.event(r.ServeDishes,[t.tableId,o.Dish]),this.step=1;var e=this.getEatTable(t.tableId).config.servePos;this.seekPath0(e,this.getTableLayer(t.tableId)+""),this.animAgent.serveDishes()},i.endServeDishes=function(){var t=this.task.data;a.event(r.ServeDished,[t.tableId,o.Dish]),this.finishTask(),this.startWait()},s}(h))||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/StaffServeHotPot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LobbyUtility.ts","./StaffBase.ts","./StaffTaskQueue.ts"],(function(t){"use strict";var e,o,s,a,i,n,r,f,c;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,s=t._decorator},function(t){a=t.eventDispatcher},function(t){i=t.ELobbyLayer,n=t.MLobbyEvent,r=t.ELobbyServeDishes},function(t){f=t.StaffBase},function(t){c=t.EStaffTaskType}],execute:function(){var h;o._RF.push({},"0908eAHvzBAz7oFF44W5AEv","StaffServeHotPot",void 0);var v=s.ccclass;s.property,t("StaffServeHotPot",v("StaffServeHotPot")(h=function(t){function o(){for(var e,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))||this).taskTypes=[c.ServeHotPot],e}e(o,t);var s=o.prototype;return s.onEnable=function(){t.prototype.onEnable.call(this)},s.onDisable=function(){t.prototype.onDisable.call(this)},s.initStaff=function(t,e,o,s){this.initBase(t,e,o,s),this.startWait()},s.startGetHotPot=function(){this.step=0;var t=this.getStaffConfig().hotPotPos;this.seekPath0(t,i.Lobby+"",!0),this.animAgent.move()},s.endGetHotPot=function(){this.receiveTask();var t=this.task.data;a.event(n.ServeDishes,[t.tableId,r.HotPot]),this.step=1;var e=this.getEatTable(t.tableId).config.servePos;this.seekPath0(e,this.getTableLayer(t.tableId)+""),this.animAgent.serveHotPot()},s.endServeHotPot=function(){var t=this.task.data;a.event(n.ServeDished,[t.tableId,r.HotPot]),this.finishTask(),this.startWait()},o}(f))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/StaffTable.ts",["cc","./DataTableManager.ts","./DataTable.ts"],(function(t){"use strict";var a,e,o;return{setters:[function(t){a=t.cclegacy},function(t){e=t.dataTableManager},function(t){o=t.EDataTables}],execute:function(){var i,s;t({EFoodSubType:void 0,EFoodTypeType:void 0}),a._RF.push({},"3098fXPfqRIZLLyDiUZpEOM","StaffTable",void 0),function(t){t[t.Staple=1]="Staple",t[t.NonStaple=2]="NonStaple",t[t.Drink=3]="Drink"}(i||(i=t("EFoodSubType",{}))),function(t){t[t.Dessert=4]="Dessert"}(s||(s=t("EFoodTypeType",{})));var r=t("StaffTable",function(){function t(){}return t.init=function(){var t,a;this.m_Datas=e.getDataTable(o.Staff),this.m_BuffDatas=e.getDataTable(o.StaffAttribute),this.m_DropData=e.getDataTable(o.Person),this.m_FoodData=e.getDataTable(o.Food);var i=this.m_Datas;for(var s in i){var r=i[s];r.slackRoomId=(r.RestArea+"").split("_"),delete r.RestArea,r.workId=(r.Work+"").split("_"),r.slackId=(r.Daze+"").split("_"),delete r.Work,delete r.Daze,r.moveBuff=(r.WalkSpeedup+"").split("_"),r.workBuffId=(r.WorkShorten+"").split("_"),r.skillProb=(r.Probability+"").split("_"),delete r.WalkSpeedup,delete r.WorkShorten,delete r.Probability}var n=e.getDataTable(o.Constant);this.baseClearEatTime=(null==(t=n[14])?void 0:t.Value)||this.baseClearEatTime,this.baseWashTime=(null==(a=n[15])?void 0:a.Value)||this.baseWashTime},t.getData=function(t){return this.m_Datas[t]},t.getBuff=function(t){return this.m_BuffDatas[t]},t.getDrop=function(t){return this.m_DropData[t]},t.getFood=function(t){return this.m_FoodData[t]},t}());r.m_Datas=void 0,r.m_BuffDatas=void 0,r.m_DropData=void 0,r.m_FoodData=void 0,r.baseClearEatTime=5,r.baseWashTime=5,a._RF.pop()}}}));

System.register("chunks:///_virtual/StaffTaskQueue.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReferencePool.ts","./EventBuiltin.ts","./JSUtils.ts","./LobbyRoomData.ts","./LobbyUtility.ts"],(function(t){"use strict";var e,n,s,a,r,i,o,u;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){s=t.default},function(t){a=t.eventDispatcher},function(t){r=t.default},function(t){i=t.ELobbyRoomId,o=t.LobbyRoomData},function(t){u=t.MLobbyEvent}],execute:function(){var f;t("EStaffTaskType",void 0),n._RF.push({},"bab5fKMWLpIZZQqWhSfWKyY","StaffTaskQueue",void 0),function(t){t[t.None=0]="None",t[t.OrderDishes=1]="OrderDishes",t[t.ServeDishes=2]="ServeDishes",t[t.ClearEat=3]="ClearEat",t[t.ServeHotPot=4]="ServeHotPot",t[t.Cashier=5]="Cashier",t[t.CutDish=6]="CutDish",t[t.Wash=7]="Wash",t[t.Hostess=8]="Hostess"}(f||(f=t("EStaffTaskType",{})));var c=t("StaffTask",function(){function t(){this.type=void 0,this.data={},this.owner=void 0}return t.prototype.clear=function(){this.owner=null,this.type=f.None,r.clearMap(this.data)},t.get=function(e,n){var a=s.get(t);a.type=e;var r=a.data;if("number"==typeof n)r.tableId=n;else for(var i in n)r[i]=n[i];return a},t}());t("StaffTaskQueue",function(){function t(){this.m_Tasks={}}var n=t.prototype;return n.add=function(t,e){var n=this.m_Tasks;n[t]||(n[t]=[]);var s=n[t],r=c.get(t,e);return s.push(r),a.event(u.AddStaffTask,t),r},n.get=function(t,e){var n=this.m_Tasks[t];if(!n||n.length<=0)return null;for(var s=0;s<n.length;s++){var a=n[s],r=this.getTaskRoom(a)+"";if(!(e.indexOf(r)<0))return a}return null},n.getByOId=function(t,e,n){var s=this.m_Tasks[t];if(!s||s.length<=0)return null;for(var a=0;a<s.length;a++){var r=s[a],i=this.getTaskRoom(r)+"";if(!(n.indexOf(i)<0)){var o=r.data.tableId;if("number"==typeof o&&o==e)return r}}return null},n.haveTask=function(t){return this.m_Tasks[t.type].indexOf(t)>-1},n.receive=function(t,e){var n=this.m_Tasks[t.type];n.splice(n.indexOf(t),1),t.owner=e,a.event(u.ReceiveStaffTask,t)},n.finish=function(t){this.haveTask(t)&&this.receive(t),s.recover(t)},n.getTaskRoom=function(t){var e=t.type;if(e==f.Hostess)return i.LobbyOutside;if(e==f.CutDish||e==f.Wash)return i.Kitchen;var n=t.data.tableId;return o.getTableRoom(n)},n.checkTasks=function(t,e){var n=this.m_Tasks[t];if(!n||n.length<=0)return null;for(var s=0;s<n.length;s++){var a=n[s];if(a.data.tableId==e)return a}return null},e(t,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new t),this.m_Instance}}]),t}()).m_Instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/StaffView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./NoviceGuideMgr.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts","./UITool.ts","./StaffViewPerson.ts"],(function(e){"use strict";var t,i,n,o,r,a,s,l,c,p,h,u,f,_,m,g,d,b,y,P,v,A,I,S,T,w,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,l=e.Sprite,c=e.Label,p=e.color,h=e.UITransform},function(e){u=e.eventDispatcher},function(e){f=e.dataTableManager},function(e){_=e.uiManager},function(e){m=e.UIView},function(e){g=e.default},function(e){d=e.NoviceGuideMgr,b=e.EGuideStep,y=e.EGuideClickEnum},function(e){P=e.EDataTables},function(e){v=e.MEventNames},function(e){A=e.EGameBundles},function(e){I=e.AudioTool,S=e.ESoundType},function(e){T=e.ResourceTool},function(e){w=e.UITool},function(e){L=e.StaffViewPerson}],execute:function(){var B,N,U,C,k,E,z,G,D,V,x,M,R,O,F,H,W;r._RF.push({},"e9447QaGs9PyIIp8wb10IYT","StaffView",void 0);var j=a.ccclass,Q=a.property;e("StaffView",(B=j("StaffView"),N=Q({type:s,displayName:""}),U=Q({type:s,displayName:""}),C=Q({type:s,displayName:""}),k=Q([l]),E=Q([c]),z=Q([l]),G=Q([c]),B((x=t((V=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"content",x,o(t)),n(t,"template_staff_person",M,o(t)),n(t,"template_staff_plan",R,o(t)),n(t,"pageBtnArr",O,o(t)),n(t,"pageLabArr",F,o(t)),n(t,"roompageBtnArr",H,o(t)),n(t,"roompageLabArr",W,o(t)),t.m_roomId=1,t.m_Page=1,t.m_person6=[],t.m_plan3=[],t.m_all_person_info=[],t._initPersonNum=9,t}i(t,e);var r=t.prototype;return r.onClose=function(){this._initPersonNum=9,u.offAllCaller(this),this.m_person6.forEach((function(e){e.destroy()})),this.m_person6=[],this.m_plan3.forEach((function(e){e.destroy()})),this.m_plan3=[]},r.onOpen=function(){I.play(S.ui_open),this.template_staff_person.active=this.template_staff_plan.active=!1,u.on(v.StaffEmplyBackScene,this,this.c_clickClose),u.on(v.guideClick,this,this.guideClick),u.on(v.refreshGuildPos,this,this.refreshGuildPos),this.m_all_person_info&&!this.m_all_person_info.length&&(this.m_all_person_info=f.getDataTableArray(P.Staff)),this._init6Person_one_by_one(),this.scheduleOnce((function(){d.instance.isNeedShowNoviceView(b.Guide_Staff)}),.6)},r._init6Person_one_by_one=function(){var e=this;if(this._initPersonNum>0){if(this._initPersonNum>3){var t=g.instantiate(this.template_staff_person);this.content.addChild(t),this.m_person6.push(t)}else{var i;i=3==this._initPersonNum?g.instantiate(this.template_staff_plan):g.instantiate(this.template_staff_person),this.content.addChild(i),this.m_plan3.push(i)}this._initPersonNum--,this.scheduleOnce((function(){e._init6Person_one_by_one()}),.02)}else this.refreshPage()},r.refreshGuildPos=function(e){e.click==y.layerButton&&this.content.children[0].getWorldPosition(w.instance.guideHandWorldPos)},r.guideClick=function(e){e.click==y.layerButton&&this.content.children[0].getComponent(L).c_open_info()},r.refreshPage=function(){for(var e=this,t=0;t<this.pageBtnArr.length;t++)this.pageBtnArr[t].node.active=1==this.m_roomId,this.pageLabArr[t].node.active=1==this.m_roomId,t==this.m_Page-1?(T.setSpriteFrame(A.LoadOnPlay,"Res/Texture/UI/Personnel/T_UI_Personnel_book_09",this.pageBtnArr[t],this),this.pageLabArr[t].color=p(255,255,255),this.pageBtnArr[t].node.setSiblingIndex(99)):(T.setSpriteFrame(A.LoadOnPlay,"Res/Texture/UI/Personnel/T_UI_Personnel_book_08",this.pageBtnArr[t],this),this.pageLabArr[t].color=p(66,109,56),this.pageBtnArr[t].node.setSiblingIndex(4-t));for(var i=0;i<this.roompageBtnArr.length;i++){var n=this.roompageLabArr[i].node.getPosition().clone();if(i==this.m_roomId-1)T.setSpriteFrame(A.LoadOnPlay,"Res/Texture/UI/Personnel/staff_tab0",this.roompageBtnArr[i],this),this.roompageLabArr[i].color=p(255,255,255),this.roompageLabArr[i].fontSize=42,n.y=-834;else{T.setSpriteFrame(A.LoadOnPlay,"Res/Texture/UI/Personnel/staff_tab1",this.roompageBtnArr[i],this),this.roompageLabArr[i].color=p(36,63,111),this.roompageLabArr[i].fontSize=38,n.y=-822}this.roompageLabArr[i].node.setPosition(n)}for(var o=this.m_all_person_info.filter((function(t){return t.Sub_id==(1==e.m_roomId?e.m_Page:6)})),r=0;r<this.m_person6.length;r++)if(1!=this.m_roomId)this.m_person6[r].active=!1;else{var a=o[r];a?(this.m_person6[r].active=!0,this.m_person6[r].getComponent(L).setData(a.Id,this)):this.m_person6[r].active=!1}for(var s=0;s<this.m_plan3.length;s++)1==this.m_roomId?this.m_plan3[s].active=!1:(this.m_plan3[s].active=!0,0!=s&&this.m_plan3[s].getComponent(L).setData(o[s-1].Id,this));this.content.getComponent(h).height=340*o.length},r.c_change_room=function(e,t){I.play(S.ui_nextpage),this._initPersonNum>0||this.m_roomId!=t&&(this.m_roomId=t,this.refreshPage())},r.c_select_tab=function(e,t){I.play(S.ui_nextpage),this._initPersonNum>0||this.m_Page!=t&&(this.m_Page=t,this.refreshPage())},r.c_clickClose=function(){I.play(S.ui_click),_.closeView(this)},t}(m)).prototype,"content",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(V.prototype,"template_staff_person",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(V.prototype,"template_staff_plan",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(V.prototype,"pageBtnArr",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(V.prototype,"pageLabArr",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(V.prototype,"roompageBtnArr",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(V.prototype,"roompageLabArr",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=V))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/StaffViewPerson.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./GoodReputationConfig.ts","./ItemConfig.ts","./PurchaseGiftConfig.ts","./StaffConfig.ts","./StarConfig.ts","./TaskConfig.ts","./EventUtility.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts","./UITool.ts","./UIConfig.ts"],(function(e){"use strict";var t,i,n,o,r,a,s,l,u,c,p,f,_,h,m,d,g,y,b,v,w,S,P,k,B,C,G,N,I,z,T,V;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,l=e.Sprite,u=e.Label,c=e.misc,p=e.color,f=e.LabelOutline,_=e.Component},function(e){h=e.eventDispatcher},function(e){m=e.LocalizationHelper},function(e){d=e.uiManager},function(e){g=e.goodReputationConfig,y=e.EGoodReputationEnum},function(e){b=e.itemConfig,v=e.EItemEnum},function(e){w=e.purchaseGiftConfig},function(e){S=e.staffConfig},function(e){P=e.starConfig},function(e){k=e.taskConfig,B=e.ETaskType},function(e){C=e.MEventNames},function(e){G=e.EGameBundles},function(e){N=e.AudioTool,I=e.ESoundType},function(e){z=e.ResourceTool},function(e){T=e.UITool},function(e){V=e.MUIConfig}],execute:function(){var E,R,U,D,A,L,x,F,M,H,O,j,K,q,J,Q,W,X,Y,Z,$,ee,te,ie,ne,oe,re,ae,se,le,ue;r._RF.push({},"a3bb8dh13dG0bKxoeBsrpy0","StaffViewPerson",void 0);var ce,pe=a.ccclass,fe=a.property;e("StaffViewPerson",(E=pe("StaffViewPerson"),R=fe({type:s,displayName:""}),U=fe({type:l,displayName:""}),D=fe({type:s,displayName:""}),A=fe({type:s,displayName:""}),L=fe({type:u,displayName:""}),x=fe({type:u,displayName:""}),F=fe({type:u,displayName:""}),M=fe({type:s,displayName:""}),H=fe({type:s,displayName:""}),O=fe({type:u,displayName:""}),j=fe({type:s,displayName:""}),K=fe({type:u,displayName:""}),q=fe({type:s,displayName:""}),J=fe({type:u,displayName:""}),E((X=t((W=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"no_employ_node",X,o(t)),n(t,"head",Y,o(t)),n(t,"tab1",Z,o(t)),n(t,"tab0",$,o(t)),n(t,"info_lab",ee,o(t)),n(t,"score_lab",te,o(t)),n(t,"name_lab",ie,o(t)),n(t,"star",ne,o(t)),n(t,"unlockBtn",oe,o(t)),n(t,"unlockPrice",re,o(t)),n(t,"upGradeBtn",ae,o(t)),n(t,"upGradePrice",se,o(t)),n(t,"starBtn",le,o(t)),n(t,"needStar",ue,o(t)),t.m_person_id=0,t}i(t,e);var r=t.prototype;return r.onDestroy=function(){h.offAllCaller(this)},r.start=function(){h.on(C.StaffFlushPerson,this,this._flushInfo),h.on(C.Staff_change_skin,this,this._flushShowPic),h.on(C.RefreshItemNumber,this,this._refreshUpGradeBtn)},r.setData=function(e,t){ce=t,this.m_person_id=e;var i=S.get_person_info(this.m_person_id);this.name_lab.string=i.Name,this._flushShowPic({id:this.m_person_id}),this.info_lab.string=i.Content;var n=i.Tag.split("_");this.tab0.getChildByName("des_lab").getComponent(u).string=n[0],this.tab1.active=1!=n.length,1!=n.length&&(this.tab1.getChildByName("des_lab").getComponent(u).string=n[1]),this._flushInfo()},r._flushInfo=function(e){if(!e||e==this.m_person_id){var t=S.get_info(this.m_person_id);if(this.star.active=-1!=t,-1!=t)for(var i=1;i<=6;i++)this.star.getChildByName("star"+i).active=t>=i;var n=S.get_person_info(this.m_person_id).Score.split("_"),o=c.clampf(t,0,6);this.score_lab.string=n[o]+"",this.no_employ_node.active=-1==t,this._refreshUpGradeBtn()}},r._refreshUpGradeBtn=function(){var e=S.get_info(this.m_person_id),t=S.get_person_info(this.m_person_id);if(-1==e)t.Star>P.getStar()?(this.unlockBtn.active=!1,this.upGradeBtn.active=!1,this.starBtn.active=!0,this.needStar.string="x"+t.Star):(this.unlockBtn.active=!0,this.upGradeBtn.active=!1,this.starBtn.active=!1,this.unlockPrice.string="x"+t.Cost,b.getItemNum(v.money)<t.Cost?(this.unlockPrice.color=p(252,125,125),this.unlockPrice.getComponent(f).color=p(122,29,20)):(this.unlockPrice.color=p(255,255,255),this.unlockPrice.getComponent(f).color=p(52,139,14)));else if(6==e)this.unlockBtn.active=!1,this.upGradeBtn.active=!1,this.starBtn.active=!1;else{this.unlockBtn.active=!1,this.upGradeBtn.active=!0,this.starBtn.active=!1;var i=c.clampf(e,0,6),n=~~t.Point.split("_")[i+1];this.upGradePrice.string="x"+n,b.getItemNum(v.worker_book)<n?(this.upGradePrice.color=p(252,125,125),this.upGradePrice.getComponent(f).color=p(122,29,20)):(this.upGradePrice.color=p(255,255,255),this.upGradePrice.getComponent(f).color=p(23,107,155))}},r._flushShowPic=function(e){if(this.m_person_id==e.id){var t=S.get_staff_res(this.m_person_id);z.setSpriteFrame(G.LoadOnPlay,"Res/Texture/UI/Avatar/UI_Icon_Avatar_"+t.icon,this.head,ce,(function(e,t){}))}},r.c_upGrade=function(){N.play(I.ui_click);var e=S.get_person_info(this.m_person_id),t=S.get_info(this.m_person_id),i=~~e.Point.split("_")[t+1];if(b.getItemNum(v.worker_book)>=i){b.useItem(v.worker_book,i),S.update_staff(this.m_person_id);var n=S.get_info(this.m_person_id);3==c.clampf(n,0,6)&&g.canReputate(y.staffStar3),h.event(C.StaffFlushPerson)}else w.canGetReward(1003)>0?d.openView(V.PurchaseGiftView1003,null):d.openView(V.PurchaseGiftView1005,null,1006)},r.c_unlock=function(){N.play(I.ui_click);var e=S.get_person_info(this.m_person_id);e.Star>P.getStar()?d.openView(V.TipView,null,{content:m.getString("33_31",[P.getStarNameByStar(e.Star)])}):b.getItemNum(v.money)<e.Cost?T.instance.haveNoAD?d.openView(V.ShopDepotView):d.openView(V.TipView,null,{content:m.getString("1_17")}):(b.useItem(v.money,e.Cost),S.unlock_staff(this.m_person_id)>=4&&g.canReputate(y.staff4),h.event(C.StaffEmplyBackScene),k.addTaskPro(B.EmployPlayer,this.m_person_id))},r.c_open_info=function(){N.play(I.ui_click),d.openView(V.StaffInfoView,null,this.m_person_id)},t}(_)).prototype,"no_employ_node",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(W.prototype,"head",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(W.prototype,"tab1",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(W.prototype,"tab0",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(W.prototype,"info_lab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(W.prototype,"score_lab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(W.prototype,"name_lab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(W.prototype,"star",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(W.prototype,"unlockBtn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(W.prototype,"unlockPrice",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(W.prototype,"upGradeBtn",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(W.prototype,"upGradePrice",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(W.prototype,"starBtn",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(W.prototype,"needStar",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=W))||Q));r._RF.pop()}}}));

System.register("chunks:///_virtual/StaffViewPlan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./StaffConfig.ts","./EventUtility.ts","./AudioTool.ts","./GameTool.ts","./UIConfig.ts"],(function(t){"use strict";var n,e,i,o,a,r,l,c,s,f,u,_,p,h,g,d,v,y;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.RichText,c=t.director,s=t.Component},function(t){f=t.eventDispatcher},function(t){u=t.LocalizationHelper},function(t){_=t.uiManager},function(t){p=t.staffConfig},function(t){h=t.MEventNames},function(t){g=t.AudioTool,d=t.ESoundType},function(t){v=t.GameTool},function(t){y=t.MUIConfig}],execute:function(){var m,S,P,T,w;a._RF.push({},"d2001A/6XRLJbL8Lhyu8RTI","StaffViewPlan",void 0);var b=r.ccclass,V=r.property;t("StaffViewPlan",(m=b("StaffViewPlan"),S=V({type:l,displayName:""}),m((w=n((T=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"plan_lab",w,o(n)),n}e(n,t);var a=n.prototype;return a.onDestroy=function(){f.offAllCaller(this)},a.start=function(){f.on(h.StaffPlan_flush_after_set,this,this._flushPlan),this._flushPlan()},a._flushPlan=function(){var t=this,n=p.get_actor_plan(),e=this._add_color_to_str("#dd7c47","\n"+u.getString("34_5"),36),i=[];if(n.length>0){e="";var o=p.get_actor_left_time();o=Math.max(0,o);var a=v.getFmtTime(o,"m");n.forEach((function(t,n){var e=p.get_person_info(t);0==n?(i.push([u.getString("34_2",[""+(n+1),e.Name]),"#639a15",36]),i.push(["          "+a+"\n","#639a15",32])):(i.push([u.getString("34_17",[""+(n+1),e.Name]),"#dd7c47",36]),i.push(["          20:00\n","#dd7c47",32]))})),i.forEach((function(n,i){e+=t._add_color_to_str(n[1],n[0],n[2])}))}this.plan_lab.string=e},a.c_open_set_plan=function(){g.play(d.ui_click);for(var t=!1,n=[15,20],e=0;e<n.length;e++){-1!=p.get_info(n[e])&&(t=!0)}t?_.openView(y.StaffPlanView):_.openView(y.TipView,null,{content:u.getString("34_15")})},a.update=function(){c.getTotalFrames()%20==0&&this._flushPlan()},a._add_color_to_str=function(t,n,e){return"<size="+e+"><color="+t+">"+n+"</color></size>"},n}(s)).prototype,"plan_lab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=T))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/StaffWaiter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./BuffConfig.ts","./BuffTimelinessConfig.ts","./StaffTable.ts","./LobbyUtility.ts","./StaffBase.ts","./StaffTaskQueue.ts"],(function(t){"use strict";var e,s,i,a,n,r,f,h,o,c,l,u,b;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,i=t._decorator},function(t){a=t.eventDispatcher},function(t){n=t.EBuffType},function(t){r=t.buffTimelinessConfig},function(t){f=t.StaffTable},function(t){h=t.ELobbyLayer,o=t.MLobbyEvent,c=t.ELobbyServeDishes},function(t){l=t.EStaffBehavior,u=t.StaffBase},function(t){b=t.EStaffTaskType}],execute:function(){var v;s._RF.push({},"2beceUT3x5EIJI2JbNMgbxh","StaffWaiter",void 0);var d=i.ccclass;i.property,t("StaffWaiter",d("StaffWaiter")(v=function(t){function s(){for(var e,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).taskTypes=[b.OrderDishes,b.ServeDishes,b.ClearEat],e}e(s,t);var i=s.prototype;return i.onEnable=function(){t.prototype.onEnable.call(this)},i.onDisable=function(){t.prototype.onDisable.call(this)},i.initStaff=function(t,e,s,i){this.initBase(t,e,s,i),this.startWait()},i.startOrderDishes=function(){this.receiveTask(),this.animAgent.orderDishes(),this.getEatTable(this.task.data.tableId).startOrderDishesStaff(this),this.setFace(1)},i.endOrderDishes=function(){this.finishTask(),this.startWait()},i.getClearTime=function(){var t=this.buff[l.ClearEat]||1,e=f.baseClearEatTime/t;return e*=1-r.getBuffNum(n.HalveTime)},i.startClearEat=function(){this.step=3,this.fsm.resetStateTime(),this.receiveTask(),this.animAgent.clearEat(),this.getEatTable(this.task.data.tableId).startClearStaff(),this.setFace(1)},i.endClearEat=function(){this.step=0,this.getEatTable(this.task.data.tableId).endClearStaff(),this.finishTask(),this.startWait()},i.startGetDish=function(){this.step=0;var t=this.getStaffConfig().dishPos;this.seekPath0(t,h.Lobby+"",!0),this.animAgent.move()},i.endGetDish=function(){this.receiveTask();var t=this.task.data;a.event(o.ServeDishes,[t.tableId,c.Dish]),this.step=1;var e=this.getEatTable(t.tableId).config.servePos;this.seekPath0(e,this.getTableLayer(t.tableId)+""),this.animAgent.serveDishes()},i.endServeDishes=function(){var t=this.task.data;a.event(o.ServeDished,[t.tableId,c.Dish]),this.finishTask(),this.startWait()},i.onWaitStart=function(){this.setFace(1)},s}(u))||v);s._RF.pop()}}}));

System.register("chunks:///_virtual/StaffWasher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./BuffConfig.ts","./BuffTimelinessConfig.ts","./EventUtility.ts","./StaffTable.ts","./LobbyUtility.ts","./StaffBase.ts","./StaffTaskQueue.ts"],(function(t){"use strict";var s,e,i,n,a,f,o,h,u,r,c,l,p;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){n=t.eventDispatcher},function(t){a=t.buffConfig,f=t.EBuffType},function(t){o=t.buffTimelinessConfig},function(t){h=t.MEventNames},function(t){u=t.StaffTable},function(t){r=t.MLobbyEvent},function(t){c=t.EStaffBehavior,l=t.StaffBase},function(t){p=t.EStaffTaskType}],execute:function(){var v;e._RF.push({},"4a0e2EY5BxNKpnakBpdhMvv","StaffWasher",void 0);var W=i.ccclass;i.property,t("StaffWasher",W("StaffWasher")(v=function(t){function e(){for(var s,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(s=t.call.apply(t,[this].concat(i))||this).taskTypes=[p.Wash],s.m_WashBuff2=void 0,s}s(e,t);var i=e.prototype;return i.onEnable=function(){var s=this;t.prototype.onEnable.call(this),n.on(h.ChangeBuff,this,(function(){s.m_WashBuff2=a.getBuffNum(f.WishSpAdd)}))},i.onDisable=function(){t.prototype.onDisable.call(this)},i.initStaff=function(t,s,e,i){this.initBase(t,s,e,i),this.startWait()},i.getWashTime=function(){var t=this.buff[c.Wash]||1,s=u.baseWashTime/t;return s*=1-o.getBuffNum(f.HalveTime)},i.startToWash=function(){this.step=0,this.seekPath0(this.idlePos,this.idleLayer,!0),this.animAgent.move()},i.startWash=function(){this.step=1,this.fsm.resetStateTime(),n.event(r.WashDishing),this.receiveTask(),this.animAgent.wash()},i.endWash=function(){this.step=0,n.event(r.WashDished),this.finishTask(),this.startWait()},e}(l))||v);e._RF.pop()}}}));

System.register("chunks:///_virtual/StarConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./EventBuiltin.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./NoviceGuideMgr.ts","./DataTable.ts","./EventUtility.ts","./GoogleFirebase.ts","./GameTool.ts","./UIConfig.ts","./BuffConfig.ts","./FacilityConfig.ts","./FoodConfig.ts","./GoodReputationConfig.ts","./StaffConfig.ts","./TaskConfig.ts"],(function(t){"use strict";var a,e,n,r,i,o,c,u,s,f,g,l,S,d,p,h,v,C,D,y,b,I,T,m;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){r=t.configName,i=t.default},function(t){o=t.eventDispatcher},function(t){c=t.dataTableManager},function(t){u=t.LocalizationHelper},function(t){s=t.uiManager},function(t){f=t.NoviceGuideMgr},function(t){g=t.EDataTables},function(t){l=t.MEventNames},function(t){S=t.googleFirebaser,d=t.eAnalyticsEvent},function(t){p=t.GameTool},function(t){h=t.MUIConfig},function(t){v=t.buffConfig},function(t){C=t.facilityConfig},function(t){D=t.foodConfig},function(t){y=t.goodReputationConfig,b=t.EGoodReputationEnum},function(t){I=t.staffConfig},function(t){T=t.taskConfig,m=t.ETaskType}],execute:function(){var F;e._RF.push({},"e9bf3gzr7JJK7v03+aW4rrL","StarConfig",void 0);n.ccclass,n.property;var k=t("StarConfig",r("starConfig")(F=function(t){function e(){for(var a,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(a=t.call.apply(t,[this].concat(n))||this).curStarID=2,a}a(e,t);var n=e.prototype;return n.onInit=function(t){},n.getCurStarDic=function(t){return void 0===t&&(t=this.curStarID),c.getData(g.Star,t)},n.getStar=function(){return c.getData(g.Star,this.curStarID).Star},n.getStarNameByStar=function(t){void 0===t&&(t=this.curStarID-1);var a=c.getData(g.Star,t+1).Name;return u.getString(a)},n.checkStarIsUp=function(t,a){switch(void 0===a&&(a=!0),t.index){case 0:T.addTaskPro(m.FacilityScout,null,C.getFacilityScore());break;case 1:T.addTaskPro(m.EmployeeScout,null,I.get_all_person_score());break;case 2:T.addTaskPro(m.MealScout,null,D.getFoodScore())}if(1!=this.curStarID&&f.instance.isDone()){a&&s.openView(h.ScoreUpTips,null,t);var e=c.getDataTable(g.Star),n=Object.keys(e);if(this.curStarID!=Number(n[n.length-1])){var r=this.getCurStarDic(this.curStarID+1),i=C.getFacilityScore(),o=I.get_all_person_score(),u=D.getFoodScore();i>=r.FacilityRating&&o>=r.ServiceScore&&u>=r.FoodScore&&(this.changeStar(),s.openView(h.StarInfoView))}}},n.changeStar=function(t){void 0===t&&(t=1);var a=_.getCurStarDic();this.curStarID+=t,S.logEvent(d.other_star,"star_"+this.curStarID);var e=_.getCurStarDic();v.ChangeBuff(p.splitNumberArray(e.AttributeId),p.splitNumberArray(a.AttributeId)),o.event(l.GameChangeStar),T.addTaskPro(m.UpGradeStar,this.getStar()),3==this.getStar()?y.canReputate(b.canteenStar3):6==this.getStar()&&y.canReputate(b.canteenStar6)},e}(i))||F),_=t("starConfig",new k);e._RF.pop()}}}));

System.register("chunks:///_virtual/StarInfoView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./FacilityConfig.ts","./FoodConfig.ts","./StaffConfig.ts","./StarConfig.ts","./DataTable.ts","./GameUtility.ts","./AudioTool.ts","./GameTool.ts","./ResourceTool.ts","./UIConfig.ts","./ConfirmView.ts"],(function(e){"use strict";var t,i,r,n,a,o,l,c,s,u,f,g,b,p,d,h,S,m,w,y,v,I,N,T,z,D,V;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Label,c=e.Sprite,s=e.Node,u=e.ProgressBar,f=e.color},function(e){g=e.dataTableManager},function(e){b=e.LocalizationHelper},function(e){p=e.uiManager},function(e){d=e.UIView},function(e){h=e.facilityConfig},function(e){S=e.foodConfig},function(e){m=e.staffConfig},function(e){w=e.starConfig},function(e){y=e.EDataTables},function(e){v=e.EGameBundles},function(e){I=e.AudioTool,N=e.ESoundType},function(e){T=e.GameTool},function(e){z=e.ResourceTool},function(e){D=e.MUIConfig},function(e){V=e.EConfirmType}],execute:function(){var _,C,x,A,k,L,B,F,U,O,R,M,G,P,E,H,j,q,X,Z,J,K,Q,W,Y,$,ee,te,ie,re,ne,ae,oe,le,ce,se,ue,fe,ge,be,pe,de,he,Se,me,we,ye,ve,Ie,Ne,Te,ze,De;a._RF.push({},"a10e6XvaLpL4ZSnwsqvOyOu","StarInfoView",void 0);var Ve=o.ccclass,_e=o.property;e("StarInfoView",(_=Ve("StarInfoView"),C=_e(l),x=_e(l),A=_e(c),k=_e(s),L=_e([s]),B=_e(s),F=_e(s),U=_e(s),O=_e(s),R=_e(s),M=_e(l),G=_e(s),P=_e(l),E=_e(s),H=_e(l),j=_e(l),q=_e(u),X=_e(l),Z=_e(l),J=_e(u),K=_e(l),Q=_e(l),W=_e(u),Y=_e(l),$=_e(l),_((ie=t((te=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"duanweiName",ie,n(t)),r(t,"starLv",re,n(t)),r(t,"duanwei",ne,n(t)),r(t,"starNode",ae,n(t)),r(t,"starArr",oe,n(t)),r(t,"lastBtn",le,n(t)),r(t,"lastTxt",ce,n(t)),r(t,"nextBtn",se,n(t)),r(t,"nextTxt",ue,n(t)),r(t,"infoNode1",fe,n(t)),r(t,"incomeAdd",ge,n(t)),r(t,"customDes",be,n(t)),r(t,"customAdd",pe,n(t)),r(t,"infoNode2",de,n(t)),r(t,"outlineTime",he,n(t)),r(t,"conditionName",Se,n(t)),r(t,"facilitybar",me,n(t)),r(t,"facilityScore",we,n(t)),r(t,"facilityNeed",ye,n(t)),r(t,"servingbar",ve,n(t)),r(t,"servingScore",Ie,n(t)),r(t,"servingNeed",Ne,n(t)),r(t,"footbar",Te,n(t)),r(t,"footScore",ze,n(t)),r(t,"footNeed",De,n(t)),t.curStarID=0,t}i(t,e);var a=t.prototype;return a.onOpen=function(e){I.play(N.ui_open),this.curStarID=null!=e||null!=e?e+1:w.curStarID,this.refreshUI()},a.refreshUI=function(){var e=w.getCurStarDic(this.curStarID);this.duanweiName.string=b.getString(e.Name),z.setSpriteFrame(v.LoadOnPlay,"Res/Texture/UI/HomePage/duanwei_"+e.Icon,this.duanwei,this);var t=e.Star%3;0==t&&0!=e.Star&&(t=3);for(var i=0;i<this.starArr.length;i++)this.starArr[i].active=i<t;this.curStarID>w.curStarID?(this.starNode.active=!1,this.duanwei.color=f(0,0,0)):(this.starNode.active=!0,this.duanwei.color=f(255,255,255));var r=g.getDataTable(y.Star),n=Object.keys(r),a=n.indexOf(this.curStarID+"");if(a>=n.length-1?(this.nextBtn.active=!1,this.nextTxt.active=!1):(this.nextBtn.active=!0,this.nextTxt.active=!0),a<=1?(this.lastBtn.active=!1,this.lastTxt.active=!1):(this.lastBtn.active=!0,this.lastTxt.active=!0),this.starLv.string=b.getString("13_24",[e.Star]),this.outlineTime.string=e.MeowAbility+b.getString("1_6"),1==T.dicDataIsNull(e.AttributeTips))this.infoNode1.active=!1;else{this.infoNode1.active=!0;var o=T.splitNumberArray(e.AttributeTips);o[1]?(this.customAdd.node.active=!0,this.customDes.active=!0,this.customAdd.string="+"+o[1]+"%"):(this.customAdd.node.active=!1,this.customDes.active=!1),this.incomeAdd.string="+"+o[0]+"%"}var l=h.getFacilityScore(),c=m.get_all_person_score(),s=S.getFoodScore(),u=0,p=0,d=0,I=g.getData(y.Constant,19).Value;if(this.curStarID==w.curStarID&&this.curStarID<I){this.conditionName.string=b.getString("13_8");var N=w.getCurStarDic(w.curStarID+1);u=N.FacilityRating,p=N.ServiceScore,d=N.FoodScore}else this.conditionName.string=b.getString("13_23"),u=e.FacilityRating,p=e.ServiceScore,d=e.FoodScore;this.facilityScore.color=l>=u?f(115,148,86):f(204,66,86),this.facilityScore.string=l+"",this.facilitybar.progress=0==u?1:l/u,this.facilityNeed.string="/"+u,this.servingScore.color=c>=p?f(115,148,86):f(204,66,86),this.servingScore.string=c+"",this.servingbar.progress=0==p?1:c/p,this.servingNeed.string="/"+p,this.footScore.color=s>=d?f(115,148,86):f(204,66,86),this.footScore.string=s+"",this.footbar.progress=0==d?1:s/d,this.footNeed.string="/"+d},a.clickGoto=function(e,t){var i=this;switch(parseInt(t)){case 1:var r={desc:b.getString("13_14"),content:b.getString("13_15"),okCallback:function(){p.openView(D.RenovationView),p.closeView(i)}};p.openView(D.ConfirmView,null,r);break;case 2:var n={desc:b.getString("13_16"),content:b.getString("13_17"),okCallback:function(){p.openView(D.StaffView),p.closeView(i)}};p.openView(D.ConfirmView,null,n);break;case 3:var a={desc:b.getString("13_18"),content:b.getString("13_19"),type:V.foodUp,okCallback:function(){p.closeView(i)}};p.openView(D.ConfirmView,null,a)}},a.clickLastOrNext=function(e,t){var i=parseInt(t),r=g.getDataTable(y.Star),n=Object.keys(r),a=n.indexOf(this.curStarID+"");(a+=i)<=0||a>=n.length||(this.curStarID=Number(n[a]),this.refreshUI())},a.clickInfo=function(e,t){var i="";switch(parseInt(t)){case 1:i="13_10";break;case 2:i="13_11";break;case 3:i="13_12"}p.openView(D.TipView,null,{content:b.getString(i)})},a.clickClose=function(){I.play(N.ui_click),p.closeView(this)},t}(d)).prototype,"duanweiName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(te.prototype,"starLv",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(te.prototype,"duanwei",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(te.prototype,"starNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(te.prototype,"starArr",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t(te.prototype,"lastBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(te.prototype,"lastTxt",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(te.prototype,"nextBtn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(te.prototype,"nextTxt",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=t(te.prototype,"infoNode1",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=t(te.prototype,"incomeAdd",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=t(te.prototype,"customDes",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=t(te.prototype,"customAdd",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=t(te.prototype,"infoNode2",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=t(te.prototype,"outlineTime",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=t(te.prototype,"conditionName",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=t(te.prototype,"facilitybar",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=t(te.prototype,"facilityScore",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=t(te.prototype,"facilityNeed",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=t(te.prototype,"servingbar",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=t(te.prototype,"servingScore",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=t(te.prototype,"servingNeed",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=t(te.prototype,"footbar",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=t(te.prototype,"footScore",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=t(te.prototype,"footNeed",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=te))||ee));a._RF.pop()}}}));

System.register("chunks:///_virtual/StoryNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./BillingConfig.ts","./UIConfig.ts","./LobbyUtility.ts"],(function(t){"use strict";var n,o,i,e,r,c,s,u,l;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,e=t.Component},function(t){r=t.eventDispatcher},function(t){c=t.uiManager},function(t){s=t.billingConfig},function(t){u=t.MUIConfig},function(t){l=t.MLobbyEvent}],execute:function(){var a;o._RF.push({},"60136ZS97hLgrGSUn5Gk0Ej","StoryNode",void 0);var d=i.ccclass;i.property,t("StoryNode",d("StoryNode")(a=function(t){function o(){for(var n,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this).m_Id=-1,n.m_TId=-1,n}n(o,t);var i=o.prototype;return i.onOpen=function(t,n){this.m_Id=t,this.m_TId=n},i.onDisable=function(){this.m_Id=-1},i.onStoryClick=function(){this.m_Id>0&&c.openView(u.StoryView,null,this.m_Id,this.m_TId),s.addStory(this.m_Id),r.event(l.StoryClick,this.m_TId)},o}(e))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/StoryTable.ts",["cc","./DataTableManager.ts","./DataTable.ts","./StaffTable.ts"],(function(t){"use strict";var a,e,n,r;return{setters:[function(t){a=t.cclegacy},function(t){e=t.dataTableManager},function(t){n=t.EDataTables},function(t){r=t.StaffTable}],execute:function(){a._RF.push({},"128a5CVaWNBBbLW52Q9nZAn","StoryTable",void 0),t("StoryTable",function(){function t(){}return t.init=function(){this.m_Datas={};var t=this.m_Datas,a=e.getDataTable(n.Story);for(var r in a){var i=a[r],u=i.Sub_id;t[u]||(t[u]=[]),t[u].push(i)}},t.getData=function(t){return this.m_Datas[t]},t.getRoleNameId=function(t){return r.getDrop(t).Name},t}()).m_Datas=void 0,a._RF.pop()}}}));

System.register("chunks:///_virtual/StoryView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./StaffTable.ts","./StoryTable.ts","./LobbyUtility.ts","./GameUtility.ts","./ResourceTool.ts"],(function(t){"use strict";var e,i,r,n,o,s,a,l,m,c,p,u,h,_,d,g,b,f,S,y,I,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.Label,l=t.Node,m=t.Sprite,c=t.color,p=t.Tween,u=t.randomRangeInt,h=t.tween},function(t){_=t.eventDispatcher},function(t){d=t.LocalizationHelper},function(t){g=t.uiManager},function(t){b=t.UIView},function(t){f=t.StaffTable},function(t){S=t.StoryTable},function(t){y=t.MLobbyEvent},function(t){I=t.EGameBundles},function(t){v=t.ResourceTool}],execute:function(){var W,L,T,x,C,w,B,U,R,z,A,k,D,N;o._RF.push({},"65e86UymAhE/rYgWoO7j1AL","StoryView",void 0);var V=s.ccclass,F=s.property;t("StoryView",(W=V("StoryView"),L=F(a),T=F(a),x=F(a),C=F(l),w=F(m),W(((N=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).m_Interval=.1,r(e,"speedBtnLab",R,n(e)),r(e,"storyLab",z,n(e)),r(e,"nameLab",A,n(e)),r(e,"faceNode",k,n(e)),r(e,"nextBtnSpr",D,n(e)),e.m_Timers=0,e.m_Speed=1,e.m_Index=0,e.m_WriteIndex=0,e.m_Writing=!1,e.m_WriteStr=void 0,e.m_Storys=void 0,e.m_TId=void 0,e.m_Color0=c(0,0,0,255),e}i(e,t);var o=e.prototype;return o.onOpen=function(t,i){void 0===i&&(i=-1),this.m_TId=i,this.updateSpeedLab(),this.nextBtnSpr.color=e.m_Color1,this.m_Storys=S.getData(t),this.m_Storys&&this.startWrite()},o.onClose=function(){this.m_Speed=1,this.m_Index=this.m_WriteIndex=this.m_Timers=0,this.m_Writing=!1,this.m_WriteStr=this.m_Storys=null,this.m_TId=-1,p.stopAllByTarget(this.m_Color0)},o.update=function(t){if(this.m_Writing&&(this.m_Timers+=t*this.m_Speed,this.m_Timers>=this.m_Interval)){this.m_Timers=0;var e=u(1,4);this.m_WriteIndex+=e,this.updateWrite()}},o.onNextClick=function(){this.m_Writing?this.endWrite():(this.m_Index++,this.startWrite());var t=this.nextBtnSpr,i=this.m_Color0;p.stopAllByTarget(i);var r=e.m_Color1,n=e.m_Color2;i.set(r.r,r.g,r.b),t.color=r,h(i).to(.1,{r:n.r,g:n.g,b:n.b},{onUpdate:function(){t.color&&(t.color=i)}}).to(.1,{r:r.r,g:r.g,b:r.b},{onUpdate:function(){t.color&&(t.color=i)}}).start()},o.onSpeedClick=function(){this.m_Speed=1==this.m_Speed?2:1,this.updateSpeedLab()},o.onSkipClick=function(){_.event(y.StoryClose,this.m_TId),g.closeView(this)},o.updateSpeedLab=function(){this.speedBtnLab.string=this.m_Speed+"x"},o.startWrite=function(){this.m_WriteIndex=this.m_Timers=0;var t=this.m_Storys[this.m_Index];if(t){var e=t.Talk;this.m_WriteStr=d.getString(e),this.storyLab.string="",this.m_Writing=!0;var i=(t.RoleID+"").split("_"),r=i[0],n=i[1],o=d.getString(S.getRoleNameId(r)),s=n?d.getString(S.getRoleNameId(n)):"";this.nameLab.string=o+" "+s;var a=f.getDrop(r),l=this.faceNode.children,c=l[0].getComponent(m),p=l[1].getComponent(m);c.spriteFrame=p.spriteFrame=null,v.setSpriteFrame(I.LoadOnPlay,"Res/Texture/UI/Avatar/UI_Icon_Avatar_"+a.Icon,c,this),n&&(a=f.getDrop(n),v.setSpriteFrame(I.LoadOnPlay,"Res/Texture/UI/Avatar/UI_Icon_Avatar_"+a.Icon,p,this))}else this.onSkipClick()},o.updateWrite=function(){var t=this.m_WriteIndex,e=this.m_WriteStr;t>=e.length?this.endWrite():this.storyLab.string=e.slice(0,t)},o.endWrite=function(){this.m_Writing=!1,this.storyLab.string=this.m_WriteStr},e}(b)).m_Color1=c(111,137,186,255),N.m_Color2=c(81,107,156,255),R=e((U=N).prototype,"speedBtnLab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(U.prototype,"storyLab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(U.prototype,"nameLab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(U.prototype,"faceNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(U.prototype,"nextBtnSpr",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=U))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/SuitConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./SuitTool.ts","./FacilityConfig.ts"],(function(t){"use strict";var n,i,o,e,s,a,u,c;return{setters:[function(t){n=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,e=t._decorator},function(t){s=t.configName,a=t.default},function(t){u=t.SuitTool},function(t){c=t.facilityConfig}],execute:function(){var r;o._RF.push({},"c8f6dhbj6lKn6dO8HsoasOl","SuitConfig",void 0);e.ccclass,e.property;var f=t("SuitConfig",s("SuitConfig")(r=function(t){function o(){for(var n,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(n=t.call.apply(t,[this].concat(o))||this).suitLst={},n.renovationLst=[],n.buyCount=1,n.activationId=1,n}n(o,t);var e=o.prototype;return e.onInit=function(t){if(u.instance.init(),0==Object.keys(this.suitLst).length)for(var n=u.instance.UnlockSuitVec,i=0;i<n.length;i++)this.suitLst[i]=n[i];0==this.renovationLst.length&&this.addRenovation(),this.activationId||(this.activationId=1)},e.addRenovation=function(){var t=this.renovationLst.length+1;this.renovationLst.push({id:t}),this.buyCount++},e.updateRenovation=function(t,n){this.renovationLst[t]&&(this.renovationLst[t].facilityVec={},this.renovationLst[t].facilityVec=n)},e.updateRenovationName=function(t,n){this.renovationLst[t]&&(this.renovationLst[t].name=n)},e.saveRenovation=function(t){this.updateRenovation(t,c.useFacilityLst)},e.getRenovationData=function(t){return this.renovationLst[t]?this.renovationLst[t]:null},i(o,[{key:"activation",get:function(){return this.activationId}},{key:"SuitLength",get:function(){return this.renovationLst.length}},{key:"BuyConut",get:function(){return this.buyCount}}]),o}(a))||r);t("suitConfig",new f);o._RF.pop()}}}));

System.register("chunks:///_virtual/SuitTool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./DataTable.ts"],(function(t){"use strict";var n,i,e,a,r,s;return{setters:[function(t){n=t.createClass,i=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){r=t.dataTableManager},function(t){s=t.EDataTables}],execute:function(){a._RF.push({},"a2f8dbfyXtItaEtASB1BF1n","SuitTool",void 0),t("SuitTool",function(){function t(){this.m_IsInit=!1,this.m_unlockVec=[],this.m_suitData={}}var a=t.prototype;return a.setSuitAfacilityVec=function(t,n,i){var e=this.m_suitData[t].AfacilityVec;e||(e={}),e[n]||(e[n]=[]),e[n]=i},a.init=function(){var t=i(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.m_IsInit){t.next=2;break}return t.abrupt("return");case 2:return this.m_IsInit=!0,t.next=5,this.initConfig();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.initConfig=function(){var t=this;return new Promise((function(n){var i=r.getDataTable(s.Suit);for(var e in i){var a=i[e];t.m_suitData[e]||(t.m_suitData[e]={ISuiTable:a,AfacilityVec:{}})}n()}))},n(t,[{key:"UnlockSuitVec",get:function(){return this.m_unlockVec}},{key:"SuitData",get:function(){return this.m_suitData}}],[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new t,this.m_Instance.init()),this.m_Instance}}]),t}()).m_Instance=void 0,a._RF.pop()}}}));

System.register("chunks:///_virtual/SWaitState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts"],(function(t){"use strict";var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy},function(t){o=t.FsmState}],execute:function(){i._RF.push({},"929a6C41olMuK8yTkVSZREF","SWaitState",void 0),t("SWaitState",function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var o=i.prototype;return o.onEnter=function(t,n){t.seekPath0(t.idlePos,t.idleLayer,!0),t.animAgent.move()},o.onExecute=function(t,n){t.workTime>=t.config.WorkTime&&t.startSlack(!1)},o.onExit=function(t){},o.onPathEnd=function(t){t.animAgent.idle(),t.onWaitStart()},e(i,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new i),this.m_Instance}}]),i}(o)).m_Instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/SWashState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts"],(function(t){"use strict";var n,e,s,i;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy},function(t){i=t.FsmState}],execute:function(){s._RF.push({},"c3870qWvLhCeoMEJ5y9h60E","SWashState",void 0),t("SWashState",function(t){function s(){return t.apply(this,arguments)||this}n(s,t);var i=s.prototype;return i.onEnter=function(t,n){t.startToWash()},i.onExecute=function(t,n){1==t.step&&t.fsm.currentStateTime>=t.getWashTime()&&t.endWash()},i.onExit=function(t){},i.onPathEnd=function(t){0==t.step&&t.startWash()},i.onAnimComplete=function(t,n){},e(s,null,[{key:"instance",get:function(){return this.m_Instance||(this.m_Instance=new s),this.m_Instance}}]),s}(i)).m_Instance=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/TableItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ListItem.ts","./LocalizationHelper.ts"],(function(t){"use strict";var e,n,i,o,l,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.Label},function(t){l=t.default},function(t){a=t.LocalizationHelper}],execute:function(){var c;n._RF.push({},"d1455QW4nFNoK2Ro3jsG47f","TableItem",void 0);var r=i.ccclass;i.property,t("TableItem",r("TableItem")(c=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_Unlock=null,e.m_Select=null,e.m_NameLab=null,e.m_Idx=0,e.m_RegionId=0,e}e(n,t);var i=n.prototype;return i.onLoad=function(){this.m_Unlock=this.node.getChildByName("unlock"),this.m_Select=this.node.getChildByName("select"),this.m_NameLab=this.node.getComponentInChildren(o)},i.start=function(){},i.initItem=function(t,e){this.m_Idx=t,this.m_RegionId=e.NRegionType,this.m_NameLab.string=a.getString(e.SName)},n}(l))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/TableNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./List.ts","./AreaTool.ts","./TableItem.ts"],(function(e){"use strict";var t,n,i,o,a,s,l,r,c,u,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,l=e._decorator,r=e.Component},function(e){c=e.default},function(e){u=e.AreaTool},function(e){d=e.TableItem}],execute:function(){var f,p,m,h,g;s._RF.push({},"89e946nHpRExaSR63moR/Ss","TableNode",void 0);var T=l.ccclass,I=l.property;e("TableNode",(f=T("TableNode"),p=I(c),f((g=t((h=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"listView",g,o(t)),t.m_Data=[],t.m_Taget=null,t.m_SelectedId=0,t}n(t,e);var s=t.prototype;return s.onLoad=function(){this.m_Data=u.instance.RegionList},s.start=function(){},s.onOpen=function(e,t){void 0===t&&(t=0),this.m_Taget=e,this.listView.numItems=u.instance.RegionId.length;var n=u.instance.RegionId[t];n=null==n?0:n,this.listView.selectedId=t},s.onListVRender=function(e,t){var n=e.getComponent(d),i=u.instance.RegionId[t],o=this.m_Data[i];n.initItem(t,o)},s.onListSelected=function(e,t,n,i){if(e&&this.m_Taget){var o=u.instance.RegionId[t];this.m_Taget.FTouchCallback.call(this.m_Taget.ATagert,o)}},a(t,[{key:"SelectedId",set:function(e){this.m_SelectedId=e,this.listView.selectedId=e}}]),t}(r)).prototype,"listView",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=h))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/TaskBuildConfigView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationHelper.ts","./UIManager.ts","./ItemConfig.ts","./StarConfig.ts","./NoviceGuideMgr.ts","./AreaTool.ts","./FacilityTool.ts","./UITool.ts","./UIConfig.ts","./FastBuildConfigView.ts"],(function(t){"use strict";var i,n,e,a,o,c,r,s,l,u,f,g,h,d,m;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){a=t.LocalizationHelper},function(t){o=t.uiManager},function(t){c=t.itemConfig,r=t.EItemEnum},function(t){s=t.starConfig},function(t){l=t.NoviceGuideMgr,u=t.EGuideStep},function(t){f=t.AreaTool},function(t){g=t.FacilityTool},function(t){h=t.UITool},function(t){d=t.MUIConfig},function(t){m=t.FastBuildConfigView}],execute:function(){var p;n._RF.push({},"cb6c7GQL3JCmKESeGYkC+cG","TaskBuildConfigView",void 0);var v=e.ccclass;e.property,t("TaskBuildConfigView",v("TaskBuildConfigView")(p=function(t){function n(){for(var i,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(i=t.call.apply(t,[this].concat(e))||this).m_areaData=void 0,i}i(n,t);var e=n.prototype;return e.onOpen=function(t,i){if(void 0===t&&(t=0),i){var n=f.instance.getSubToAreaConfig(i);this.m_areaData=n;var e=g.instance.getFacility(n.Facility)[0];this.m_FacilityData=e;var a=this.m_areaData,o=a.Gold,c=a.UnlockStar;this.m_unlcokData={Gold:o,Star:c}}if(t){this.m_FacilityData=g.instance.getFaciliytTableData(t);var r=this.m_FacilityData,s=r.Gold,h=r.Star;this.m_unlcokData={Gold:s,Star:h}}this.initView(),this.setMsName(),this.scheduleOnce((function(){l.instance.isNeedShowNoviceView(u.Guide_GameBegin)}),.1)},e.getIconPath=function(t){return this.m_FacilityData.Icon},e.clickUnlockBtn=function(){var t=s.getStar(),i=this.m_unlcokData.Star;if(t>=i){var n=this.m_unlcokData.Gold;c.useItem(r.money,n)?this.setEnableFacility():h.instance.haveNoAD?o.openView(d.ShopDepotView):o.openView(d.TipView,null,{content:a.getString("1_17")})}else{var e=s.getStarNameByStar(i);o.openView(d.TipView,null,{content:a.getString("16_13",[e])})}},n}(m))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/TaskConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configable.ts","./EventBuiltin.ts","./DataTableManager.ts","./DataTable.ts","./EventUtility.ts","./GoogleFirebase.ts","./ItemConfig.ts"],(function(e){"use strict";var t,a,r,i,o,n,s,l,c,u,d;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy},function(e){r=e.configName,i=e.default},function(e){o=e.eventDispatcher},function(e){n=e.dataTableManager},function(e){s=e.EDataTables},function(e){l=e.MEventNames},function(e){c=e.googleFirebaser,u=e.eAnalyticsEvent},function(e){d=e.itemConfig}],execute:function(){var f,v;e("ETaskType",void 0),a._RF.push({},"251f5XgDsVPDYvH/H3qlyIB","TaskConfig",void 0),function(e){e[e.CleanArea=1]="CleanArea",e[e.UnlockFacilityType=2]="UnlockFacilityType",e[e.ServeCustomer=4]="ServeCustomer",e[e.UnlockSpecificFacility=7]="UnlockSpecificFacility",e[e.EmployPlayer=8]="EmployPlayer",e[e.EmployeeScout=10]="EmployeeScout",e[e.FacilityScout=11]="FacilityScout",e[e.MealScout=12]="MealScout",e[e.RDNewMeal=15]="RDNewMeal",e[e.UpGradeMeal=16]="UpGradeMeal",e[e.SettleAccounts=17]="SettleAccounts",e[e.OrderMeal=18]="OrderMeal",e[e.ServeDish=19]="ServeDish",e[e.ServePotMaterial=20]="ServePotMaterial",e[e.RewardCatServe=21]="RewardCatServe",e[e.UpGradeStar=22]="UpGradeStar",e[e.ClickFiveFlavourTree=23]="ClickFiveFlavourTree",e[e.GetFiveFlavourBottle=24]="GetFiveFlavourBottle",e[e.RDNewPotMaterial=25]="RDNewPotMaterial",e[e.GameMachine=26]="GameMachine",e[e.Leaflet=27]="Leaflet"}(v||(v=e("ETaskType",{})));var T=e("TaskConfig",r("taskConfig")(f=function(e){function a(){for(var t,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).allPro={},t.curTaskId=0,t}t(a,e);var r=a.prototype;return r.onInit=function(e){if(0==this.curTaskId){var t=n.getDataTableArray(s.Task);this.curTaskId=t[0].id}},r.getCurTaskDic=function(){return n.getData(s.Task,this.curTaskId)},r.getProData=function(){var e=this.getCurTaskDic();return[this.getCurPro(),e.Num]},r.getCurPro=function(){return this.allPro[this.curTaskId]||0},r.addTaskPro=function(e,t,a){var r=this;void 0===a&&(a=1),n.getDataTableArray(s.Task).forEach((function(i){e==i.type&&(i.Param&&t!=i.Param||1!=i.CompleteType&&i.id!=r.curTaskId||r.taskTabAdd(i,a))}))},r.taskTabAdd=function(e,t){2==e.Progress?this.allPro[e.id]=t:(this.allPro[e.id]||(this.allPro[e.id]=0),this.allPro[e.id]+=t,this.allPro[e.id]>e.Num&&(this.allPro[e.id]=e.Num)),e.id==this.curTaskId&&o.event(l.HomeTaskBtnShow)},r.getReward=function(){var e=this.getCurTaskDic();if(!e)return!1;if(this.getCurPro()>=e.Num){c.logEvent(u.other_task,"task_"+this.curTaskId),d.addMoney(e.RewardGlod,!0);var t=this.getCurTaskDic();return this.curTaskId=t.NextId,o.event(l.HomeTaskBtnShow),!0}return!1},r.emitCensus=function(e){o.event(l.updateMoneryCensus,{count:e,source:"Task"})},a}(i))||f);e("taskConfig",new T);a._RF.pop()}}}));

System.register("chunks:///_virtual/TaskStaffConfigView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./LocalizationHelper.ts","./UIManager.ts","./GoodReputationConfig.ts","./ItemConfig.ts","./StaffConfig.ts","./StarConfig.ts","./TaskConfig.ts","./NoviceGuideMgr.ts","./FacilityTool.ts","./EventUtility.ts","./ResourceTool.ts","./UITool.ts","./UIConfig.ts","./FastBuildConfigView.ts"],(function(t){"use strict";var n,i,e,o,s,a,f,c,r,u,l,g,h,m,p,d,v,C,S,_,k,I,w;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator,o=t.Color},function(t){s=t.eventDispatcher},function(t){a=t.LocalizationHelper},function(t){f=t.uiManager},function(t){c=t.goodReputationConfig,r=t.EGoodReputationEnum},function(t){u=t.itemConfig,l=t.EItemEnum},function(t){g=t.staffConfig},function(t){h=t.starConfig},function(t){m=t.taskConfig,p=t.ETaskType},function(t){d=t.NoviceGuideMgr,v=t.EGuideStep},function(t){C=t.FacilityTool},function(t){S=t.MEventNames},function(t){_=t.ResourceTool},function(t){k=t.UITool},function(t){I=t.MUIConfig},function(t){w=t.FastBuildConfigView}],execute:function(){var y;i._RF.push({},"445e8uvPlhNuJKtO1CkdISc","TaskStaffConfigView",void 0);var T=e.ccclass;e.property,t("TaskStaffConfigView",T("TaskStaffConfigView")(y=function(t){function i(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).m_staffConfig=null,n.m_StaffId=0,n}n(i,t);var e=i.prototype;return e.onOpen=function(t){this.m_StaffId=t,this.m_staffConfig=g.get_person_info(t);var n=this.m_staffConfig,i=n.Cost,e=n.Star;this.m_unlcokData={Gold:i,Star:e},this.initView(),this.setMsName(),this.scheduleOnce((function(){d.instance.isNeedShowNoviceView(v.Guide_GameBegin)}),.1)},e.initView=function(){var t=this.m_staffConfig,n=this.getIconPath(t.res_id);this.setIcon(n),this.setUnlockPrice(),this.setMsName()},e.setMsName=function(){var t=this.m_staffConfig,n=t.Name,i=t.Content;this.nameLab.string=n,this.msLab.string=i},e.setIcon=function(t){_.setSpriteFrame(C.instance.getIconBundleName(),t,this.itemIcon,this.node)},e.setUnlockPrice=function(t){void 0===t&&(t=!0);var n=this.m_unlcokData.Gold;this.itemPrice.string="x"+n;var i=u.itemEnough(l.money,n),e=i?"#FFFFFF":"#FF0000";this.itemPrice.color=new o(e),!i&&t&&k.isOpenADGetGold(n)},e.getIconPath=function(t){return"Res/Texture/UI/AvatarFull/"+t},e.clickUnlockBtn=function(){var t=h.getStar(),n=this.m_unlcokData.Star;if(t>=n){var i=this.m_unlcokData.Gold;if(u.useItem(l.money,i)){this.destroyClass();var e=this.m_StaffId;g.unlock_staff(e)>=4&&c.canReputate(r.staff4),s.event(S.StaffEmplyBackScene),m.addTaskPro(p.EmployPlayer,e)}else k.instance.haveNoAD?f.openView(I.ShopDepotView):f.openView(I.TipView,null,{content:a.getString("1_17")})}else{var o=h.getStarNameByStar(n);f.openView(I.TipView,null,{content:a.getString("16_13",[o])})}},i}(w))||y);i._RF.pop()}}}));

System.register("chunks:///_virtual/TaskView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./TaskConfig.ts","./NoviceGuideMgr.ts","./DataTable.ts","./EventUtility.ts","./AudioTool.ts","./UITool.ts","./UIConfig.ts"],(function(e){"use strict";var i,t,n,o,a,r,s,c,l,u,d,p,f,h,w,g,k,b,v,G,V,N,y,T;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Label,c=e.ProgressBar,l=e.Node},function(e){u=e.eventDispatcher},function(e){d=e.dataTableManager},function(e){p=e.LocalizationHelper},function(e){f=e.uiManager},function(e){h=e.UIView},function(e){w=e.taskConfig},function(e){g=e.NoviceGuideMgr,k=e.EGuideStep,b=e.EGuideClickEnum},function(e){v=e.EDataTables},function(e){G=e.MEventNames},function(e){V=e.AudioTool,N=e.ESoundType},function(e){y=e.UITool},function(e){T=e.MUIConfig}],execute:function(){var m,C,D,B,_,U,I,P,z,E,M,A,L,F,S;a._RF.push({},"99e82bsPqZD+pAG6QDEAyUu","TaskView",void 0);var R=r.ccclass,O=r.property;e("TaskView",(m=R("TaskView"),C=O(s),D=O(s),B=O(s),_=O(c),U=O(l),I=O(l),m((E=i((z=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return i=e.call.apply(e,[this].concat(a))||this,n(i,"taskName",E,o(i)),n(i,"rewardNum",M,o(i)),n(i,"proLab",A,o(i)),n(i,"probar",L,o(i)),n(i,"rewardBtn",F,o(i)),n(i,"gotoBtn",S,o(i)),i.m_isCheck=0,i}t(i,e);var a=i.prototype;return a.onOpen=function(){this.refreshUI(),V.play(N.ui_open),u.on(G.guideClick,this,this.guideClick),u.on(G.refreshGuildPos,this,this.refreshGuildPos),this.m_isCheck=0,this.scheduleOnce((function(){g.instance.isNeedShowNoviceView(k.Guide_GotoTask),g.instance.isNeedShowNoviceView(k.Guide_GetFoodUp),g.instance.isNeedShowNoviceView(k.Guide_GotoAddDesk)}),.5)},a.onClose=function(){u.offAllCaller(this)},a.refreshUI=function(){var e=w.getCurTaskDic();if(e){this.taskName.string=p.getString(e.Info),this.rewardNum.string="+"+e.RewardGlod;var i=w.getProData();this.proLab.string=i[0]+"/"+i[1],this.probar.progress=i[0]/i[1],i[0]<i[1]?(this.gotoBtn.active=!0,this.rewardBtn.active=!1):(this.gotoBtn.active=!1,this.rewardBtn.active=!0)}else f.closeView(this)},a.refreshGuildPos=function(e){e.click==b.layerButton&&this.rewardBtn.getWorldPosition(y.instance.guideHandWorldPos)},a.guideClick=function(e){if(e.click==b.layerButton){var i=w.getProData();i[0]<i[1]?this.clickGoto():this.clickReward()}},a.clickReward=function(){if(w.getReward()){var e=d.getDataTable(v.Constant);switch(w.curTaskId){case e[26].Value:g.instance.checkNoviceGuide(k.Guide_GotoTask);break;case e[28].Value:g.instance.checkNoviceGuide(k.Guide_GetFoodUp);break;case e[33].Value:g.instance.checkNoviceGuide(k.Guide_GotoAddDesk);break;case e[39].Value:f.openView(T.NewFunctionOpenView,null,0);break;case e[40].Value:f.openView(T.NewFunctionOpenView,null,1);break;case e[41].Value:f.openView(T.NewFunctionOpenView,null,2)}}f.closeView(this)},a.clickGoto=function(){var e=w.getCurTaskDic();y.instance.taskGoto(e),f.closeView(this)},a.clickClose=function(){V.play(N.ui_click),f.closeView(this)},i}(h)).prototype,"taskName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(z.prototype,"rewardNum",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(z.prototype,"proLab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(z.prototype,"probar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(z.prototype,"rewardBtn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(z.prototype,"gotoBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=z))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/TipView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./UIManager.ts","./UIView.ts","./DataTable.ts"],(function(t){"use strict";var e,n,i,o,s,a,r,c,l,u,p;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.Vec3,s=t.Label,a=t.Tween,r=t.tween},function(t){c=t.dataTableManager},function(t){l=t.uiManager},function(t){u=t.UIView},function(t){p=t.EDataTables}],execute:function(){var h;n._RF.push({},"4788bDO6zBE7I27+tOYdjV7","TipView",void 0);var V=i.ccclass;i.property,t("TipView",V("TipView")(h=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_V3=null,e.m_MoveV3=null,e.m_stopTime=0,e}e(n,t);var i=n.prototype;return i.onInit=function(){this.m_V3=this.node.children[0].getPosition(),this.m_MoveV3=new o(0,250,0),this.m_stopTime=c.getData(p.Constant,20).Value},i.onOpen=function(t){var e=this;t.content&&(this.node.children[0].children[0].getComponent(s).string=t.content),this.node.children[0].setPosition(this.m_V3),a.stopAllByTarget(this.node),r(this.node).by(1,{position:this.m_MoveV3},{easing:"expoOut"}).delay(this.m_stopTime).call((function(){l.closeView(e)})).start()},n}(u))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/TopItemPrefab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./UIManager.ts","./ItemConfig.ts","./EventUtility.ts","./GameUtility.ts","./ResourceTool.ts","./UITool.ts","./UIConfig.ts"],(function(t){"use strict";var e,n,i,o,r,a,u,m,l,s,c,h,d,y,f,p,g,_,N,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.Node,m=t.instantiate,l=t.Label,s=t.Widget,c=t.Component},function(t){h=t.eventDispatcher},function(t){d=t.uiManager},function(t){y=t.itemConfig,f=t.EItemEnum},function(t){p=t.MEventNames},function(t){g=t.EGameBundles},function(t){_=t.ResourceTool},function(t){N=t.UITool},function(t){v=t.MUIConfig}],execute:function(){var I,A,b,C,E,M,T;r._RF.push({},"e4c76X2E5RDRbeH182PJEjR","TopItemPrefab",void 0);var L=a.ccclass,P=a.property;t("TopItemPrefab",(I=L("TopItemPrefab"),A=P(u),b=P(u),I((M=e((E=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"layoutNode",M,o(e)),i(e,"itemTemplate",T,o(e)),e.m_IdArray=null,e.m_ItemArray=null,e.m_NumLabArray=[],e.m_HaveEven=!1,e.m_MoneyCount=0,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.itemTemplate.active=!1},r.onEnable=function(){this.m_HaveEven||(this.m_HaveEven=!0,h.on(p.RefreshItemNumber,this,this.updateNum),h.on(p.RefreshTopMoneyNum,this,this.refreshTopMoneyNum),this.updateNum())},r.onDisable=function(){this.m_HaveEven&&(this.m_HaveEven=!1,h.offAllCaller(this))},r.onDestory=function(){this.m_IdArray=null,this.m_ItemArray=null,this.m_NumLabArray=null},r.setData=function(t){var e=this;this.m_IdArray=[],this.m_ItemArray=[],this.m_NumLabArray=[],this.m_IdArray=t.data,this.m_IdArray.forEach((function(n,i){var o=e.layoutNode.children[i];o||(o=m(e.itemTemplate),e.layoutNode.addChild(o)),o.getChildByName("addButton").name=n+"",o.active=!0,e.m_ItemArray[i]=o,e.m_NumLabArray[i]=o.getChildByName("numLab").getComponent(l),_.setNodeSpriteFrame(g.LoadOnPlay,y.getItemIconUrl(n),o.getChildByName("icon"),e.node,(function(){1==t.isHomePage&&e.scheduleOnce((function(){N.instance.setCurrencyAniPos(f.diamond,e.layoutNode.children[0].getChildByName("icon").getWorldPosition()),N.instance.setCurrencyAniPos(f.money,e.layoutNode.children[1].getChildByName("icon").getWorldPosition())}))}))})),this.layoutNode.children.forEach((function(t,n){t.active=n<e.m_ItemArray.length})),this.updateNum();var n=this.layoutNode.getComponent(s);t.dir=t.dir>-1?t.dir:2,1==t.dir?(n.isAlignLeft=!0,n.isAlignRight=!1,n.left=50):2==t.dir?(n.isAlignLeft=!1,n.isAlignRight=!0,n.right=50):n.isAlignHorizontalCenter=!0},r.updateNum=function(t){var e=this;this.m_IdArray&&this.m_NumLabArray&&(t&&t.count>0&&(this.m_MoneyCount=t.count),this.m_NumLabArray.forEach((function(t,n){var i=e.m_IdArray[n];(e.m_MoneyCount<=0||i!=f.money)&&(t.string=y.getItemNum(i)+"")})))},r.refreshTopMoneyNum=function(t){var e=this;this.m_MoneyCount=t.count,this.m_NumLabArray.forEach((function(n,i){var o=e.m_IdArray[i];e.m_MoneyCount>0&&o==f.money&&(t.idx==t.total-1?(n.string=y.getItemNum(o)+"",e.m_MoneyCount=0):n.string=Math.floor(y.getItemNum(o)-e.m_MoneyCount+e.m_MoneyCount/t.total*(t.idx+1))+"")}))},r.clickAdd=function(t){var e=Number(t.target.name);e==f.diamond?d.openView(v.PurchaseDiamondView):e==f.money?d.openView(v.ShopDepotView,null,2002):e==f.power&&d.openView(v.ShopDepotView,null,2003)},e}(c)).prototype,"layoutNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(E.prototype,"itemTemplate",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=E))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIAdaptive.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SafeAreaAdaptive.ts"],(function(t){"use strict";var e,o,n,i,s,r;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,i=t.Widget,s=t.Component},function(t){r=t.SafeAreaAdaptive}],execute:function(){var a;o._RF.push({},"97ce171a2RO3r2NF/x/+IMP","UIAdaptive",void 0);var p=n.ccclass,c=(n.property,n.menu);t("UIAdaptive",p("UIAdaptive")(a=c("Extension/UIAdaptive")(a=function(t){function o(){return t.apply(this,arguments)||this}return e(o,t),o.prototype.onEnable=function(){var t=this.node.getComponent(i);t&&(t.isAbsoluteTop&&t.isAlignTop&&0==t.top&&(t.top=-r.safeTop),t.isAbsoluteBottom&&t.isAlignBottom&&0==t.bottom&&(t.bottom=-r.safeBottom))},o}(s))||a)||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIBuiltin.ts",["cc"],(function(t){"use strict";var i,u;return{setters:[function(t){i=t.cclegacy,u=t.ccenum}],execute:function(){var o,e;t("EUIGroupBuiltin",void 0),i._RF.push({},"9234ftlPp9N/bcv199fs09w","UIBuiltin",void 0),function(t){t[t.Bottom=1]="Bottom",t[t.Default=2]="Default",t[t.View=3]="View",t[t.Dialog=4]="Dialog"}(e||(e=t("EUIGroupBuiltin",{}))),u(e);t("MUIGroupNameBuiltin",((o={})[e.Bottom]="Bottom",o[e.Default]="Default",o[e.View]="View",o[e.Dialog]="Dialog",o));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIButtonTransition.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,i,r,e,s,a,c,l,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){e=t.cclegacy,s=t._decorator,a=t.Button,c=t.Color,l=t.color,u=t.Component}],execute:function(){var p,T,d,f,y,h;e._RF.push({},"cbfedIJ1bRFDJgsZP/HNzzU","UIButtonTransition",void 0);var m=s.ccclass,C=s.property,I=s.menu,b=s.executeInEditMode,v=s.playOnFocus;t("UIButtonTransition",(p=m("UIButtonTransition"),T=I("Extension/UIButtonTransition"),d=C({type:a.Transition,displayName:"Transition"}),p(f=T(f=b(f=v((h=n((y=function(t){function n(){for(var n,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return n=t.call.apply(t,[this].concat(e))||this,i(n,"m_Transition",h,r(n)),n}return o(n,t),n.prototype.start=function(){var t=this.node.getComponent(a);if(t)switch(t.transition=this.m_Transition,t.transition){case a.Transition.COLOR:t.normalColor=t.hoverColor=c.WHITE,t.pressedColor=l(200,200,200,255),t.disabledColor=l(124,124,124,255);break;case a.Transition.SCALE:t.zoomScale=.9}},n}(u)).prototype,"m_Transition",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a.Transition.COLOR}}),f=y))||f)||f)||f)||f));e._RF.pop()}}}));

System.register("chunks:///_virtual/UIComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DefaultDepthHelper.ts","./UIBuiltin.ts","./UIManager.ts"],(function(t){"use strict";var e,o,n,r,i,a,l,s,u,p,c,m,I,f,U,d,h,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.createClass},function(t){a=t.cclegacy,l=t._decorator,s=t.CCFloat,u=t.Node,p=t.Layers,c=t.UITransform,m=t.Widget,I=t.Component},function(t){f=t.setViewRefocusHelper,U=t.setGroupDepthHelper},function(t){d=t.EUIGroupBuiltin,h=t.MUIGroupNameBuiltin},function(t){_=t.uiManager}],execute:function(){var y,g,v,C,b,G,R,w,A,D,N;a._RF.push({},"3f1a6amzIdG+LYh0tBZ7/7b","UIComponent",void 0);var T=l.ccclass,z=l.disallowMultiple,B=l.menu,L=l.property;l.type,t("UIComponent",(y=T("UIComponent"),g=B("Framework/UI"),v=L({type:s,displayName:"Auto Clear Interval",tooltip:"自动清除界面对象池的间隔"}),C=L({type:u,displayName:"UI Root",tooltip:"界面组的根节点"}),b=L({type:[d],displayName:"UI Groups",tooltip:"设置界面组列表，深度为默认数组下标 + 1"}),y(G=g(G=z(((N=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,n(e,"m_AutoClearInterval",w,r(e)),n(e,"m_UIRoot",A,r(e)),n(e,"m_UIGroups",D,r(e)),e.m_Timer=0,e}o(e,t);var a=e.prototype;return a.onLoad=function(){e.m_Instance=this},a.start=function(){if(!this.m_UIRoot){var t=this.getUINode("UI Root");t.setParent(this.node),this.m_UIRoot=t}_.setViewRefocusHelper(f);for(var e=this.m_UIGroups,o=0;o<e.length;o++){var n=h[e[o]];this.addUIGroups(n,o+1)}},a.addUIGroups=function(t,e){if(!_.hasUIGroup(t)){var o=this.getUINode(t);o.setParent(this.m_UIRoot),_.addUIGroup(t,e,o,U)}},a.getUINode=function(t){var e=new u(t);e.layer=p.Enum.UI_2D,e.addComponent(c);var o=e.addComponent(m);return o.isAlignTop=o.isAlignBottom=o.isAlignLeft=o.isAlignRight=!0,o.top=o.bottom=o.left=o.right=0,e},a.onDestroy=function(){e.m_Instance=null,_.clear()},a.update=function(t){this.m_Timer+=t,this.m_Timer>=this.m_AutoClearInterval&&(this.m_Timer=0,_.clearUIPool())},i(e,null,[{key:"instance",get:function(){return this.m_Instance}}]),e}(I)).m_Instance=void 0,w=e((R=N).prototype,"m_AutoClearInterval",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),A=e(R.prototype,"m_UIRoot",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(R.prototype,"m_UIGroups",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=R))||G)||G)||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIConfig.ts",["cc","./UIBuiltin.ts","./GameUtility.ts"],(function(e){"use strict";var i,a,o,n;return{setters:[function(e){i=e.cclegacy},function(e){a=e.EUIGroupBuiltin},function(e){o=e.EGameBundles,n=e.MViewPath}],execute:function(){i._RF.push({},"afa797G8u5PtrIJG5R8kynY","UIConfig",void 0);var t=o.LoadOnPlay;e("MUIConfig",{DebugTestView:{path:n.DebugTestView,bundle:t,autoClose:!0},SdkTestView:{path:n.SdkTestView,bundle:t,autoClose:!0},CircleView:{path:n.CircleView,bundle:t,group:a.Dialog},ConfirmView:{path:n.ConfirmView,bundle:t,autoClose:!0,group:a.View},CongratulationView:{path:n.CongratulationView,bundle:t,group:a.View},CongratulationMoreView:{path:n.CongratulationMoreView,bundle:t,group:a.View},TipView:{path:n.TipView,bundle:t,group:a.Dialog},MiniGameMainView:{path:n.MiniGameMainView,bundle:t},MiniGameExchangeView:{path:n.MiniGameExchangeView,bundle:t},MiniGameDrawCardView:{path:n.MiniGameDrawCardView,bundle:t},MiniGamePrizeClawView:{path:n.MiniGamePrizeClawView,bundle:t},MiniGameOverView:{path:n.MiniGameOverView,bundle:t},HomePageView:{path:n.HomePageView,bundle:t,group:a.Bottom},TaskPageView:{path:n.TaskPageView,bundle:t,autoClose:!0},ShopView:{path:n.ShopView,bundle:t},ShopConversionView:{path:n.ShopConversionView,bundle:t},ShopDepotView:{path:n.ShopDepotView,bundle:t,autoClose:!0},WarehouseView:{path:n.WarehouseView,bundle:t},StarInfoView:{path:n.StarInfoView,bundle:t,autoClose:!0,group:a.View},RenovationView:{path:n.RenovationView,bundle:t},RenovationConfigView:{path:n.RenovationConfigView,bundle:t,autoClose:!0},ResearchView:{path:n.ResearchView,bundle:t},ResearchResultView:{path:n.ResearchResultView,bundle:t},ResearchReadmeView:{path:n.ResearchReadmeView,bundle:t,autoClose:!0},ResearchExchangeView:{path:n.ResearchExchangeView,bundle:t},WarehouseReadmeView:{path:n.WarehouseReadmeView,bundle:t,autoClose:!0},MenuView:{path:n.MenuView,bundle:t,autoClose:!0},FoodInfoView:{path:n.FoodInfoView,bundle:t,autoClose:!0},PhonographView:{path:n.PhonographView,bundle:t,autoClose:!0},PhonographRewardView:{path:n.PhonographRewardView,bundle:t,autoClose:!0},SignView:{path:n.SignView,bundle:t,autoClose:!0},ExplainView:{path:n.ExplainView,bundle:t},StaffView:{path:n.StaffView,bundle:t,autoClose:!0},StaffInfoView:{path:n.StaffInfoView,bundle:t,autoClose:!0},StaffPlanView:{path:n.StaffPlanView,bundle:t,autoClose:!0},StaffPlanView_exchange:{path:n.StaffPlanView_exchange,bundle:t,autoClose:!0},FoodillustrationView:{path:n.FoodillustrationView,bundle:t,autoClose:!0},FoodillustrationInfoView:{path:n.FoodillustrationInfoView,bundle:t,autoClose:!0},FoodRecipesView:{path:n.FoodRecipesView,bundle:t,autoClose:!0},GoldAdView:{path:n.GoldAdView,bundle:t},ScoreUpTips:{path:n.ScoreUpTips,bundle:t,group:a.Dialog},BillingView:{path:n.BillingView,bundle:t},StoryView:{path:n.StoryView,bundle:t},PersonalEventView:{path:n.PersonalEventView,bundle:t},PersonalEvent2View:{path:n.PersonalEvent2View,bundle:t},SettingView:{path:n.SettingView,bundle:t,autoClose:!0},NoviceGuideView:{path:n.NoviceGuideView,bundle:t,group:a.View},NewFunctionOpenView:{path:n.NewFunctionOpenView,bundle:t,group:a.View},ChangeNameView:{path:n.ChangeNameView,bundle:t,group:a.View},OfflineEarningsView:{path:n.OfflineEarningsView,bundle:t,group:a.View,autoClose:!0},ChangeNameViewNew:{path:n.ChangeNameViewNew,bundle:t,autoClose:!0},GetCurencyUIAni:{path:n.GetCurencyUIAni,bundle:t,group:a.View},ScreenTipsView:{path:n.ScreenTips,bundle:t,group:a.Dialog},RenovationSchemeView:{path:n.RenovationSchemeView,bundle:t,group:a.Dialog},SchemeReplaceView:{path:n.SchemeReplaceView,bundle:t,group:a.Dialog},RenovationSuitView:{path:n.RenovationSuitView,bundle:t,group:a.Dialog},ReplaceNameView:{path:n.ReplaceNameView,bundle:t,group:a.Dialog},GoodReputationView:{path:n.GoodReputationView,bundle:t,group:a.View},PurchaseDiamondView:{path:n.PurchaseDiamondView,bundle:t,group:a.View,autoClose:!0},PurchaseGiftView1003:{path:n.PurchaseGiftView1003,bundle:t,group:a.View,autoClose:!0},PurchaseGiftView1004:{path:n.PurchaseGiftView1004,bundle:t,group:a.View,autoClose:!0},PurchaseGiftView1005:{path:n.PurchaseGiftView1005,bundle:t,group:a.View,autoClose:!0},FastBuildConfigView:{path:n.FastBuildConfigView,bundle:t},FastBuyView:{path:n.FastBuyView,bundle:t},FoodCarnivalView:{path:n.FoodCarnivalView,bundle:t,group:a.View,autoClose:!0},FoodCarnivalRewardView:{path:n.FoodCarnivalRewardView,bundle:t,group:a.View},LuckyTurntableView:{path:n.LuckyTurntableView,bundle:t,group:a.View,autoClose:!0},ContactAdView:{path:n.ContactAdView,bundle:t,group:a.View,autoClose:!0},TaskBuildConfigView:{path:n.TaskBuildConfigView,bundle:t},TaskStaffConfigView:{path:n.TaskStaffConfigView,bundle:t}});i._RF.pop()}}}));

System.register("chunks:///_virtual/UIFullScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,o,r,i,s,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,r=e.view,i=e.UITransform,s=e.v3,c=e.Component}],execute:function(){var u;t._RF.push({},"067d6qZTBxMIK509mU2brrC","UIFullScreen",void 0);var l=o.ccclass,p=(o.property,o.requireComponent,o.executionOrder,o.menu);e("UIFullScreen",l("UIFullScreen")(u=p("Extension/UIFullScreen")(u=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.onEnable=function(){var e=this,n=r.getVisibleSize(),t=this.node.getComponent(i);t&&t.setContentSize(n);var o=s(n.x/2,n.y/2);this.node.setWorldPosition(o),this.scheduleOnce((function(){e.node.setWorldPosition(s(o))}),0)},t}(c))||u)||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/UIGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReferencePool.ts"],(function(e){"use strict";var i,t,n,r;return{setters:[function(e){i=e.createForOfIteratorHelperLoose,t=e.createClass},function(e){n=e.cclegacy},function(e){r=e.default}],execute:function(){n._RF.push({},"c9960Vu3vhACa+jfPFUbYwc","UIGroup",void 0);var o=function(){function e(){this.uiView=void 0,this.paused=void 0,this.covered=void 0}return e.prototype.clear=function(){this.uiView=null,this.paused=!1,this.covered=!1},e.get=function(i,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0);var o=r.get(e);return o.uiView=i,o.paused=t,o.covered=n,o},e}();e("UIGroup",function(){function e(e,i,t,n){this.m_Name=void 0,this.m_Node=void 0,this.m_Depth=void 0,this.m_SetDepthHelper=void 0,this.m_Pause=void 0,this.m_ViewInfos=void 0,this.m_Name=e,this.m_Depth=i,this.m_Pause=!1,this.m_Node=t,this.m_ViewInfos=[],this.m_SetDepthHelper=n}var n=e.prototype;return n.hasView=function(e){for(var t,n="number"==typeof e?"serialId":"assetName",r=i(this.m_ViewInfos);!(t=r()).done;){if(t.value.uiView[n]==e)return!0}return!1},n.getView=function(e){for(var t,n="number"==typeof e?"serialId":"assetName",r=i(this.m_ViewInfos);!(t=r()).done;){var o=t.value;if(o.uiView[n]==e)return o.uiView}return null},n.getViews=function(e){for(var t,n="number"==typeof e?"serialId":"assetName",r=[],o=i(this.m_ViewInfos);!(t=o()).done;){var s=t.value;s.uiView[n]==e&&r.push(s.uiView)}return 0==r.length?null:r},n.getAllViews=function(){for(var e,t=[],n=i(this.m_ViewInfos);!(e=n()).done;){var r=e.value;t.push(r.uiView)}return 0==t.length?null:t},n.addView=function(e){this.m_ViewInfos.push(o.get(e))},n.removeView=function(e){var i=this.getViewInfo(e);if(i){i.covered||(i.covered=!0,e.onCover()),i.paused||(i.paused=!0,e.onPause());var t=this.m_ViewInfos;r.recover(t.splice(t.indexOf(i),1)[0])}},n.refocusView=function(e){var i=this.getViewInfo(e);if(i){var t=this.m_ViewInfos,n=t.splice(t.indexOf(i),1)[0];t.push(n)}},n.refresh=function(){var e=this.m_ViewInfos,i=this.m_Pause,t=!1;if(this.viewCount>0)for(var n=e.length-1;n>=0;n--){var r=e[n];r&&(i?(r.covered||(r.covered=!0,r.uiView.onCover()),r.paused||(r.paused=!0,r.uiView.onPause())):(r.paused&&(r.paused=!1,r.uiView.onResume()),r.uiView.pauseCoveredView&&(i=!0),t?r.covered||(r.covered=!0,r.uiView.onCover()):(r.covered&&(r.covered=!1,r.uiView.onReveal()),t=!0)))}},n.getViewInfo=function(e){for(var t,n=i(this.m_ViewInfos);!(t=n()).done;){var r=t.value;if(r.uiView==e)return r}return null},t(e,[{key:"name",get:function(){return this.m_Name}},{key:"node",get:function(){return this.m_Node}},{key:"viewCount",get:function(){return this.m_ViewInfos.length}},{key:"currentView",get:function(){var e=this.viewCount;return e>0?this.m_ViewInfos[e-1].uiView:null}},{key:"depth",get:function(){return this.m_Depth},set:function(e){this.m_Depth!=e&&(this.m_Depth=e,this.m_SetDepthHelper&&this.m_SetDepthHelper(this.m_Depth),this.refresh())}},{key:"pause",get:function(){return this.m_Pause},set:function(e){this.m_Pause!=e&&(this.m_Pause=e,this.refresh())}}]),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./JSUtils.ts","./AssetLoader.ts","./EntityPool.ts","./NodeUtils.ts","./UIBuiltin.ts","./UIGroup.ts","./UIView.ts"],(function(e){"use strict";var i,t,n,o,r,s,u,a,l,f,c,h,p,d,w,g;return{setters:[function(e){i=e.createForOfIteratorHelperLoose,t=e.createClass},function(e){n=e.cclegacy,o=e.Prefab,r=e.v3,s=e.Node,u=e.BlockInputEvents},function(e){a=e.default},function(e){l=e.default},function(e){f=e.assetLoader},function(e){c=e.default},function(e){h=e.default},function(e){p=e.MUIGroupNameBuiltin,d=e.EUIGroupBuiltin},function(e){w=e.UIGroup},function(e){g=e.UIView}],execute:function(){n._RF.push({},"4b1f5CG17xDGZ++RdAMCA0f","UIManager",void 0);var V=e("UIManager",function(){function e(){this.m_SerialId=0,this.m_UIGroups={},this.m_ViewSigns=[],this.m_ViewLoading={},this.m_ViewCloseOnLoad=[],this.m_ViewRefocusHelper=void 0}var n=e.prototype;return n.getAllUIGroups=function(){var e=[],i=this.m_UIGroups;for(var t in i)e.push(i[t]);return e},n.hasUIGroup=function(e){return!!this.m_UIGroups[e]},n.getUIGroup=function(e){return this.m_UIGroups[e]},n.addUIGroup=function(e,i,t,n){this.hasUIGroup(e)?a.error("The same group already exists."):this.m_UIGroups[e]=new w(e,i,t,n)},n.hasView=function(e){var i=this.m_UIGroups;for(var t in i){if(i[t].hasView(e))return!0}return!1},n.getView=function(e){var i=this.m_UIGroups;for(var t in i){var n=i[t].getView(e);if(null!=n)return n}return null},n.getViews=function(e){var i=this.m_UIGroups,t=[];for(var n in i){var o=i[n].getViews(e);null!=o&&t.push.apply(t,o)}return 0==t.length?null:t},n.getAllViews=function(){var e=this.m_UIGroups,i=[];for(var t in e){var n=e[t].getAllViews();null!=n&&i.push.apply(i,n)}return 0==i.length?null:i},n.getAllLoadingIds=function(){var e=this.m_ViewLoading,i=[];for(var t in e)i.push(parseInt(t));return 0==i.length?null:i},n.isLoadingView=function(e){var i=this.m_ViewLoading;if("number"==typeof e)return!!i[e];for(var t in i)if(i[t]==e)return!0;return!1},n.openView=function(e,i,t,n,r){var s=this;if(!this.isLoadingView(e.path)){a.debug("OpenView....:",e.path);var u=p[e.group||d.Default],l=e.bundle,w=e.path,g=this.getUIGroup(u),V=++this.m_SerialId,v=c.get(w);v?(this.internalOpenView(V,e,g,v,!1,t,n,r),i&&i(v,V)):(this.m_ViewLoading[V]=e.path,f.load(l,e.path,o,(function(o,u){var l=s.m_ViewSigns;l.indexOf(w)<0&&l.push(w);var f=s.m_ViewCloseOnLoad,c=f.indexOf(V);if(c>-1)f.splice(c,1);else{if(o)return s.deleteLoadingId(V),void a.error(o);v=h.instantiate(w,u),s.internalOpenView(V,e,g,v,!0,t,n,r),i&&i(v,V),setTimeout(s.deleteLoadingId.bind(s),50,V)}})))}},n.closeView=function(e,i,t,n){if("number"==typeof e){if(this.isLoadingView(e))return this.m_ViewCloseOnLoad.push(e),void delete this.m_ViewLoading[e];var o=this.getView(e);if(!o)return void a.error("Can find view from "+e);this.closeView(o,i,t,n)}else{var r=e.uiGroup;a.debug("closeView....:",e.assetName),r.removeView(e),e.onClose(i,t,n),r.refresh(),e.onRecycle(),h.remove(e.node)}},n.refocusView=function(e,i,t,n){var o=e.uiGroup;this.m_ViewRefocusHelper&&this.m_ViewRefocusHelper(e.node),o.refocusView(e),o.refresh(),e.onRefocus(i,t,n)},n.setViewRefocusHelper=function(e){this.m_ViewRefocusHelper=e},n.closeAllViews=function(e,t,n){var o=this.getAllViews();if(o)for(var r,s=i(o);!(r=s()).done;){var u=r.value;this.hasView(u.serialId)&&this.closeView(u,e,t,n)}},n.closeAllLoadingView=function(){var e=this.m_ViewLoading;for(var i in e)this.m_ViewCloseOnLoad.push(parseInt(i));l.clearMap(e)},n.clear=function(){this.closeAllViews(),this.closeAllLoadingView(),this.clearUIPool(),this.m_ViewSigns.length=0,l.clearMap(this.m_UIGroups)},n.clearUIPool=function(){c.clearPool(this.m_ViewSigns)},n.internalOpenView=function(e,i,t,n,o,l,f,c){var p=this;n.setParent(t.node),n.setPosition(r());var d=n.getComponent(g);if(!d)return a.error("Can not create ui without UIView Component"),void h.remove(n);if(d.internalInit(e,i.path,t,o,l,f,c),t.addView(d),d.onOpen(l,f,c),t.refresh(),o&&i.autoClose){var w=n.getChildByName("mask");w&&(w.targetOff(w),w.on(s.EventType.TOUCH_END,(function(){p.closeView(d)}),w));var V=n.getChildByName("content");V&&(V.getComponent(u)||V.addComponent(u))}},n.deleteLoadingId=function(e){delete this.m_ViewLoading[e]},t(e,[{key:"groupCount",get:function(){return Object.keys(this.m_UIGroups).length}}]),e}());e("uiManager",new V);n._RF.pop()}}}));

System.register("chunks:///_virtual/UITool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./ItemConfig.ts","./StarConfig.ts","./TaskConfig.ts","./ShopInfoMgr.ts","./LobbyCameraControl.ts","./LobbyRoomData.ts","./DataTable.ts","./EventUtility.ts","./UIConfig.ts"],(function(e){"use strict";var n,a,o,t,i,c,r,s,u,l,p,w,b,V,f,m,k,g;return{setters:[function(e){n=e.createClass},function(e){a=e.cclegacy,o=e._decorator,t=e.Vec3},function(e){i=e.eventDispatcher},function(e){c=e.dataTableManager},function(e){r=e.LocalizationHelper},function(e){s=e.uiManager},function(e){u=e.itemConfig,l=e.EItemEnum},function(e){p=e.starConfig},function(e){w=e.ETaskType},function(e){b=e.ShopInfoMgr},function(e){V=e.LobbyCameraControl},function(e){f=e.ELobbyRoomId},function(e){m=e.EDataTables},function(e){k=e.MEventNames},function(e){g=e.MUIConfig}],execute:function(){a._RF.push({},"b65d2aGDuhK+Zyqet0V3Tpo","UITool",void 0);o.ccclass,o.property;var v=new Map;e("UITool",function(){function e(){this.guideHandWorldPos=new t,this.haveNoAD=!1}e.isOpenADGetGold=function(n){if(!u.itemEnough(l.money,n)){var a=b.instance.depotMgr.getRewardNumber(0);u.itemEnough(l.money,n-a)?s.openView(g.GoldAdView):e.instance.haveNoAD=!0}};var a=e.prototype;return a.getCurrencyAniPos=function(e){return v.get(e)},a.setCurrencyAniPos=function(e,n){v.set(e,n)},a.showItemGetAni=function(e){s.openView(g.GetCurencyUIAni,null,e)},a.taskGoto=function(e){switch(e.type){case w.CleanArea:switch(e.Param){case 1:s.openView(g.RenovationView,null,0);break;case 2:s.openView(g.RenovationView,null,1);break;case 3:s.openView(g.RenovationView,null,3);break;case 5:s.openView(g.RenovationView,null,2);break;case 6:s.openView(g.RenovationView,null,3,1);break;case 7:s.openView(g.RenovationView,null,3,2);break;case 4:s.openView(g.RenovationView,null,4)}break;case w.UnlockFacilityType:s.openView(g.TaskBuildConfigView,null,0,e.Param);break;case w.ServeCustomer:V.instance.jumpToRoomId(f.Lobby);break;case w.UnlockSpecificFacility:s.openView(g.TaskBuildConfigView,null,e.Param);break;case w.EmployPlayer:s.openView(g.TaskStaffConfigView,null,e.Param);break;case w.EmployeeScout:s.openView(g.StaffView);break;case w.FacilityScout:i.event(k.openRenovation);break;case w.MealScout:s.openView(g.MenuView);break;case w.RDNewMeal:s.openView(g.ResearchView,null,0);break;case w.UpGradeMeal:s.openView(g.MenuView);break;case w.SettleAccounts:case w.OrderMeal:V.instance.jumpToRoomId(f.Lobby);break;case w.ServeDish:case w.ServePotMaterial:V.instance.jumpToRoomId(f.Kitchen);break;case w.RewardCatServe:s.openView(g.PhonographView);break;case w.UpGradeStar:s.openView(g.StarInfoView);break;case w.ClickFiveFlavourTree:case w.GetFiveFlavourBottle:s.openView(g.WarehouseView);break;case w.RDNewPotMaterial:s.openView(g.ResearchView,null,1);break;case w.GameMachine:V.instance.jumpToRoomId(f.LobbyOutside);var n=c.getData(m.Constant,21).Value;n>p.getStar()?s.openView(g.TipView,null,{content:r.getString("33_31",[p.getStarNameByStar(n)])}):s.openView(g.MiniGameMainView);break;case w.Leaflet:V.instance.jumpToRoomId(f.LobbyOutside)}},n(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=void 0,a._RF.pop()}}}));

System.register("chunks:///_virtual/UITweenAnim.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,o,r,a,c,s,u,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.ccenum,s=e.Tween,u=e.v3,l=e.tween,p=e.Component}],execute:function(){var w,m,h,f,y,v,T,S;e("EUITween",void 0),r._RF.push({},"45c2dSug4FOPZgnvuDe4UZz","UITweenAnim",void 0);var b,d=a.ccclass,g=a.property,O=a.menu;!function(e){e[e.None=0]="None",e[e.SineOut=1]="SineOut",e[e.BackOut=2]="BackOut",e[e.ElasticOut=3]="ElasticOut"}(b||(b=e("EUITween",{}))),c(b);var _=["sineOut","backOut","elasticOut"];e("UITweenAnim",(w=d("UITweenAnim"),m=O("Extension/UITweenAnim"),h=g({type:b,displayName:"Show Tween",tooltip:"展示动画"}),f=g({displayName:"Show Param",tooltip:"展示动画的自定义参数, x/y/z 分别对应 持续时间/初始值/结束值"}),w(y=m((T=t((v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"m_ShowTween",T,o(t)),i(t,"m_ShowParam",S,o(t)),t}n(t,e);var r=t.prototype;return r.onEnable=function(){var e=this.m_ShowTween;if(0!=e){var t=this.node;s.stopAllByTarget(t);var n=this.m_ShowParam,i=u();this.setVec3(i,n.y),t.setScale(i),this.setVec3(i,n.z),l(t).to(n.x,{scale:i},{easing:_[e-1]}).start()}},r.setVec3=function(e,t){e.set(t,t,t)},r.onDisable=function(){},t}(p)).prototype,"m_ShowTween",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.None}}),S=t(v.prototype,"m_ShowParam",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u(.5,.8,1)}}),y=v))||y)||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AssetKeeper.ts"],(function(e){"use strict";var n,t,i,o,r,s,u,a;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,u=e._decorator},function(e){a=e.AssetKeeper}],execute:function(){var c,l,p,f,d;s._RF.push({},"a53fdiVChFPnZOavJsVoYPM","UIView",void 0);var h=u.ccclass,m=u.property;e("UIView",(c=h("UIView"),l=m({displayName:"Pause Covered View",tooltip:"是否暂停被遮挡的界面"}),c((d=n((f=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return n=e.call.apply(e,[this].concat(r))||this,i(n,"pauseCoveredView",d,o(n)),n.m_SerialId=void 0,n.m_AssetName=void 0,n.m_UIGroup=void 0,n}t(n,e);var s=n.prototype;return s.internalInit=function(e,n,t,i,o,r,s){this.m_SerialId=e,this.m_AssetName=n,this.m_UIGroup=t,i&&this.onInit(o,r,s)},s.onInit=function(e,n,t){},s.onRecycle=function(){},s.onOpen=function(e,n,t){},s.onClose=function(e,n,t){},s.onPause=function(){},s.onResume=function(){},s.onCover=function(){},s.onReveal=function(){},s.onRefocus=function(e,n,t){},s.onDepthChanged=function(e,n){},r(n,[{key:"serialId",get:function(){return this.m_SerialId}},{key:"assetName",get:function(){return this.m_AssetName}},{key:"uiGroup",get:function(){return this.m_UIGroup}}]),n}(a)).prototype,"pauseCoveredView",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=f))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/UnbiasedTime.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventUtility.ts","./EventBuiltin.ts","./UnbiasedTimeIOS.ts"],(function(t){"use strict";var e,i,s,n,o,m,a,c,f,r;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,s=t.director,n=t.macro,o=t.sys,m=t.game,a=t.Game},function(t){c=t.MEventNames},function(t){f=t.eventDispatcher},function(t){r=t.UnbiasedTimeIOS}],execute:function(){i._RF.push({},"6f5fay3EFtPI4Z3ZXtmGE3m","UnbiasedTime",void 0);t("unbiasedTimer",new(function(){function t(){this.unbiased=!0,this.m_Platform=o.platform,this.m_TimeOffset=0,this.m_CurDate="",this.m_Interval=1,this.m_DayMillisecond=864e5,m.on(a.EVENT_GAME_INITED,this.onGameCreate,this,!0),m.on(a.EVENT_SHOW,this.onGameShow,this,!1),m.on(a.EVENT_HIDE,this.onGameHide,this,!1)}var i=t.prototype;return i.initSchedule=function(){var t=this,e=s.getScheduler();e.schedule((function(){t.refreshTime()}),e,this.m_Interval,n.REPEAT_FOREVER,0,!1)},i.updateTimeOffset=function(){this.unbiased&&(this.m_Platform==o.Platform.ANDROID?this.m_TimeOffset=jsb.reflection.callStaticMethod("com/cocos/game/UnbiasedTime","vtcTimestampOffset","()F"):this.m_Platform==o.Platform.IOS&&(this.m_TimeOffset=r.vtcTimestampOffset()),this.checkTimeOffset())},i.isUsingSystemTime=function(){return!this.unbiased||(this.m_Platform==o.Platform.ANDROID?jsb.reflection.callStaticMethod("com/cocos/game/UnbiasedTime","vtcUsingDeviceTime","()Z"):this.m_Platform==o.Platform.IOS?r.vtcUsingDeviceTime():void 0)},i.onGameCreate=function(){this.unbiased&&this.sessionStart()},i.onGameShow=function(){this.unbiased&&this.sessionStart()},i.onGameHide=function(){this.unbiased&&this.sessionEnd()},i.sessionStart=function(){this.m_Platform==o.Platform.ANDROID?(jsb.reflection.callStaticMethod("com/cocos/game/UnbiasedTime","vtcOnSessionStart","()V"),this.m_TimeOffset=jsb.reflection.callStaticMethod("com/cocos/game/UnbiasedTime","vtcTimestampOffset","()F")):this.m_Platform==o.Platform.IOS&&(r.vtcOnSessionStart(),this.m_TimeOffset=r.vtcTimestampOffset()),this.checkTimeOffset()},i.sessionEnd=function(){this.m_Platform==o.Platform.ANDROID?jsb.reflection.callStaticMethod("com/cocos/game/UnbiasedTime","vtcOnSessionEnd","()V"):this.m_Platform==o.Platform.IOS&&r.vtcOnSessionEnd()},i.checkTimeOffset=function(){this.m_TimeOffset||(this.m_TimeOffset=0)},i.refreshTime=function(){var t=this.date,e=""+t.getFullYear()+t.getMonth()+t.getDate();this.m_CurDate?this.m_CurDate!=e&&(this.m_CurDate=e,f.event(c.NewDayRefresh)):this.m_CurDate=e},e(t,[{key:"date",get:function(){var t=new Date;return this.unbiased&&t.setSeconds(t.getSeconds()+-1*this.m_TimeOffset),t}},{key:"now",get:function(){var t=Date.now();return this.unbiased&&(t+=-1*this.m_TimeOffset*1e3),t}},{key:"tomorrow",get:function(){return new Date(new Date(this.now+this.m_DayMillisecond).toLocaleDateString()).getTime()}}]),t}()));i._RF.pop()}}}));

System.register("chunks:///_virtual/UnbiasedTimeIOS.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"6d0cfFa7zxENoByTsSzntjj","UnbiasedTimeIOS",void 0);var s=t("UnbiasedTimeIOS",function(){function t(){}return t.getTimestamp=function(){return Date.now()/1e3},t.calculateOffset=function(t,e,s,i,n){var a=i-s,f=0;return a>0?(f=e-(t-n+a),this.s_UsingDeviceTime=!1):(f=this.s_LastOffset,this.s_UsingDeviceTime=!0),f},t.getUptime=function(){return jsb.reflection.callStaticMethod("UnbiasedTime","getUptime")},t.getOffset=function(){var t=this.getTimestamp(),e=this.getUptime();return this.calculateOffset(this.s_LastTimestamp,t,this.s_LastUptime,e,this.s_LastOffset)},t.readPreferences=function(){var t=localStorage.getItem(this.localStorageKey);if(t){var e=JSON.parse(t);this.s_LastTimestamp=e.timestamp,this.s_LastUptime=e.uptime,this.s_LastOffset=e.offset}this.s_LastTimestamp||(this.s_LastTimestamp=this.getTimestamp()),this.s_LastUptime||(this.s_LastUptime=this.getUptime()),this.s_LastOffset||(this.s_LastOffset=0)},t.writePreferences=function(){var t={timestamp:this.getTimestamp(),uptime:this.getUptime(),offset:this.getOffset()};localStorage.setItem(this.localStorageKey,JSON.stringify(t))},t.vtcOnSessionStart=function(){this.readPreferences()},t.vtcOnSessionEnd=function(){this.writePreferences()},t.vtcTimestampOffset=function(){return this.getOffset()},t.vtcUptime=function(){return this.getUptime()},t.vtcUsingDeviceTime=function(){return this.s_UsingDeviceTime},t}());s.localStorageKey="unbiasedTime.iOS",s.s_LastTimestamp=0,s.s_LastUptime=0,s.s_LastOffset=0,s.s_UsingDeviceTime=!1,e._RF.pop()}}}));

System.register("chunks:///_virtual/UserBaseConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBuiltin.ts","./DateUtils.ts","./Configable.ts"],(function(n){"use strict";var i,t,e,o,s,a,r,u,c;return{setters:[function(n){i=n.inheritsLoose,t=n.createClass,e=n.assertThisInitialized},function(n){o=n.cclegacy},function(n){s=n.eventDispatcher,a=n.MEventBuiltin},function(n){r=n.default},function(n){u=n.configName,c=n.default}],execute:function(){var f;o._RF.push({},"aad9afM/ftO4KwpE0lzFibx","UserBaseConfig",void 0);var l=u("userBaseConfig")(f=function(n){function o(){var i;return(i=n.call(this)||this).m_LoginTime=0,s.once(a.InitConfig,e(i),i.newDay),i}return i(o,n),o.prototype.newDay=function(){var n=this.m_LoginTime,i=Date.now(),t=!n||!r.sameDay(n,i);this.m_LoginTime=i;var e=c.configMap;for(var o in e){var s=e[o];s&&s.onInit&&"function"==typeof s.onInit&&s.onInit(t)}},t(o,[{key:"loginTime",get:function(){return this.m_LoginTime}}]),o}(c))||f;n("userBaseConfig",new l);o._RF.pop()}}}));

System.register("chunks:///_virtual/ViewButtonListPrefab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationHelper.ts","./NodeUtils.ts"],(function(t){"use strict";var e,i,n,r,a,l,o,s,c,h,u,d,f,p,b,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){l=t.cclegacy,o=t._decorator,s=t.Node,c=t.EventHandler,h=t.Vec3,u=t.Layout,d=t.UITransform,f=t.Label,p=t.Component},function(t){b=t.LocalizationHelper},function(t){_=t.default}],execute:function(){var v,g,m,y,D,I,L,w,E,k,C,N,z;l._RF.push({},"46a56H676FK/6JdkYVWEQEU","ViewButtonListPrefab",void 0);var A=o.ccclass,P=o.property;t("ViewButtonListPrefab",(v=A("ViewButtonListPrefab"),g=P(s),m=P(s),y=P(s),D=P(s),I=P({type:c}),v((E=e((w=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,n(e,"bg_template",E,r(e)),n(e,"lab_template",k,r(e)),n(e,"bg_par",C,r(e)),n(e,"lab_par",N,r(e)),n(e,"selectedEvent",z,r(e)),e._buttonNodeList=null,e._viewData=null,e._lockArray=[],e._v3=new h,e._selectedID=-1,e}i(e,t);var l=e.prototype;return l.onLoad=function(){this.bg_template.active=!1,this.lab_template.active=!1},l.setData=function(t,e){this._viewData=t,this.setLock(e),this.initUI(),this.selectedID<0?this.selectedID=0:this.refreshSelect()},l.setLock=function(t){t&&t.length?this._lockArray=t:this._lockArray=[]},l.onEnable=function(){this.refreshUI()},l.initUI=function(){var t=this;if(!this._viewData)return this.node.active=!1;this._buttonNodeList=[];var e=this.bg_par.getComponent(u);this.bg_par.children.length&&this.bg_par.removeAllChildren(),this.lab_par.children.length&&this.lab_par.removeAllChildren(),this._viewData.forEach((function(e,i){var n=_.instantiate(t.bg_template);n.active=-1==t._lockArray.indexOf(i),t.bg_par.addChild(n),t._buttonNodeList[i]=n,n.name=""+i})),e.enabled=!0,e.updateLayout(),e.enabled=!1,this.node.getComponent(d).width=this.bg_par.getComponent(d).width,this._buttonNodeList.forEach((function(e,i){var n=_.instantiate(t.lab_template);t.lab_par.addChild(n),n.active=-1==t._lockArray.indexOf(i),e.getWorldPosition(t._v3),n.setWorldPosition(t._v3)})),this.refreshUI()},l.refreshUI=function(){var t=this;this.lab_par.children.forEach((function(e,i){e.getComponentsInChildren(f).forEach((function(e){e.string=b.getString(t._viewData[i])}))}))},l.refreshSelect=function(){var t=this,e=this._buttonNodeList.length-1;this._buttonNodeList.forEach((function(i,n){var r=n==t.selectedID;i.setSiblingIndex(r?99:e-n),i.children[0].active=!r,i.children[1].active=r})),this.lab_par.children.forEach((function(e,i){var n=i==t.selectedID;e.children[0].active=!n,e.children[1].active=n}))},l.clickButton=function(t){var e=Number(t.target.name);this.selectedID=e},a(e,[{key:"selectedID",get:function(){return this._selectedID},set:function(t){-1==this._lockArray.indexOf(t)&&t!=this._selectedID&&(this._selectedID=t,c.emitEvents([this.selectedEvent],this._buttonNodeList[this._selectedID],this._selectedID),this.refreshSelect())}}]),e}(p)).prototype,"bg_template",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(w.prototype,"lab_template",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(w.prototype,"bg_par",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(w.prototype,"lab_par",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(w.prototype,"selectedEvent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),L=w))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/WarehouseConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./Configable.ts","./UnbiasedTime.ts","./DataTableManager.ts","./Debugtest_game.ts","./DataTable.ts","./ItemConfig.ts"],(function(e){"use strict";var t,r,o,n,a,i,u,c,s,_,h,f,m,g;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,o=e._decorator,n=e.director,a=e.macro},function(e){i=e.default},function(e){u=e.configName,c=e.default},function(e){s=e.unbiasedTimer},function(e){_=e.dataTableManager},function(e){h=e.debugtest},function(e){f=e.EDataTables},function(e){m=e.itemConfig,g=e.EItemEnum}],execute:function(){var l;r._RF.push({},"252611xM2tGGo9qwsK8bxvZ","WarehouseConfig",void 0);o.ccclass,o.property;var v=u("WarehouseConfig")(l=function(e){function r(){for(var t,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))||this).tree_count_arr=[0,0,0,0,0],t.tree_time_900_arr=[0,0,0,0,0],t.tree_time_7200_arr=[0,0,0,0,0],t.power_recover_time=0,t}t(r,e);var o=r.prototype;return o.useTree=function(e){this.tree_count_arr[e]++,i.info("click tree times:",this.tree_count_arr);var t=_.getData(f.Constant,22).Value,r=_.getData(f.Constant,23).Value,o=_.getData(f.Constant,24).Value,n=_.getData(f.Constant,25).Value;this.tree_count_arr[e]%o==0?(this.tree_count_arr[e]=0,this.tree_time_7200_arr[e]=s.now+1e3*n):this.tree_count_arr[e]%t==0&&(this.tree_time_900_arr[e]=s.now+1e3*r)},o.check_auto_shake=function(e){return-1!=[1,3,5,7,9,11,13,15,17,19,21,35,37,39,41,43,45,47,49,51,53,55,101,102,103,104,105,201,202,203,204,205,301,302,303,304,305,401,402,403,404,405,501,502,503,504,505].indexOf(e)},o.clearTreeCd=function(e){this.tree_time_7200_arr[e]=0,this.tree_time_900_arr[e]=0},o.checkWarehouseFull=function(){for(var e=m.getWarehouseArr(),t=0;t<48;t++)if(!e[t])return!1;return!0},o.getWarehouseEmptyNum=function(){for(var e=0,t=m.getWarehouseArr(),r=0;r<48;r++)t[r]||e++;return e},o.getNewItem=function(e){for(var t=m.getWarehouseArr(),r=0;r<48;r++)if(!t[r])return t[r]=e,{index:r,id:e};return null},o.changePos=function(e,t){var r=m.getWarehouseArr(),o=r[e],n=r[t];return o?(r[t]=o,r[e]=n,!0):(i.error("exchange pos error:",e,t,r),!1)},o.updateItem=function(e,t){this.clearItem(e);var r=m.getWarehouseArr(),o=r[t];if(o){var n=_.getData(f.Item,o);return 0!=n.NextID&&(r[t]=n.NextID),n.NextID}i.error("update item error:",o)},o.clearItem=function(e){var t=m.getWarehouseArr();t[e]?t[e]=0:i.error("clear item error:",e,t)},o.getPowerRecoveryTime=function(){return this.power_recover_time},o.getItemNum=function(e){for(var t=0,r=m.getWarehouseArr(),o=0;o<r.length;o++)r[o]==e&&t++;return t},o.clearItems=function(e,t){for(var r=m.getWarehouseArr(),o=0;o<r.length;o++)if(r[o]==e&&(this.clearItem(o),--t<=0))return},o._checkPowerRecovery=function(){var e=m.getItemNum(g.power),t=s.now;if(30!=e){0==this.power_recover_time&&(this.power_recover_time=t);var r=18e4;h.power_recovery_soon&&(r=1e4);var o=~~((t-this.power_recover_time)/r),n=Math.min(30-e,o);n>0&&(m.addItem(g.power,n),this.power_recover_time=t)}else this.power_recover_time=0},o.onInit=function(e){for(var t=_.getData(f.Constant,23).Value,r=0;r<this.tree_time_900_arr.length;r++)this.tree_time_900_arr[r]-s.now>1e3*t&&(this.tree_time_900_arr[r]=s.now+1e3*t);for(var o=_.getData(f.Constant,25).Value,n=0;n<this.tree_time_7200_arr.length;n++)this.tree_time_7200_arr[n]-s.now>1e3*o&&(this.tree_time_7200_arr[n]=s.now+1e3*o);this._start_power_time_count(),this._start_power_time_count=function(){}},o._start_power_time_count=function(){var e=this,t=n.getScheduler();t.schedule((function(){e._checkPowerRecovery()}),t,.3,a.REPEAT_FOREVER,0,!1)},r}(c))||l;e("warehouseConfig",new v);r._RF.pop()}}}));

System.register("chunks:///_virtual/WarehouseItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./NodeUtils.ts","./ItemConfig.ts","./TaskConfig.ts","./WarehouseConfig.ts","./Debugtest_game.ts","./DataTable.ts","./EventUtility.ts","./GameUtility.ts","./AudioTool.ts","./GameTool.ts","./ResourceTool.ts","./UIConfig.ts"],(function(e){"use strict";var t,n,i,o,s,a,h,r,c,u,d,l,m,_,f,p,g,y,v,I,w,T,x,C,b,W,E,S,A,k,D,N,U,O,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,h=e.Vec3,r=e.Vec2,c=e.Node,u=e.Input,d=e.Tween,l=e.sp,m=e.Sprite,_=e.tween,f=e.Component},function(e){p=e.default},function(e){g=e.eventDispatcher},function(e){y=e.dataTableManager},function(e){v=e.LocalizationHelper},function(e){I=e.uiManager},function(e){w=e.default},function(e){T=e.itemConfig,x=e.EItemEnum},function(e){C=e.taskConfig,b=e.ETaskType},function(e){W=e.warehouseConfig},function(e){E=e.debugtest},function(e){S=e.EDataTables},function(e){A=e.MEventNames},function(e){k=e.EGameBundles},function(e){D=e.AudioTool,N=e.ESoundType},function(e){U=e.GameTool},function(e){O=e.ResourceTool},function(e){P=e.MUIConfig}],execute:function(){var R,M,V,F,L,B,H;s._RF.push({},"1d51crwzaFITItMq0ZeyJCH","WarehouseItem",void 0);var z=a.ccclass,G=a.property,j=new h(-345,-95,0),q=new r,J=new h,Z=137;e("WarehouseItem",(R=z("WarehouseItem"),M=G({type:c,displayName:"合成特效"}),V=G({type:c,displayName:"可点击特效"}),R((B=t((L=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,i(t,"shine_synt",B,o(t)),i(t,"shine_can_click",H,o(t)),t.m_index=-1,t.assetItem=void 0,t.m_baseVec2=null,t.m_start_drag=null,t.show_shake=!1,t}n(t,e);var s=t.prototype;return s.onDestroy=function(){this.assetItem=null,g.offAllCaller(this),this.node.off(u.EventType.TOUCH_START,this._onTouchStart,this),this.node.off(u.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.off(u.EventType.TOUCH_END,this._onTouchEnd,this),this.node.off(u.EventType.TOUCH_CANCEL,this._onTouchEnd,this)},s.onDisable=function(){d.stopAllByTarget(this.node),this.m_index=-1},s.setData=function(e,t){var n=this;this.shine_synt.getComponent(l.Skeleton).setCompleteListener((function(){n.shine_synt.active=!1})),g.on(A.WarehouseExchangeItem,this,this._exchangeData),g.on(A.WarehouseUpdateItem,this,this._updateData),g.on(A.WarehouseClearItem,this,this._clearNode),g.on(A.WarehouseItemShake,this,this._autoShake),this.m_index=e.index;var i=e.index,o=j.clone().add(new h(i%6*Z,-137*~~(i/6),0));this.node.setPosition(o);var s=this.node.getChildByName("icon");O.setSpriteFrame(k.LoadOnPlay,"Res/Texture/UI/Public/Item/item_"+e.id,s.getComponent(m),t,(function(t,i){(n._check_add_effect(),e.needShine)&&(n.shine_synt.active=!0,n.shine_synt.getComponent(l.Skeleton).setAnimation(1,"animation",!1))})),this.assetItem=t,this.node.on(u.EventType.TOUCH_START,this._onTouchStart,this),this.node.on(u.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(u.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(u.EventType.TOUCH_CANCEL,this._onTouchEnd,this)},s._onTouchStart=function(e){D.play(N.ui_click),g.event(A.WarehouseShowInfo,{item:T.getWarehouseArr()[this.m_index],index:this.m_index}),this.node.setSiblingIndex(99);var t=this.node.position.clone();this.m_baseVec2=new r(t.x,t.y),this.m_start_drag=e.getUILocation()},s._onTouchMove=function(e){e.getUILocation(q);var t=this.m_baseVec2.clone().add(q.subtract(this.m_start_drag));this.node.position=new h(t.x,t.y,0)},s._onTouchEnd=function(e){this.node.getPosition(J);var t=J.subtract(j),n=new r(Math.round(t.x/Z),Math.round(t.y/Z)),i=n.x+6*-n.y,o=T.getWarehouseArr()[this.m_index],s=T.getWarehouseArr()[i],a=y.getData(S.Item,o);if(i==this.m_index||n.x<0||n.x>5||n.y>0||n.y<-7){if(this.node.position=new h(this.m_baseVec2.x,this.m_baseVec2.y,0),0==a.NextID){if(g.event(A.WarehouseResetRemindTime),a.Award)T.addItem(x.clover,~~a.Award,!0),g.event(A.WarehouseShowInfo,null);else{if(W.checkWarehouseFull())return void I.openView(P.TipView,null,{content:v.getString("17_4")});if(0==T.getItemNum(x.power))return void I.openView(P.TipView,null,{content:v.getString("17_6")});T.useItem(x.power,1);var c=this._getRandomItemWithProbability(a.OutputConfig);p.info("click result:",c,a.OutputConfig);if(-1!=[30,31,32,33,106,206,306,406,506,600,601,602].indexOf(c)){var u=y.getData(S.Item,c);u.Award=Math.max(1,u.Award),this._showItemFly(c),T.addItem(c,u.Award,33==c)}else{var d=W.getNewItem(c);d.needShine=!0,g.event(A.WarehouseAddNewItem,d)}g.event(A.WarehouseShowInfo,null)}W.clearItem(this.m_index),w.remove(this.node)}}else s?(g.event(A.WarehouseResetRemindTime),s==o&&0!=a.NextID?(g.event(A.WarehouseShowInfo,null),W.updateItem(this.m_index,i),g.event(A.WarehouseUpdateItem,i),w.remove(this.node)):W.changePos(this.m_index,i)&&(g.event(A.WarehouseExchangeItem,[[this.m_index,i]]),this.node.position=new h(this.m_baseVec2.x,this.m_baseVec2.y),this._check_add_effect())):(W.changePos(this.m_index,i)&&(this.m_index=i,g.event(A.WarehouseShowInfo,{item:T.getWarehouseArr()[i],index:i})),this.node.position=new h(j.x+n.x*Z,j.y+n.y*Z,0))},s._getRandomItemWithProbability=function(e){if(E.ware_item_special)return 34;var t=y.getData(S.OutPut,e),n=t.probability.split("_").map((function(e){return parseInt(e)})),i=U.getRandomWeightIndex(n);return~~t.outputId.split("_")[i]},s._exchangeData=function(e){var t=this;if(-1!=e.indexOf(this.m_index)){var n=this.node.getChildByName("icon"),i=T.getWarehouseArr()[this.m_index];O.setSpriteFrame(k.LoadOnPlay,"Res/Texture/UI/Public/Item/item_"+i,n.getComponent(m),this.assetItem,(function(e,n){t._check_add_effect()}))}},s._updateData=function(e){var t=this;if(this.m_index==e){this.shine_synt.active=!0,this.shine_synt.getComponent(l.Skeleton).setAnimation(1,"animation",!1);var n=this.node.getChildByName("icon"),i=T.getWarehouseArr()[this.m_index];this.node.scale=new h(1,1,1),-1==[106,206,306,406,506].indexOf(i)?O.setSpriteFrame(k.LoadOnPlay,"Res/Texture/UI/Public/Item/item_"+i,n.getComponent(m),this.assetItem,(function(e,i){_(n).to(.1,{scale:new h(1.5,1.5,1.5)}).to(.1,{scale:new h(1,1,1)}).call((function(){t._check_add_effect()})).start()})):(C.addTaskPro(b.GetFiveFlavourBottle),T.addItem(i,1),W.clearItem(this.m_index),g.event(A.WarehouseShowInfo,null),this._showItemFly(i),w.remove(this.node))}},s._clearNode=function(e){this.m_index==e&&(w.remove(this.node),g.event(A.WarehouseShowInfo,null))},s._showItemFly=function(e){if(33!=e){var t=new h(-520,-150,0);e==x.money&&(t=new h(350,600,0)),e==x.diamond&&(t=new h(50,600,0)),e!=x.food0&&e!=x.food1&&e!=x.food2||(t=new h(-520,-300,0));var n=new c,i=this.assetItem.node.getChildByName("mid").getChildByName("effect");n.layer=i.layer,n.addComponent(m),n.scale=new h(.6,.6,.6),n.position=this.node.position.clone(),i.addChild(n),O.setSpriteFrame(k.LoadOnPlay,"Res/Texture/UI/Public/Item/item_"+e,n.getComponent(m),this.assetItem,(function(e,i){var o=n.position.clone().subtract(t).length()/800;_(n).to(o,{position:t}).call((function(){n.destroy()})).start()}))}},s._autoShake=function(e){d.stopAllByTag(9527),-1!=e.indexOf(this.m_index)&&_(this.node).tag(9527).repeatForever(_(this.node).to(.3,{scale:new h(1.2,1.2,1)}).to(.2,{scale:new h(.9,.9,1)}).to(.15,{scale:new h(1.05,1.05,1)}).to(.1,{scale:new h(1,1,1)}).delay(.5).start()).start()},s._check_add_effect=function(){if(this.node.isValid){d.stopAllByTarget(this.node);var e=T.getWarehouseArr()[this.m_index];if(0!=e){var t=y.getData(S.Item,e);t&&0==t.NextID?(this.shine_can_click.active=!0,_(this.node).repeatForever(_(this.node).to(.3,{scale:new h(1.1,1.1,1)}).to(.2,{scale:new h(1,1,1)}).to(.3,{scale:new h(1.1,1.1,1)}).to(.2,{scale:new h(1,1,1)}).to(.3,{scale:new h(1.1,1.1,1)}).to(.2,{scale:new h(1,1,1)}).to(.3,{scale:new h(1.1,1.1,1)}).to(.2,{scale:new h(1,1,1)}).delay(.5).start()).start()):this.shine_can_click.active=!1}}},t}(f)).prototype,"shine_synt",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(L.prototype,"shine_can_click",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=L))||F));s._RF.pop()}}}));

System.register("chunks:///_virtual/WarehousePowerShow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UnbiasedTime.ts","./UIManager.ts","./ItemConfig.ts","./WarehouseConfig.ts","./Debugtest_game.ts","./AudioTool.ts","./GameTool.ts","./UIConfig.ts"],(function(e){"use strict";var t,o,i,n,r,a,u,s,c,l,p,f,m,g,h,b,w,y,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,u=e.Label,s=e.director,c=e.Component},function(e){l=e.unbiasedTimer},function(e){p=e.uiManager},function(e){f=e.itemConfig,m=e.EItemEnum},function(e){g=e.warehouseConfig},function(e){h=e.debugtest},function(e){b=e.AudioTool,w=e.ESoundType},function(e){y=e.GameTool},function(e){d=e.MUIConfig}],execute:function(){var _,v,T,I,P,C,S;r._RF.push({},"f3748hbObpPN6FWw1z3azEs","WarehousePowerShow",void 0);var z=a.ccclass,L=a.property;e("WarehousePowerShow",(_=z("WarehousePowerShow"),v=L({type:u,displayName:""}),T=L({type:u,displayName:""}),_((C=t((P=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"time_lab",C,n(t)),i(t,"numLab",S,n(t)),t}o(t,e);var r=t.prototype;return r.c_clickAdd=function(){b.play(w.ui_click),p.openView(d.ShopDepotView,null,2003)},r.update=function(e){if(s.getTotalFrames()%10==0){var t=l.now,o=g.getPowerRecoveryTime();if(f.getItemNum(m.power)>=30)this.time_lab.string="";else{var i=18e4;h.power_recovery_soon&&(i=1e4);var n=i-(t-o),r=y.getFmtTime(~~(n/1e3),"m");r||(r="00:00"),this.time_lab.string=r}}this.numLab.string=f.getItemNum(m.power)+""},t}(c)).prototype,"time_lab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(P.prototype,"numLab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=P))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/WarehouseReadmeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataTableManager.ts","./UIManager.ts","./UIView.ts","./DataTable.ts","./GameUtility.ts","./AudioTool.ts","./ResourceTool.ts"],(function(e){"use strict";var t,i,a,r,n,o,l,u,c,s,p,m,y,f,b,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.Node,u=e.Sprite},function(e){c=e.dataTableManager},function(e){s=e.uiManager},function(e){p=e.UIView},function(e){m=e.EDataTables},function(e){y=e.EGameBundles},function(e){f=e.AudioTool,b=e.ESoundType},function(e){h=e.ResourceTool}],execute:function(){var _,w,d,v,g,z,N,T,I,R,D,V,U,E,M,P,x,C,L,S,W;n._RF.push({},"0e208xnNExI/J+sULa0Pv9C","WarehouseReadmeView",void 0);var k=o.ccclass,A=o.property;e("WarehouseReadmeView",(_=k("WarehouseReadmeView"),w=A({type:l,displayName:""}),d=A({type:l,displayName:""}),v=A({type:l,displayName:""}),g=A({type:l,displayName:""}),z=A({type:l,displayName:""}),N=A({type:l,displayName:""}),T=A({type:l,displayName:""}),I=A({type:l,displayName:""}),R=A({type:l,displayName:""}),_((U=t((V=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"item_0",U,r(t)),a(t,"item_1",E,r(t)),a(t,"item_2",M,r(t)),a(t,"item_3",P,r(t)),a(t,"item_4",x,r(t)),a(t,"item_5",C,r(t)),a(t,"arrow1",L,r(t)),a(t,"arrow2",S,r(t)),a(t,"arrow3",W,r(t)),t}i(t,e);var n=t.prototype;return n.onOpen=function(e){var t=this;f.play(b.ui_open);var i=c.getData(m.Chain,e).ItemId.split("_");i.length<=2?(this.item_2.active=this.item_3.active=this.item_4.active=this.item_5.active=!1,this.arrow1.active=this.arrow2.active=this.arrow3.active=!1):(this.item_2.active=this.item_3.active=this.item_4.active=this.item_5.active=!0,this.arrow1.active=this.arrow2.active=this.arrow3.active=!0),i.forEach((function(e,i){var a=t["item_"+i];h.setSpriteFrame(y.LoadOnPlay,"Res/Texture/UI/Public/Item/item_"+e,a.getComponent(u),t,(function(e,t){}))}))},n.c_clickClose=function(){f.play(b.ui_click),s.closeView(this)},t}(p)).prototype,"item_0",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(V.prototype,"item_1",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(V.prototype,"item_2",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(V.prototype,"item_3",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(V.prototype,"item_4",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(V.prototype,"item_5",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(V.prototype,"arrow1",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(V.prototype,"arrow2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(V.prototype,"arrow3",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=V))||D));n._RF.pop()}}}));

System.register("chunks:///_virtual/WarehouseView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./EventBuiltin.ts","./UnbiasedTime.ts","./DataTableManager.ts","./LocalizationHelper.ts","./UIManager.ts","./UIView.ts","./NodeUtils.ts","./ItemConfig.ts","./PlayerBaseConfig.ts","./TaskConfig.ts","./WarehouseConfig.ts","./DataTable.ts","./EventUtility.ts","./AudioTool.ts","./GameTool.ts","./ResourceTool.ts","./UIConfig.ts","./TopItemPrefab.ts","./WarehouseItem.ts"],(function(e){"use strict";var t,i,n,a,o,r,l,_,s,c,m,u,f,h,p,g,d,y,v,C,b,w,I,T,N,k,V,B,S,W,x,D,z,A,R,F,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Node,_=e.Label,s=e.find,c=e.tween,m=e.Vec3,u=e.director,f=e.sp,h=e.Sprite},function(e){p=e.default},function(e){g=e.eventDispatcher},function(e){d=e.unbiasedTimer},function(e){y=e.dataTableManager},function(e){v=e.LocalizationHelper},function(e){C=e.uiManager},function(e){b=e.UIView},function(e){w=e.default},function(e){I=e.EItemEnum,T=e.itemConfig},function(e){N=e.playerBaseConfig},function(e){k=e.taskConfig,V=e.ETaskType},function(e){B=e.warehouseConfig},function(e){S=e.EDataTables},function(e){W=e.MEventNames},function(e){x=e.AudioTool,D=e.ESoundType},function(e){z=e.GameTool},function(e){A=e.ResourceTool},function(e){R=e.MUIConfig},function(e){F=e.TopItemPrefab},function(e){O=e.WarehouseItem}],execute:function(){var E,P,U,M,L,G,j,H,q,J,K,Q,X,Y,Z,$,ee,te,ie,ne,ae;o._RF.push({},"78aa2aUif9GGp2oI5cMj/A+","WarehouseView",void 0);var oe=r.ccclass,re=r.property,le=0,_e=0,se=0,ce=(e("WarehouseView",(E=oe("WarehouseView"),P=re({type:l,displayName:""}),U=re({type:l,displayName:""}),M=re({type:l,displayName:""}),L=re({type:l,displayName:""}),G=re({type:l,displayName:""}),j=re({type:_,displayName:""}),H=re({type:_,displayName:""}),q=re({type:_,displayName:""}),J=re({type:l,displayName:""}),E((X=t((Q=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"tree_effect",X,a(t)),n(t,"stop_click_panel",Y,a(t)),n(t,"chain_btn",Z,a(t)),n(t,"m_progresses",$,a(t)),n(t,"m_hecheng_panel",ee,a(t)),n(t,"m_money_lab",te,a(t)),n(t,"m_info_lab",ie,a(t)),n(t,"m_name_lab",ne,a(t)),n(t,"m_info_panel",ae,a(t)),t.m_item_template=null,t.m_click_item_index=0,t.m_showInfo_data=null,t.m_clear_cd_cost=0,t._tree_light_up_index=0,t._shufferDic={0:2,1:4,2:0,3:3,4:1},t}i(t,e);var o=t.prototype;return o.onClose=function(){this.m_showInfo_data=null,this.stop_click_panel.active=!0,g.offAllCaller(this),g.event(W.RefreshRoomAnim)},o.onOpen=function(e){var t=this;le=1e3*y.getData(S.Constant,23).Value,_e=1e3*y.getData(S.Constant,25).Value,se=1e3*y.getData(S.Constant,29).Value,x.play(D.ui_open),"jump_from_research"==e&&C.openView(R.TipView,null,{content:v.getString("21_11")}),0==N.isOpenWarehouse&&(N.isOpenWarehouse=!0,C.openView(R.ExplainView,null,1)),A.addTopItemPrefab(this.node.getChildByName("top").getChildByName("value_container"),(function(e,t){t.getComponent(F).setData({data:[I.diamond,I.money],dir:2})})),g.on(W.WarehouseShowInfo,this,this._showInfo),g.on(W.WarehouseAddNewItem,this,this._create_item),g.on(W.WarehouseResetRemindTime,this,this._reset_remind_time),this.m_info_panel.active=!1,this.m_item_template=s("mid/template",this.node),this.m_item_template.active=!1,s("mid/items",this.node).removeAllChildren();for(var i=T.getWarehouseArr(),n=[],a=function(e){i[e]&&n.push(new Promise((function(n){t.scheduleOnce((function(){t._create_item({index:e,id:i[e]}),n(1)}),.01*e)})))},o=0;o<48;o++)a(o);Promise.all(n).then((function(){t.stop_click_panel.active=!1}));y.getDataTableArray(S.Item);p.info("item",T.getWarehouseArr())},o.c_clickTree=function(e,t){x.play(D.ui_click);if(g.event(W.WarehouseShowInfo,{item:[100,200,300,400,500][t],index:-1}),B.checkWarehouseFull())C.openView(R.TipView,null,{content:v.getString("17_4")});else{var i=B.tree_time_900_arr[t],n=B.tree_time_7200_arr[t];if(d.now<i||d.now<n)C.openView(R.TipView,null,{content:v.getString("17_12")});else if(0!=T.getItemNum(I.power)){k.addTaskPro(V.ClickFiveFlavourTree),me=0,T.useItem(I.power,1),B.useTree(t);var a=B.getNewItem([101,201,301,401,501][t]);this._create_item(a)}else C.openView(R.TipView,null,{content:v.getString("17_6")})}},o._create_item=function(e){var t=w.instantiate(this.m_item_template);t.active=!0,s("mid/items",this.node).addChild(t),t.getComponent(O).setData(e,this)},o.c_clickClose=function(){x.play(D.ui_click),C.closeView(this)},o._showInfo=function(e){if("old"==e&&(e=this.m_showInfo_data),this.m_showInfo_data=e,e){var t=e.item;this.m_click_item_index=e.index;var i=y.getData(S.Item,t);this.chain_btn.active=0!=i.ChainConfig,this.m_info_panel.active=!0,this.m_name_lab.string=v.getString(i.Name),this.m_info_lab.string=v.getString(i.Info);var n=[100,200,300,400,500];if(this.m_info_panel.getChildByName("sale").active=-1==n.indexOf(t),this.m_info_panel.getChildByName("clear_cd").active=-1!=n.indexOf(t),-1!=n.indexOf(t)){var a=this.m_info_panel.getChildByName("clear_cd"),o=d.now,r=n.indexOf(t),l=0;if(o<B.tree_time_7200_arr[r]&&(l=B.tree_time_7200_arr[r]-o),o<B.tree_time_900_arr[r]&&(l=B.tree_time_900_arr[r]-o),0!=l){a.active=!0;var c=z.getFmtTime(~~(l/1e3),"m");a.getChildByName("time_lab").getComponent(_).string=v.getString("17_5",[c]),this.m_clear_cd_cost=1+~~(l/se),s("soon_btn/money_lab",a).getComponent(_).string=""+this.m_clear_cd_cost}else a.active=!1}this.m_money_lab.string=i.Sale+""}else this.m_info_panel.active=!1},o.c_open_hecheng=function(e,t){x.play(D.ui_click),this.m_hecheng_panel.active=!0;var i=this.m_hecheng_panel.getChildByName("guodi");i.active=0==t;for(var n=[I.sour,I.sweet,I.bitter,I.spicy,I.salty],a=0;a<5;a++)i.getChildByName("lab_"+a).getComponent(_).string=T.getItemNum(n[a])+"";var o=this.m_hecheng_panel.getChildByName("caipin");o.active=1==t;for(var r=[I.food0,I.food1,I.food2],l=0;l<3;l++)o.getChildByName("lab_"+l).getComponent(_).string=T.getItemNum(r[l])+"";c(this.m_hecheng_panel).to(.3,{position:new m(0,0,0)}).start()},o.c_hide_guodi_caipin=function(){var e=this;c(this.m_hecheng_panel).to(.2,{position:new m(-180,0,0)}).call((function(){e.m_hecheng_panel.active=!1})).start()},o.c_sell_item=function(){var e=this;x.play(D.ui_click),C.openView(R.ConfirmView,null,{title:v.getString("2_10"),desc:v.getString("17_2"),content:v.getString("17_3"),okCallback:function(){if(e.m_showInfo_data){var t=y.getData(S.Item,e.m_showInfo_data.item);T.addItem(I.money,t.Sale||1)}B.clearItem(e.m_click_item_index),g.event(W.WarehouseClearItem,e.m_click_item_index),e._flushTreeInfoCd()}})},o.c_clear_cd=function(){if(x.play(D.ui_click),this.m_clear_cd_cost,T.getItemNum(I.diamond)>=this.m_clear_cd_cost){T.useItem(I.diamond,this.m_clear_cd_cost);var e=[100,200,300,400,500].indexOf(this.m_showInfo_data.item);B.clearTreeCd(e),this._flushTreeInfoCd()}else C.openView(R.TipView,null,{content:v.getString("1_18")})},o.c_open_research=function(e,t){x.play(D.ui_click),this.c_clickClose(),C.openView(R.ResearchView,null,t)},o.c_open_readme=function(){x.play(D.ui_click);var e=y.getData(S.Item,this.m_showInfo_data.item);e&&e.ChainConfig?C.openView(R.WarehouseReadmeView,null,e.ChainConfig):p.error("chain data error:",e)},o.update=function(e){if(u.getTotalFrames()%80==0&&(this._tree_light_up_index=++this._tree_light_up_index%5,this.tree_effect.getChildByName("effect_"+this._shufferDic[this._tree_light_up_index]).getChildByName("up").getComponent(f.Skeleton).setAnimation(1,"up",!1)),u.getTotalFrames()%30==0&&this._flushTreeInfoCd(),me+=e,u.getTotalFrames()%50==0&&me>=ce){me=4;for(var t=T.getWarehouseArr(),i=0;i<t.length;i++)if(B.check_auto_shake(t[i])){var n=i,a=t.indexOf(t[i],n+1);if(-1!=n&&-1!=a&&a!=n)return void g.event(W.WarehouseItemShake,[[n,a]])}}},o._flushTreeInfoCd=function(){for(var e=d.now,t=0;t<5;t++){var i=this.m_progresses.getChildByName("progress_"+t),n=0;this.tree_effect.getChildByName("effect_"+t).active=!1,e<B.tree_time_7200_arr[t]?(i.active=!0,n=B.tree_time_7200_arr[t]-e,i.getChildByName("bar").getComponent(h).fillRange=(_e-n)/_e,i.getChildByName("time_lab").getComponent(_).string=z.getFmtTime(~~(n/1e3),"m")):e<B.tree_time_900_arr[t]?(i.active=!0,n=B.tree_time_900_arr[t]-e,i.getChildByName("bar").getComponent(h).fillRange=(le-n)/le,i.getChildByName("time_lab").getComponent(_).string=z.getFmtTime(~~(n/1e3),"m")):(i.active=!1,this.tree_effect.getChildByName("effect_"+t).active=!0)}this._showInfo("old")},o._reset_remind_time=function(){me=0},t}(b)).prototype,"tree_effect",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(Q.prototype,"stop_click_panel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(Q.prototype,"chain_btn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(Q.prototype,"m_progresses",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(Q.prototype,"m_hecheng_panel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Q.prototype,"m_money_lab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(Q.prototype,"m_info_lab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(Q.prototype,"m_name_lab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(Q.prototype,"m_info_panel",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=Q))||K)),5),me=0;o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});