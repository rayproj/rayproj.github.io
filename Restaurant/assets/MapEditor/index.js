System.register("chunks:///_virtual/MapEditor",["./MapEditor.ts","./SpineTest.ts"],(function(){"use strict";return{setters:[null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MapEditor.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,o,n,a,r,s,l,d,h,u,c,m,p,g,b,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Node,l=e.Label,d=e.v3,h=e.v2,u=e.ScrollView,c=e.view,m=e.UITransform,p=e.size,g=e.instantiate,b=e.sys,_=e.Component}],execute:function(){var f,y,v,D,N,C,L,M,w,H,E;a._RF.push({},"b60e8rN4V9Ls71SY4Ui8Sgl","MapEditor",void 0);var S=r.ccclass,T=r.property;e("MapEditor",(f=S("MapEditor"),y=T({type:s,displayName:"Debug Node"}),v=T({type:s,displayName:"Debug Layer"}),D=T({type:l,displayName:"Debug Label"}),N=T({type:s,displayName:"Content Node"}),f((M=t((L=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,o(t,"m_DebugNode",M,n(t)),o(t,"m_DebugLayer",w,n(t)),o(t,"m_DebugLabel",H,n(t)),o(t,"m_ContentNode",E,n(t)),t.m_MapConfig=void 0,t.m_DebugNodes=[],t.m_MapData=[],t.m_CurrNode=void 0,t.m_Vec0=d(),t.m_Vec1=h(),t.m_Vec2=h(),t}i(t,e);var a=t.prototype;return a.start=function(){var e=this,t=this.m_ContentNode,i=t.parent,o=i.getComponent(u);i.targetOff(o),i.on(s.EventType.MOUSE_WHEEL,o._onMouseWheel,o,!0),t.on(s.EventType.TOUCH_START,this.onTouchStart,this),t.on(s.EventType.TOUCH_MOVE,(function(t){e.onTouchStart(t,!0)}),this);this.createMap({name:"Kitchen_Lobby_PrivateRoom",mapWidth:3240,mapHeight:1920,nodeWidth:100,nodeHeight:50})},a.onDestroy=function(){this.m_ContentNode.targetOff(this)},a.onSaveClick=function(){var e=this.m_MapConfig,t={name:e.name,mapWidth:e.mapWidth,mapHeight:e.mapHeight,nodeWidth:e.nodeWidth,nodeHeight:e.nodeHeight,mapData:this.m_MapData};this.saveFile(JSON.stringify(t),t.name)},a.onReadClick=function(){this.readFile()},a.onTouchStart=function(e,t){void 0===t&&(t=!1);var i=c.getVisibleSize(),o=.5*i.width,n=.5*i.height,a=this.m_ContentNode,r=this.m_Vec0,s=this.m_Vec1;e.getUILocation(s),a.getPosition(r),s.x=s.x-o-r.x,s.y=s.y-n-r.y;var l=this.getWorldPointByPixel(s.x,s.y),d=l.x,h=l.y;this.m_DebugLabel.string=h+","+d;var u=this.m_DebugNodes;if(d<u.length&&h<u[0].length){var m=this.m_DebugNodes[d][h];if(m&&(!t||!this.m_CurrNode||this.m_CurrNode!=m)){this.m_CurrNode=m;var p=!m.active,g=m.active?1:0;m.active=p,this.m_MapData[d][h]=g}}},a.getWorldPointByPixel=function(e,t){var i=this.m_Vec2,o=this.m_MapConfig;return e+=.5*o.mapWidth,t+=.5*o.mapHeight,i.y=Math.floor(e/o.nodeWidth),i.x=Math.floor(t/o.nodeHeight),i},a.createMap=function(e){this.m_DebugLayer.destroyAllChildren(),this.m_CurrNode=null,this.m_MapConfig=e;var t=this.m_DebugNodes;t.length=0;var i=this.m_MapData;i.length=0;var o=e.mapWidth,n=e.mapHeight,a=e.nodeWidth,r=e.nodeHeight,s=.5*a,l=.5*r;this.initDebugNode(a,r);for(var d=-o/2,h=-n/2,u=Math.floor(n/r),c=Math.floor(o/a),m=e.mapData,p=0;p<u;p++){t[p]||(t[p]=[]),i[p]||(i[p]=[]);for(var g=0;g<c;g++){var b=d+s+g*a,_=h+l+p*r;if(m){var f=m[p][g],y=this.getDebugNode(b,_);i[p][g]=f,y.active=0==f,t[p][g]=y}else i[p][g]=0,t[p][g]=this.getDebugNode(b,_)}}},a.initDebugNode=function(e,t){this.m_DebugNode.getComponent(m).setContentSize(p(e-1,t-1))},a.getDebugNode=function(e,t){var i=g(this.m_DebugNode),o=this.m_Vec0;return o.set(e,t),i.setPosition(o),i.setParent(this.m_DebugLayer),i.active=!0,i},a.saveFile=function(e,t){if(b.isBrowser){var i=new Blob([e],{type:"application/json"}),o=document.createElement("a");o.download=t,o.innerHTML="Download File",null!=window.webkitURL?o.href=window.webkitURL.createObjectURL(i):(o.href=window.URL.createObjectURL(i),o.style.display="none",document.body.appendChild(o)),o.click()}},a.readFile=function(){var e=this,t=document.createElement("input");t.setAttribute("type","file"),t.addEventListener("change",(function(t){var i=t.target.files[0],o=new FileReader;o.readAsText(i,"utf-8"),o.onload=function(t){var i=t.target.result,o=JSON.parse(i);e.createMap(o)}})),document.body.appendChild(t),t.click()},a.update=function(e){var t=this.m_Vec0;this.m_ContentNode.getPosition(t),this.m_DebugLayer.setPosition(t)},t}(_)).prototype,"m_DebugNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(L.prototype,"m_DebugLayer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(L.prototype,"m_DebugLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(L.prototype,"m_ContentNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=L))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/SpineTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,o=t.Component}],execute:function(){var s;n._RF.push({},"8db15wbdeNBRK+H7OTwm0WN","SpineTest",void 0);var i=r.ccclass;r.property,t("SpineTest",i("SpineTest")(s=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.start=function(){},r.update=function(t){},n}(o))||s);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/MapEditor', 'chunks:///_virtual/MapEditor'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});